"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/tags";
exports.ids = ["pages/api/tags"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/apple":
/*!********************************************!*\
  !*** external "next-auth/providers/apple" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/apple");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/providers/facebook":
/*!***********************************************!*\
  !*** external "next-auth/providers/facebook" ***!
  \***********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/facebook");

/***/ }),

/***/ "next-auth/providers/google":
/*!*********************************************!*\
  !*** external "next-auth/providers/google" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/google");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftags&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Ftags%2Findex.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftags&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Ftags%2Findex.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_tags_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/tags/index.ts */ \"(api)/./pages/api/tags/index.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_tags_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_tags_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/tags\",\n        pathname: \"/api/tags\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_tags_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnRhZ3MmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRnRhZ3MlMkZpbmRleC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNzRDtBQUN0RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMscURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHFEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JhdGVteS1uZXh0anMvPzZlNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS90YWdzL2luZGV4LnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdGFnc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3RhZ3NcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftags&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Ftags%2Findex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/tags/index.ts":
/*!*********************************!*\
  !*** ./pages/api/tags/index.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _src_lib_api_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/src/lib/api-handler */ \"(api)/./src/lib/api-handler.ts\");\n/* harmony import */ var _src_services_tag_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/src/services/tag.service */ \"(api)/./src/services/tag.service.ts\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_src_lib_api_handler__WEBPACK_IMPORTED_MODULE_0__.createApiRoute)({\n    GET: async (ctx)=>{\n        const { q: query } = ctx.req.query;\n        if (query && typeof query === \"string\") {\n            // Search for tags matching the query\n            const result = await _src_services_tag_service__WEBPACK_IMPORTED_MODULE_1__.tagService.searchTags(query);\n            return result;\n        } else {\n            // Get all tags\n            const result = await _src_services_tag_service__WEBPACK_IMPORTED_MODULE_1__.tagService.getAllTags();\n            return result;\n        }\n    }\n}, {\n    methods: [\n        \"GET\"\n    ],\n    requireAuth: false\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdGFncy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0Q7QUFDQztBQUV2RCxpRUFBZUEsb0VBQWNBLENBQUM7SUFDNUJFLEtBQUssT0FBT0M7UUFDVixNQUFNLEVBQUVDLEdBQUdDLEtBQUssRUFBRSxHQUFHRixJQUFJRyxHQUFHLENBQUNELEtBQUs7UUFFbEMsSUFBSUEsU0FBUyxPQUFPQSxVQUFVLFVBQVU7WUFDdEMscUNBQXFDO1lBQ3JDLE1BQU1FLFNBQVMsTUFBTU4saUVBQVVBLENBQUNPLFVBQVUsQ0FBQ0g7WUFDM0MsT0FBT0U7UUFDVCxPQUFPO1lBQ0wsZUFBZTtZQUNmLE1BQU1BLFNBQVMsTUFBTU4saUVBQVVBLENBQUNRLFVBQVU7WUFDMUMsT0FBT0Y7UUFDVDtJQUNGO0FBQ0YsR0FBRztJQUNERyxTQUFTO1FBQUM7S0FBTTtJQUNoQkMsYUFBYTtBQUNmLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYXRlbXktbmV4dGpzLy4vcGFnZXMvYXBpL3RhZ3MvaW5kZXgudHM/ZGExZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVBcGlSb3V0ZSB9IGZyb20gJ0Avc3JjL2xpYi9hcGktaGFuZGxlcidcbmltcG9ydCB7IHRhZ1NlcnZpY2UgfSBmcm9tICdAL3NyYy9zZXJ2aWNlcy90YWcuc2VydmljZSdcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQXBpUm91dGUoe1xuICBHRVQ6IGFzeW5jIChjdHgpID0+IHtcbiAgICBjb25zdCB7IHE6IHF1ZXJ5IH0gPSBjdHgucmVxLnF1ZXJ5XG4gICAgXG4gICAgaWYgKHF1ZXJ5ICYmIHR5cGVvZiBxdWVyeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIFNlYXJjaCBmb3IgdGFncyBtYXRjaGluZyB0aGUgcXVlcnlcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRhZ1NlcnZpY2Uuc2VhcmNoVGFncyhxdWVyeSlcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gR2V0IGFsbCB0YWdzXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0YWdTZXJ2aWNlLmdldEFsbFRhZ3MoKVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cbiAgfVxufSwge1xuICBtZXRob2RzOiBbJ0dFVCddLFxuICByZXF1aXJlQXV0aDogZmFsc2Vcbn0pIl0sIm5hbWVzIjpbImNyZWF0ZUFwaVJvdXRlIiwidGFnU2VydmljZSIsIkdFVCIsImN0eCIsInEiLCJxdWVyeSIsInJlcSIsInJlc3VsdCIsInNlYXJjaFRhZ3MiLCJnZXRBbGxUYWdzIiwibWV0aG9kcyIsInJlcXVpcmVBdXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/tags/index.ts\n");

/***/ }),

/***/ "(api)/./src/lib/api-handler.ts":
/*!********************************!*\
  !*** ./src/lib/api-handler.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CRUD: () => (/* binding */ CRUD),\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT),\n/* harmony export */   createApiRoute: () => (/* binding */ createApiRoute),\n/* harmony export */   errorResponse: () => (/* binding */ errorResponse),\n/* harmony export */   rateLimit: () => (/* binding */ rateLimit),\n/* harmony export */   requireAuth: () => (/* binding */ requireAuth),\n/* harmony export */   successResponse: () => (/* binding */ successResponse),\n/* harmony export */   validateBody: () => (/* binding */ validateBody),\n/* harmony export */   validateQuery: () => (/* binding */ validateQuery),\n/* harmony export */   withPagination: () => (/* binding */ withPagination)\n/* harmony export */ });\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth */ \"(api)/./src/lib/auth.ts\");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors */ \"(api)/./src/lib/errors.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./logger */ \"(api)/./src/lib/logger.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ \"(api)/./src/lib/constants.ts\");\n\n\n\n\n\n// Main API route wrapper\nfunction createApiRoute(handlers, config = {}) {\n    const { methods = Object.keys(handlers), requireAuth = false } = config;\n    return async (req, res)=>{\n        const startTime = Date.now();\n        const { method = \"GET\" } = req;\n        let user;\n        // Enhanced request logging\n        _logger__WEBPACK_IMPORTED_MODULE_3__.logger.debug(\"API Request Starting\", {\n            method,\n            url: req.url,\n            userAgent: req.headers[\"user-agent\"],\n            ip: req.connection.remoteAddress || req.headers[\"x-forwarded-for\"],\n            contentType: req.headers[\"content-type\"],\n            origin: req.headers.origin\n        });\n        try {\n            // Check if method is allowed\n            if (!methods.includes(method)) {\n                return res.status(_constants__WEBPACK_IMPORTED_MODULE_4__.HTTP_STATUS.METHOD_NOT_ALLOWED).json({\n                    success: false,\n                    message: `Method ${method} not allowed`,\n                    error: \"METHOD_NOT_ALLOWED\"\n                });\n            }\n            // Get user session if auth is required\n            if (requireAuth) {\n                const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(req, res, _auth__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n                if (!session?.user) {\n                    return res.status(_constants__WEBPACK_IMPORTED_MODULE_4__.HTTP_STATUS.UNAUTHORIZED).json({\n                        success: false,\n                        message: \"Authentication required\",\n                        error: \"UNAUTHORIZED\"\n                    });\n                }\n                user = session.user;\n            }\n            // Create API context\n            const ctx = {\n                req,\n                res,\n                user\n            };\n            // Get handler for method\n            const handler = handlers[method];\n            if (!handler) {\n                return res.status(_constants__WEBPACK_IMPORTED_MODULE_4__.HTTP_STATUS.METHOD_NOT_ALLOWED).json({\n                    success: false,\n                    message: `Handler for ${method} not found`,\n                    error: \"METHOD_NOT_ALLOWED\"\n                });\n            }\n            // Execute handler\n            const result = await handler(ctx);\n            // Log successful request\n            const duration = Date.now() - startTime;\n            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logApiRequest)(method, req.url || \"\", user?.id, duration);\n            // Send response if not already sent\n            if (!res.headersSent) {\n                res.status(_constants__WEBPACK_IMPORTED_MODULE_4__.HTTP_STATUS.OK).json(result);\n            }\n        } catch (error) {\n            const duration = Date.now() - startTime;\n            (0,_logger__WEBPACK_IMPORTED_MODULE_3__.logApiError)(method, req.url || \"\", error, user?.id);\n            // Handle known application errors\n            if ((0,_errors__WEBPACK_IMPORTED_MODULE_2__.isAppError)(error)) {\n                const serializedError = (0,_errors__WEBPACK_IMPORTED_MODULE_2__.serializeError)(error, false);\n                return res.status(error.statusCode).json({\n                    success: false,\n                    message: error.message,\n                    error: error.code,\n                    ...error.context && {\n                        context: error.context\n                    }\n                });\n            }\n            // Handle unknown errors\n            _logger__WEBPACK_IMPORTED_MODULE_3__.logger.error(\"Unhandled API error\", {\n                method,\n                url: req.url,\n                error: error instanceof Error ? error.message : error,\n                stack: error instanceof Error ? error.stack : undefined,\n                userId: user?.id\n            });\n            return res.status(_constants__WEBPACK_IMPORTED_MODULE_4__.HTTP_STATUS.INTERNAL_SERVER_ERROR).json({\n                success: false,\n                message: \"Internal server error\",\n                error: \"INTERNAL_SERVER_ERROR\"\n            });\n        }\n    };\n}\n// Utility to require authentication\nfunction requireAuth(handler) {\n    return async (ctx)=>{\n        if (!ctx.user) {\n            throw new _errors__WEBPACK_IMPORTED_MODULE_2__.AuthenticationError(\"Authentication required\");\n        }\n        return handler(ctx);\n    };\n}\n// Utility to validate request body\nfunction validateBody(schema, handler) {\n    return async (ctx)=>{\n        try {\n            const validatedBody = schema.parse(ctx.req.body);\n            return handler(ctx, validatedBody);\n        } catch (error) {\n            if (error instanceof Error && \"errors\" in error) {\n                const zodError = error;\n                const firstError = zodError.errors[0];\n                throw new _errors__WEBPACK_IMPORTED_MODULE_2__.AppError(firstError.message, \"VALIDATION_ERROR\", _constants__WEBPACK_IMPORTED_MODULE_4__.HTTP_STATUS.BAD_REQUEST, true, {\n                    field: firstError.path.join(\".\"),\n                    errors: zodError.errors\n                });\n            }\n            throw error;\n        }\n    };\n}\n// Utility to validate query parameters\nfunction validateQuery(schema, handler) {\n    return async (ctx)=>{\n        try {\n            const validatedQuery = schema.parse(ctx.req.query);\n            return handler(ctx, validatedQuery);\n        } catch (error) {\n            if (error instanceof Error && \"errors\" in error) {\n                const zodError = error;\n                const firstError = zodError.errors[0];\n                throw new _errors__WEBPACK_IMPORTED_MODULE_2__.AppError(firstError.message, \"VALIDATION_ERROR\", _constants__WEBPACK_IMPORTED_MODULE_4__.HTTP_STATUS.BAD_REQUEST, true, {\n                    field: firstError.path.join(\".\"),\n                    errors: zodError.errors\n                });\n            }\n            throw error;\n        }\n    };\n}\n// Utility for pagination\nfunction withPagination(handler) {\n    return async (ctx)=>{\n        const page = parseInt(ctx.req.query.page) || 1;\n        const limit = Math.min(parseInt(ctx.req.query.limit) || 12, 50) // Max 50 items per page\n        ;\n        return handler(ctx, {\n            page,\n            limit\n        });\n    };\n}\n// Response helpers\nfunction successResponse(data, message) {\n    return {\n        success: true,\n        data,\n        ...message && {\n            message\n        }\n    };\n}\nfunction errorResponse(message, code) {\n    return {\n        success: false,\n        message,\n        ...code && {\n            error: code\n        }\n    };\n}\n// Method-specific handlers\nconst GET = (handler)=>({\n        GET: handler\n    });\nconst POST = (handler)=>({\n        POST: handler\n    });\nconst PUT = (handler)=>({\n        PUT: handler\n    });\nconst DELETE = (handler)=>({\n        DELETE: handler\n    });\nconst PATCH = (handler)=>({\n        PATCH: handler\n    });\n// Combined method handlers\nconst CRUD = {\n    GET: (handler)=>handler,\n    POST: (handler)=>handler,\n    PUT: (handler)=>handler,\n    DELETE: (handler)=>handler\n};\n// Rate limiting (simple in-memory implementation for development)\nconst requestCounts = new Map();\nfunction rateLimit(windowMs = 15 * 60 * 1000, maxRequests = 100) {\n    return (handler)=>{\n        return async (ctx)=>{\n            const key = ctx.req.headers[\"x-forwarded-for\"] || ctx.req.connection.remoteAddress || \"unknown\";\n            const now = Date.now();\n            const windowStart = now - windowMs;\n            const requestData = requestCounts.get(key);\n            if (!requestData || requestData.resetTime < windowStart) {\n                requestCounts.set(key, {\n                    count: 1,\n                    resetTime: now\n                });\n                return handler(ctx);\n            }\n            if (requestData.count >= maxRequests) {\n                throw new _errors__WEBPACK_IMPORTED_MODULE_2__.AppError(\"Too many requests\", \"RATE_LIMIT_EXCEEDED\", _constants__WEBPACK_IMPORTED_MODULE_4__.HTTP_STATUS.TOO_MANY_REQUESTS);\n            }\n            requestData.count++;\n            return handler(ctx);\n        };\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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akNDLGNBQXNCLEdBQUc7SUFFekIsT0FBTyxDQUFDakQ7UUFDTixPQUFPLE9BQU9EO1lBQ1osTUFBTW1ELE1BQU1uRCxJQUFJekIsR0FBRyxDQUFDVSxPQUFPLENBQUMsa0JBQWtCLElBQ2pDZSxJQUFJekIsR0FBRyxDQUFDWSxVQUFVLENBQUNDLGFBQWEsSUFDaEM7WUFFYixNQUFNVCxNQUFNRCxLQUFLQyxHQUFHO1lBQ3BCLE1BQU15RSxjQUFjekUsTUFBTXNFO1lBRTFCLE1BQU1JLGNBQWNQLGNBQWNRLEdBQUcsQ0FBQ0g7WUFFdEMsSUFBSSxDQUFDRSxlQUFlQSxZQUFZRSxTQUFTLEdBQUdILGFBQWE7Z0JBQ3ZETixjQUFjVSxHQUFHLENBQUNMLEtBQUs7b0JBQUVNLE9BQU87b0JBQUdGLFdBQVc1RTtnQkFBSTtnQkFDbEQsT0FBT3NCLFFBQVFEO1lBQ2pCO1lBRUEsSUFBSXFELFlBQVlJLEtBQUssSUFBSVAsYUFBYTtnQkFDcEMsTUFBTSxJQUFJMUYsNkNBQVFBLENBQ2hCLHFCQUNBLHVCQUNBTyxtREFBV0EsQ0FBQzJGLGlCQUFpQjtZQUVqQztZQUVBTCxZQUFZSSxLQUFLO1lBQ2pCLE9BQU94RCxRQUFRRDtRQUNqQjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYXRlbXktbmV4dGpzLy4vc3JjL2xpYi9hcGktaGFuZGxlci50cz8xZTdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9uZXh0J1xuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICcuL2F1dGgnXG5pbXBvcnQgeyBcbiAgQXBwRXJyb3IsIFxuICBpc0FwcEVycm9yLCBcbiAgc2VyaWFsaXplRXJyb3IsXG4gIEF1dGhlbnRpY2F0aW9uRXJyb3IgXG59IGZyb20gJy4vZXJyb3JzJ1xuaW1wb3J0IHsgbG9nZ2VyLCBsb2dBcGlSZXF1ZXN0LCBsb2dBcGlFcnJvciB9IGZyb20gJy4vbG9nZ2VyJ1xuaW1wb3J0IHsgSFRUUF9TVEFUVVMgfSBmcm9tICcuL2NvbnN0YW50cydcbmltcG9ydCB7IEFwaVJlc3BvbnNlIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBpQ29udGV4dCB7XG4gIHJlcTogTmV4dEFwaVJlcXVlc3RcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2VcbiAgdXNlcj86IHtcbiAgICBpZDogc3RyaW5nXG4gICAgZW1haWw6IHN0cmluZ1xuICAgIHVzZXJuYW1lOiBzdHJpbmdcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBBcGlIYW5kbGVyID0gKGN0eDogQXBpQ29udGV4dCkgPT4gUHJvbWlzZTxhbnk+XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBpUm91dGVDb25maWcge1xuICBtZXRob2RzPzogc3RyaW5nW11cbiAgcmVxdWlyZUF1dGg/OiBib29sZWFuXG4gIHJhdGVMaW1pdD86IHtcbiAgICB3aW5kb3dNczogbnVtYmVyXG4gICAgbWF4UmVxdWVzdHM6IG51bWJlclxuICB9XG59XG5cbi8vIE1haW4gQVBJIHJvdXRlIHdyYXBwZXJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBcGlSb3V0ZShcbiAgaGFuZGxlcnM6IHsgW21ldGhvZDogc3RyaW5nXTogQXBpSGFuZGxlciB9LFxuICBjb25maWc6IEFwaVJvdXRlQ29uZmlnID0ge31cbikge1xuICBjb25zdCB7IFxuICAgIG1ldGhvZHMgPSBPYmplY3Qua2V5cyhoYW5kbGVycyksIFxuICAgIHJlcXVpcmVBdXRoID0gZmFsc2UgXG4gIH0gPSBjb25maWdcblxuICByZXR1cm4gYXN5bmMgKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuICAgIGNvbnN0IHsgbWV0aG9kID0gJ0dFVCcgfSA9IHJlcVxuICAgIGxldCB1c2VyXG5cbiAgICAvLyBFbmhhbmNlZCByZXF1ZXN0IGxvZ2dpbmdcbiAgICBsb2dnZXIuZGVidWcoJ0FQSSBSZXF1ZXN0IFN0YXJ0aW5nJywge1xuICAgICAgbWV0aG9kLFxuICAgICAgdXJsOiByZXEudXJsLFxuICAgICAgdXNlckFnZW50OiByZXEuaGVhZGVyc1sndXNlci1hZ2VudCddLFxuICAgICAgaXA6IHJlcS5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3MgfHwgcmVxLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddLFxuICAgICAgY29udGVudFR5cGU6IHJlcS5oZWFkZXJzWydjb250ZW50LXR5cGUnXSxcbiAgICAgIG9yaWdpbjogcmVxLmhlYWRlcnMub3JpZ2luXG4gICAgfSlcblxuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiBtZXRob2QgaXMgYWxsb3dlZFxuICAgICAgaWYgKCFtZXRob2RzLmluY2x1ZGVzKG1ldGhvZCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoSFRUUF9TVEFUVVMuTUVUSE9EX05PVF9BTExPV0VEKS5qc29uKHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiBgTWV0aG9kICR7bWV0aG9kfSBub3QgYWxsb3dlZGAsXG4gICAgICAgICAgZXJyb3I6ICdNRVRIT0RfTk9UX0FMTE9XRUQnXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB1c2VyIHNlc3Npb24gaWYgYXV0aCBpcyByZXF1aXJlZFxuICAgICAgaWYgKHJlcXVpcmVBdXRoKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKHJlcSwgcmVzLCBhdXRoT3B0aW9ucylcbiAgICAgICAgaWYgKCFzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoSFRUUF9TVEFUVVMuVU5BVVRIT1JJWkVEKS5qc29uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIGVycm9yOiAnVU5BVVRIT1JJWkVEJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgdXNlciA9IHNlc3Npb24udXNlciBhcyBhbnlcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIEFQSSBjb250ZXh0XG4gICAgICBjb25zdCBjdHg6IEFwaUNvbnRleHQgPSB7IHJlcSwgcmVzLCB1c2VyIH1cblxuICAgICAgLy8gR2V0IGhhbmRsZXIgZm9yIG1ldGhvZFxuICAgICAgY29uc3QgaGFuZGxlciA9IGhhbmRsZXJzW21ldGhvZF1cbiAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhIVFRQX1NUQVRVUy5NRVRIT0RfTk9UX0FMTE9XRUQpLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGBIYW5kbGVyIGZvciAke21ldGhvZH0gbm90IGZvdW5kYCxcbiAgICAgICAgICBlcnJvcjogJ01FVEhPRF9OT1RfQUxMT1dFRCdcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gRXhlY3V0ZSBoYW5kbGVyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKGN0eClcbiAgICAgIFxuICAgICAgLy8gTG9nIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICBsb2dBcGlSZXF1ZXN0KG1ldGhvZCwgcmVxLnVybCB8fCAnJywgdXNlcj8uaWQsIGR1cmF0aW9uKVxuXG4gICAgICAvLyBTZW5kIHJlc3BvbnNlIGlmIG5vdCBhbHJlYWR5IHNlbnRcbiAgICAgIGlmICghcmVzLmhlYWRlcnNTZW50KSB7XG4gICAgICAgIHJlcy5zdGF0dXMoSFRUUF9TVEFUVVMuT0spLmpzb24ocmVzdWx0KVxuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgbG9nQXBpRXJyb3IobWV0aG9kLCByZXEudXJsIHx8ICcnLCBlcnJvciBhcyBFcnJvciwgdXNlcj8uaWQpXG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBrbm93biBhcHBsaWNhdGlvbiBlcnJvcnNcbiAgICAgIGlmIChpc0FwcEVycm9yKGVycm9yKSkge1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkRXJyb3IgPSBzZXJpYWxpemVFcnJvcihlcnJvciwgZmFsc2UpXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKGVycm9yLnN0YXR1c0NvZGUpLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgZXJyb3I6IGVycm9yLmNvZGUsXG4gICAgICAgICAgLi4uKGVycm9yLmNvbnRleHQgJiYgeyBjb250ZXh0OiBlcnJvci5jb250ZXh0IH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSB1bmtub3duIGVycm9yc1xuICAgICAgbG9nZ2VyLmVycm9yKCdVbmhhbmRsZWQgQVBJIGVycm9yJywgeyBcbiAgICAgICAgbWV0aG9kLCBcbiAgICAgICAgdXJsOiByZXEudXJsLCBcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogZXJyb3IsXG4gICAgICAgIHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG4gICAgICAgIHVzZXJJZDogdXNlcj8uaWQgXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyhIVFRQX1NUQVRVUy5JTlRFUk5BTF9TRVJWRVJfRVJST1IpLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXG4gICAgICAgIGVycm9yOiAnSU5URVJOQUxfU0VSVkVSX0VSUk9SJ1xuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cblxuLy8gVXRpbGl0eSB0byByZXF1aXJlIGF1dGhlbnRpY2F0aW9uXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZUF1dGgoaGFuZGxlcjogQXBpSGFuZGxlcik6IEFwaUhhbmRsZXIge1xuICByZXR1cm4gYXN5bmMgKGN0eDogQXBpQ29udGV4dCkgPT4ge1xuICAgIGlmICghY3R4LnVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBBdXRoZW50aWNhdGlvbkVycm9yKCdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcpXG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVyKGN0eClcbiAgfVxufVxuXG4vLyBVdGlsaXR5IHRvIHZhbGlkYXRlIHJlcXVlc3QgYm9keVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQm9keTxUPihcbiAgc2NoZW1hOiBhbnksXG4gIGhhbmRsZXI6IChjdHg6IEFwaUNvbnRleHQsIGJvZHk6IFQpID0+IFByb21pc2U8YW55PlxuKTogQXBpSGFuZGxlciB7XG4gIHJldHVybiBhc3luYyAoY3R4OiBBcGlDb250ZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHZhbGlkYXRlZEJvZHkgPSBzY2hlbWEucGFyc2UoY3R4LnJlcS5ib2R5KVxuICAgICAgcmV0dXJuIGhhbmRsZXIoY3R4LCB2YWxpZGF0ZWRCb2R5KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAnZXJyb3JzJyBpbiBlcnJvcikge1xuICAgICAgICBjb25zdCB6b2RFcnJvciA9IGVycm9yIGFzIGFueVxuICAgICAgICBjb25zdCBmaXJzdEVycm9yID0gem9kRXJyb3IuZXJyb3JzWzBdXG4gICAgICAgIHRocm93IG5ldyBBcHBFcnJvcihcbiAgICAgICAgICBmaXJzdEVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICAgIEhUVFBfU1RBVFVTLkJBRF9SRVFVRVNULFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgeyBmaWVsZDogZmlyc3RFcnJvci5wYXRoLmpvaW4oJy4nKSwgZXJyb3JzOiB6b2RFcnJvci5lcnJvcnMgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxufVxuXG4vLyBVdGlsaXR5IHRvIHZhbGlkYXRlIHF1ZXJ5IHBhcmFtZXRlcnNcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVF1ZXJ5PFQ+KFxuICBzY2hlbWE6IGFueSxcbiAgaGFuZGxlcjogKGN0eDogQXBpQ29udGV4dCwgcXVlcnk6IFQpID0+IFByb21pc2U8YW55PlxuKTogQXBpSGFuZGxlciB7XG4gIHJldHVybiBhc3luYyAoY3R4OiBBcGlDb250ZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHZhbGlkYXRlZFF1ZXJ5ID0gc2NoZW1hLnBhcnNlKGN0eC5yZXEucXVlcnkpXG4gICAgICByZXR1cm4gaGFuZGxlcihjdHgsIHZhbGlkYXRlZFF1ZXJ5KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAnZXJyb3JzJyBpbiBlcnJvcikge1xuICAgICAgICBjb25zdCB6b2RFcnJvciA9IGVycm9yIGFzIGFueVxuICAgICAgICBjb25zdCBmaXJzdEVycm9yID0gem9kRXJyb3IuZXJyb3JzWzBdXG4gICAgICAgIHRocm93IG5ldyBBcHBFcnJvcihcbiAgICAgICAgICBmaXJzdEVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICAgIEhUVFBfU1RBVFVTLkJBRF9SRVFVRVNULFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgeyBmaWVsZDogZmlyc3RFcnJvci5wYXRoLmpvaW4oJy4nKSwgZXJyb3JzOiB6b2RFcnJvci5lcnJvcnMgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxufVxuXG4vLyBVdGlsaXR5IGZvciBwYWdpbmF0aW9uXG5leHBvcnQgZnVuY3Rpb24gd2l0aFBhZ2luYXRpb24oXG4gIGhhbmRsZXI6IChjdHg6IEFwaUNvbnRleHQsIHBhZ2luYXRpb246IHsgcGFnZTogbnVtYmVyOyBsaW1pdDogbnVtYmVyIH0pID0+IFByb21pc2U8YW55PlxuKTogQXBpSGFuZGxlciB7XG4gIHJldHVybiBhc3luYyAoY3R4OiBBcGlDb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KGN0eC5yZXEucXVlcnkucGFnZSBhcyBzdHJpbmcpIHx8IDFcbiAgICBjb25zdCBsaW1pdCA9IE1hdGgubWluKHBhcnNlSW50KGN0eC5yZXEucXVlcnkubGltaXQgYXMgc3RyaW5nKSB8fCAxMiwgNTApIC8vIE1heCA1MCBpdGVtcyBwZXIgcGFnZVxuICAgIFxuICAgIHJldHVybiBoYW5kbGVyKGN0eCwgeyBwYWdlLCBsaW1pdCB9KVxuICB9XG59XG5cbi8vIFJlc3BvbnNlIGhlbHBlcnNcbmV4cG9ydCBmdW5jdGlvbiBzdWNjZXNzUmVzcG9uc2U8VD4oZGF0YTogVCwgbWVzc2FnZT86IHN0cmluZyk6IEFwaVJlc3BvbnNlPFQ+IHtcbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIGRhdGEsXG4gICAgLi4uKG1lc3NhZ2UgJiYgeyBtZXNzYWdlIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yUmVzcG9uc2UobWVzc2FnZTogc3RyaW5nLCBjb2RlPzogc3RyaW5nKTogQXBpUmVzcG9uc2Uge1xuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgIG1lc3NhZ2UsXG4gICAgLi4uKGNvZGUgJiYgeyBlcnJvcjogY29kZSB9KVxuICB9XG59XG5cbi8vIE1ldGhvZC1zcGVjaWZpYyBoYW5kbGVyc1xuZXhwb3J0IGNvbnN0IEdFVCA9IChoYW5kbGVyOiBBcGlIYW5kbGVyKSA9PiAoeyBHRVQ6IGhhbmRsZXIgfSlcbmV4cG9ydCBjb25zdCBQT1NUID0gKGhhbmRsZXI6IEFwaUhhbmRsZXIpID0+ICh7IFBPU1Q6IGhhbmRsZXIgfSlcbmV4cG9ydCBjb25zdCBQVVQgPSAoaGFuZGxlcjogQXBpSGFuZGxlcikgPT4gKHsgUFVUOiBoYW5kbGVyIH0pXG5leHBvcnQgY29uc3QgREVMRVRFID0gKGhhbmRsZXI6IEFwaUhhbmRsZXIpID0+ICh7IERFTEVURTogaGFuZGxlciB9KVxuZXhwb3J0IGNvbnN0IFBBVENIID0gKGhhbmRsZXI6IEFwaUhhbmRsZXIpID0+ICh7IFBBVENIOiBoYW5kbGVyIH0pXG5cbi8vIENvbWJpbmVkIG1ldGhvZCBoYW5kbGVyc1xuZXhwb3J0IGNvbnN0IENSVUQgPSB7XG4gIEdFVDogKGhhbmRsZXI6IEFwaUhhbmRsZXIpID0+IGhhbmRsZXIsXG4gIFBPU1Q6IChoYW5kbGVyOiBBcGlIYW5kbGVyKSA9PiBoYW5kbGVyLFxuICBQVVQ6IChoYW5kbGVyOiBBcGlIYW5kbGVyKSA9PiBoYW5kbGVyLFxuICBERUxFVEU6IChoYW5kbGVyOiBBcGlIYW5kbGVyKSA9PiBoYW5kbGVyLFxufVxuXG4vLyBSYXRlIGxpbWl0aW5nIChzaW1wbGUgaW4tbWVtb3J5IGltcGxlbWVudGF0aW9uIGZvciBkZXZlbG9wbWVudClcbmNvbnN0IHJlcXVlc3RDb3VudHMgPSBuZXcgTWFwPHN0cmluZywgeyBjb3VudDogbnVtYmVyOyByZXNldFRpbWU6IG51bWJlciB9PigpXG5cbmV4cG9ydCBmdW5jdGlvbiByYXRlTGltaXQoXG4gIHdpbmRvd01zOiBudW1iZXIgPSAxNSAqIDYwICogMTAwMCwgLy8gMTUgbWludXRlc1xuICBtYXhSZXF1ZXN0czogbnVtYmVyID0gMTAwXG4pIHtcbiAgcmV0dXJuIChoYW5kbGVyOiBBcGlIYW5kbGVyKTogQXBpSGFuZGxlciA9PiB7XG4gICAgcmV0dXJuIGFzeW5jIChjdHg6IEFwaUNvbnRleHQpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IGN0eC5yZXEuaGVhZGVyc1sneC1mb3J3YXJkZWQtZm9yJ10gYXMgc3RyaW5nIHx8IFxuICAgICAgICAgICAgICAgICAgIGN0eC5yZXEuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzIHx8IFxuICAgICAgICAgICAgICAgICAgICd1bmtub3duJ1xuICAgICAgXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gICAgICBjb25zdCB3aW5kb3dTdGFydCA9IG5vdyAtIHdpbmRvd01zXG4gICAgICBcbiAgICAgIGNvbnN0IHJlcXVlc3REYXRhID0gcmVxdWVzdENvdW50cy5nZXQoa2V5KVxuICAgICAgXG4gICAgICBpZiAoIXJlcXVlc3REYXRhIHx8IHJlcXVlc3REYXRhLnJlc2V0VGltZSA8IHdpbmRvd1N0YXJ0KSB7XG4gICAgICAgIHJlcXVlc3RDb3VudHMuc2V0KGtleSwgeyBjb3VudDogMSwgcmVzZXRUaW1lOiBub3cgfSlcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIoY3R4KVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAocmVxdWVzdERhdGEuY291bnQgPj0gbWF4UmVxdWVzdHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFwcEVycm9yKFxuICAgICAgICAgICdUb28gbWFueSByZXF1ZXN0cycsXG4gICAgICAgICAgJ1JBVEVfTElNSVRfRVhDRUVERUQnLFxuICAgICAgICAgIEhUVFBfU1RBVFVTLlRPT19NQU5ZX1JFUVVFU1RTXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmVxdWVzdERhdGEuY291bnQrK1xuICAgICAgcmV0dXJuIGhhbmRsZXIoY3R4KVxuICAgIH1cbiAgfVxufSJdLCJuYW1lcyI6WyJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJBcHBFcnJvciIsImlzQXBwRXJyb3IiLCJzZXJpYWxpemVFcnJvciIsIkF1dGhlbnRpY2F0aW9uRXJyb3IiLCJsb2dnZXIiLCJsb2dBcGlSZXF1ZXN0IiwibG9nQXBpRXJyb3IiLCJIVFRQX1NUQVRVUyIsImNyZWF0ZUFwaVJvdXRlIiwiaGFuZGxlcnMiLCJjb25maWciLCJtZXRob2RzIiwiT2JqZWN0Iiwia2V5cyIsInJlcXVpcmVBdXRoIiwicmVxIiwicmVzIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsIm1ldGhvZCIsInVzZXIiLCJkZWJ1ZyIsInVybCIsInVzZXJBZ2VudCIsImhlYWRlcnMiLCJpcCIsImNvbm5lY3Rpb24iLCJyZW1vdGVBZGRyZXNzIiwiY29udGVudFR5cGUiLCJvcmlnaW4iLCJpbmNsdWRlcyIsInN0YXR1cyIsIk1FVEhPRF9OT1RfQUxMT1dFRCIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsImVycm9yIiwic2Vzc2lvbiIsIlVOQVVUSE9SSVpFRCIsImN0eCIsImhhbmRsZXIiLCJyZXN1bHQiLCJkdXJhdGlvbiIsImlkIiwiaGVhZGVyc1NlbnQiLCJPSyIsInNlcmlhbGl6ZWRFcnJvciIsInN0YXR1c0NvZGUiLCJjb2RlIiwiY29udGV4dCIsIkVycm9yIiwic3RhY2siLCJ1bmRlZmluZWQiLCJ1c2VySWQiLCJJTlRFUk5BTF9TRVJWRVJfRVJST1IiLCJ2YWxpZGF0ZUJvZHkiLCJzY2hlbWEiLCJ2YWxpZGF0ZWRCb2R5IiwicGFyc2UiLCJib2R5Iiwiem9kRXJyb3IiLCJmaXJzdEVycm9yIiwiZXJyb3JzIiwiQkFEX1JFUVVFU1QiLCJmaWVsZCIsInBhdGgiLCJqb2luIiwidmFsaWRhdGVRdWVyeSIsInZhbGlkYXRlZFF1ZXJ5IiwicXVlcnkiLCJ3aXRoUGFnaW5hdGlvbiIsInBhZ2UiLCJwYXJzZUludCIsImxpbWl0IiwiTWF0aCIsIm1pbiIsInN1Y2Nlc3NSZXNwb25zZSIsImRhdGEiLCJlcnJvclJlc3BvbnNlIiwiR0VUIiwiUE9TVCIsIlBVVCIsIkRFTEVURSIsIlBBVENIIiwiQ1JVRCIsInJlcXVlc3RDb3VudHMiLCJNYXAiLCJyYXRlTGltaXQiLCJ3aW5kb3dNcyIsIm1heFJlcXVlc3RzIiwia2V5Iiwid2luZG93U3RhcnQiLCJyZXF1ZXN0RGF0YSIsImdldCIsInJlc2V0VGltZSIsInNldCIsImNvdW50IiwiVE9PX01BTllfUkVRVUVTVFMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/api-handler.ts\n");

/***/ }),

/***/ "(api)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"next-auth/providers/google\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/facebook */ \"next-auth/providers/facebook\");\n/* harmony import */ var next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_auth_providers_apple__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/apple */ \"next-auth/providers/apple\");\n/* harmony import */ var next_auth_providers_apple__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_apple__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./db */ \"(api)/./src/lib/db.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nconst authOptions = {\n    providers: [\n        next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1___default()({\n            clientId: process.env.GOOGLE_CLIENT_ID || \"dummy\",\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"dummy\"\n        }),\n        next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_2___default()({\n            clientId: process.env.FACEBOOK_CLIENT_ID || \"dummy\",\n            clientSecret: process.env.FACEBOOK_CLIENT_SECRET || \"dummy\"\n        }),\n        next_auth_providers_apple__WEBPACK_IMPORTED_MODULE_3___default()({\n            clientId: process.env.APPLE_ID || \"dummy\",\n            clientSecret: process.env.APPLE_SECRET || \"dummy\"\n        }),\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0___default()({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    if (!credentials?.email || !credentials?.password) {\n                        return null;\n                    }\n                    const user = await _db__WEBPACK_IMPORTED_MODULE_4__.db.user.findUnique({\n                        where: {\n                            email: credentials.email\n                        }\n                    });\n                    if (!user || !user.password) {\n                        return null;\n                    }\n                    const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_5___default().compare(credentials.password, user.password);\n                    if (!isPasswordValid) {\n                        return null;\n                    }\n                    return {\n                        id: user.id,\n                        email: user.email,\n                        name: user.firstName ? `${user.firstName} ${user.lastName || \"\"}`.trim() : user.username,\n                        username: user.username,\n                        firstName: user.firstName,\n                        lastName: user.lastName\n                    };\n                } catch (error) {\n                    console.error(\"Auth error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.username = user.username;\n                token.firstName = user.firstName;\n                token.lastName = user.lastName;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token && session.user) {\n                session.user.id = token.sub;\n                session.user.username = token.username;\n                session.user.firstName = token.firstName;\n                session.user.lastName = token.lastName;\n            }\n            return session;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNYixTQUFTO2dCQUNoRE0sUUFBUVosSUFBSSxDQUFTTyxRQUFRLEdBQUdZLE1BQU1aLFFBQVE7WUFDbEQ7WUFDQSxPQUFPSztRQUNUO0lBQ0Y7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8uL3NyYy9saWIvYXV0aC50cz82NjkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCdcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHMnXG5pbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGUnXG5pbXBvcnQgRmFjZWJvb2tQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2ZhY2Vib29rJ1xuaW1wb3J0IEFwcGxlUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9hcHBsZSdcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi9kYidcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBwcm92aWRlcnM6IFtcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCB8fCAnZHVtbXknLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCB8fCAnZHVtbXknLFxuICAgIH0pLFxuICAgIEZhY2Vib29rUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX0NMSUVOVF9JRCB8fCAnZHVtbXknLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5GQUNFQk9PS19DTElFTlRfU0VDUkVUIHx8ICdkdW1teScsXG4gICAgfSksXG4gICAgQXBwbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuQVBQTEVfSUQgfHwgJ2R1bW15JyxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuQVBQTEVfU0VDUkVUIHx8ICdkdW1teScsXG4gICAgfSksXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBuYW1lOiAnY3JlZGVudGlhbHMnLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICBlbWFpbDogY3JlZGVudGlhbHMuZW1haWxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgaWYgKCF1c2VyIHx8ICF1c2VyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKGNyZWRlbnRpYWxzLnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKVxuICAgICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgbmFtZTogdXNlci5maXJzdE5hbWUgPyBgJHt1c2VyLmZpcnN0TmFtZX0gJHt1c2VyLmxhc3ROYW1lIHx8ICcnfWAudHJpbSgpIDogdXNlci51c2VybmFtZSxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgZmlyc3ROYW1lOiB1c2VyLmZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiB1c2VyLmxhc3ROYW1lLFxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoIGVycm9yOicsIGVycm9yKVxuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICBdLFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcbiAgfSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46ICcvYXV0aC9zaWduaW4nXG4gIH0sXG4gIGNhbGxiYWNrczoge1xuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnVzZXJuYW1lID0gKHVzZXIgYXMgYW55KS51c2VybmFtZVxuICAgICAgICB0b2tlbi5maXJzdE5hbWUgPSAodXNlciBhcyBhbnkpLmZpcnN0TmFtZVxuICAgICAgICB0b2tlbi5sYXN0TmFtZSA9ICh1c2VyIGFzIGFueSkubGFzdE5hbWVcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlblxuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmICh0b2tlbiAmJiBzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgKHNlc3Npb24udXNlciBhcyBhbnkpLmlkID0gdG9rZW4uc3ViIVxuICAgICAgICA7KHNlc3Npb24udXNlciBhcyBhbnkpLnVzZXJuYW1lID0gdG9rZW4udXNlcm5hbWUgYXMgc3RyaW5nXG4gICAgICAgIDsoc2Vzc2lvbi51c2VyIGFzIGFueSkuZmlyc3ROYW1lID0gdG9rZW4uZmlyc3ROYW1lIGFzIHN0cmluZ1xuICAgICAgICA7KHNlc3Npb24udXNlciBhcyBhbnkpLmxhc3ROYW1lID0gdG9rZW4ubGFzdE5hbWUgYXMgc3RyaW5nXG4gICAgICB9XG4gICAgICByZXR1cm4gc2Vzc2lvblxuICAgIH1cbiAgfVxufSJdLCJuYW1lcyI6WyJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJGYWNlYm9va1Byb3ZpZGVyIiwiQXBwbGVQcm92aWRlciIsImRiIiwiYmNyeXB0IiwiYXV0aE9wdGlvbnMiLCJwcm92aWRlcnMiLCJjbGllbnRJZCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJGQUNFQk9PS19DTElFTlRfSUQiLCJGQUNFQk9PS19DTElFTlRfU0VDUkVUIiwiQVBQTEVfSUQiLCJBUFBMRV9TRUNSRVQiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJpZCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwidHJpbSIsInVzZXJuYW1lIiwiZXJyb3IiLCJjb25zb2xlIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwibWF4QWdlIiwicGFnZXMiLCJzaWduSW4iLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsInN1YiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(api)/./src/lib/config.ts":
/*!***************************!*\
  !*** ./src/lib/config.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   getEnvVar: () => (/* binding */ getEnvVar),\n/* harmony export */   getEnvVarAsBoolean: () => (/* binding */ getEnvVarAsBoolean),\n/* harmony export */   getEnvVarAsNumber: () => (/* binding */ getEnvVarAsNumber),\n/* harmony export */   isDevelopment: () => (/* binding */ isDevelopment),\n/* harmony export */   isProduction: () => (/* binding */ isProduction),\n/* harmony export */   isTest: () => (/* binding */ isTest)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(api)/./src/lib/constants.ts\");\n\nfunction getConfig() {\n    const env = \"development\" || 0;\n    const isDevelopment = env === _constants__WEBPACK_IMPORTED_MODULE_0__.NODE_ENV.DEVELOPMENT;\n    const isProduction = env === _constants__WEBPACK_IMPORTED_MODULE_0__.NODE_ENV.PRODUCTION;\n    // Validate required environment variables\n    const requiredVars = [\n        \"DATABASE_URL\",\n        \"NEXTAUTH_SECRET\",\n        \"NEXTAUTH_URL\"\n    ];\n    for (const varName of requiredVars){\n        if (!process.env[varName]) {\n            throw new Error(`Missing required environment variable: ${varName}`);\n        }\n    }\n    return {\n        app: {\n            name: process.env.APP_NAME || \"RateMe\",\n            version: process.env.APP_VERSION || \"1.0.0\",\n            env,\n            port: parseInt(process.env.PORT || \"3000\", 10),\n            url: process.env.NEXTAUTH_URL\n        },\n        database: {\n            url: process.env.DATABASE_URL\n        },\n        auth: {\n            secret: process.env.NEXTAUTH_SECRET,\n            url: process.env.NEXTAUTH_URL,\n            sessionMaxAge: parseInt(process.env.SESSION_MAX_AGE || \"2592000\", 10)\n        },\n        logging: {\n            level: process.env.LOG_LEVEL || (isDevelopment ? \"debug\" : \"info\"),\n            pretty: isDevelopment\n        },\n        redis: process.env.REDIS_URL ? {\n            url: process.env.REDIS_URL,\n            password: process.env.REDIS_PASSWORD\n        } : undefined,\n        external: {\n            youtube: process.env.YOUTUBE_API_KEY ? {\n                apiKey: process.env.YOUTUBE_API_KEY\n            } : undefined,\n            vimeo: process.env.VIMEO_CLIENT_ID && process.env.VIMEO_CLIENT_SECRET ? {\n                clientId: process.env.VIMEO_CLIENT_ID,\n                clientSecret: process.env.VIMEO_CLIENT_SECRET\n            } : undefined\n        }\n    };\n}\n// Export singleton config instance\nconst config = getConfig();\n// Type-safe environment variable access\nfunction getEnvVar(name, defaultValue) {\n    const value = process.env[name];\n    if (value === undefined) {\n        if (defaultValue !== undefined) {\n            return defaultValue;\n        }\n        throw new Error(`Environment variable ${name} is not set`);\n    }\n    return value;\n}\nfunction getEnvVarAsNumber(name, defaultValue) {\n    const value = process.env[name];\n    if (value === undefined) {\n        if (defaultValue !== undefined) {\n            return defaultValue;\n        }\n        throw new Error(`Environment variable ${name} is not set`);\n    }\n    const parsed = parseInt(value, 10);\n    if (isNaN(parsed)) {\n        throw new Error(`Environment variable ${name} is not a valid number: ${value}`);\n    }\n    return parsed;\n}\nfunction getEnvVarAsBoolean(name, defaultValue) {\n    const value = process.env[name];\n    if (value === undefined) {\n        if (defaultValue !== undefined) {\n            return defaultValue;\n        }\n        throw new Error(`Environment variable ${name} is not set`);\n    }\n    return value.toLowerCase() === \"true\";\n}\n// Environment checks\nconst isDevelopment = config.app.env === _constants__WEBPACK_IMPORTED_MODULE_0__.NODE_ENV.DEVELOPMENT;\nconst isProduction = config.app.env === _constants__WEBPACK_IMPORTED_MODULE_0__.NODE_ENV.PRODUCTION;\nconst isTest = config.app.env === _constants__WEBPACK_IMPORTED_MODULE_0__.NODE_ENV.TEST;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDL0IsSUFBSUcsTUFBTUQsU0FBUztRQUNqQixNQUFNLElBQUl6QyxNQUFNLENBQUMscUJBQXFCLEVBQUVFLEtBQUssd0JBQXdCLEVBQUVxQyxNQUFNLENBQUM7SUFDaEY7SUFDQSxPQUFPRTtBQUNUO0FBRU8sU0FBU0UsbUJBQW1CekMsSUFBWSxFQUFFb0MsWUFBc0I7SUFDckUsTUFBTUMsUUFBUTlDLFFBQVFELEdBQUcsQ0FBQ1UsS0FBSztJQUMvQixJQUFJcUMsVUFBVWIsV0FBVztRQUN2QixJQUFJWSxpQkFBaUJaLFdBQVc7WUFDOUIsT0FBT1k7UUFDVDtRQUNBLE1BQU0sSUFBSXRDLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRUUsS0FBSyxXQUFXLENBQUM7SUFDM0Q7SUFDQSxPQUFPcUMsTUFBTUssV0FBVyxPQUFPO0FBQ2pDO0FBRUEscUJBQXFCO0FBQ2QsTUFBTWpELGdCQUFnQnlDLE9BQU9uQyxHQUFHLENBQUNULEdBQUcsS0FBS0YsZ0RBQVFBLENBQUNJLFdBQVc7QUFDN0QsTUFBTUUsZUFBZXdDLE9BQU9uQyxHQUFHLENBQUNULEdBQUcsS0FBS0YsZ0RBQVFBLENBQUNPLFVBQVU7QUFDM0QsTUFBTWdELFNBQVNULE9BQU9uQyxHQUFHLENBQUNULEdBQUcsS0FBS0YsZ0RBQVFBLENBQUN3RCxJQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8uL3NyYy9saWIvY29uZmlnLnRzP2EzZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTk9ERV9FTlYgfSBmcm9tICcuL2NvbnN0YW50cydcblxuaW50ZXJmYWNlIENvbmZpZyB7XG4gIGFwcDoge1xuICAgIG5hbWU6IHN0cmluZ1xuICAgIHZlcnNpb246IHN0cmluZ1xuICAgIGVudjogc3RyaW5nXG4gICAgcG9ydDogbnVtYmVyXG4gICAgdXJsOiBzdHJpbmdcbiAgfVxuICBkYXRhYmFzZToge1xuICAgIHVybDogc3RyaW5nXG4gIH1cbiAgYXV0aDoge1xuICAgIHNlY3JldDogc3RyaW5nXG4gICAgdXJsOiBzdHJpbmdcbiAgICBzZXNzaW9uTWF4QWdlOiBudW1iZXJcbiAgfVxuICBsb2dnaW5nOiB7XG4gICAgbGV2ZWw6IHN0cmluZ1xuICAgIHByZXR0eTogYm9vbGVhblxuICB9XG4gIHJlZGlzPzoge1xuICAgIHVybDogc3RyaW5nXG4gICAgcGFzc3dvcmQ/OiBzdHJpbmdcbiAgfVxuICBleHRlcm5hbDoge1xuICAgIHlvdXR1YmU/OiB7XG4gICAgICBhcGlLZXk6IHN0cmluZ1xuICAgIH1cbiAgICB2aW1lbz86IHtcbiAgICAgIGNsaWVudElkOiBzdHJpbmdcbiAgICAgIGNsaWVudFNlY3JldDogc3RyaW5nXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldENvbmZpZygpOiBDb25maWcge1xuICBjb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCBOT0RFX0VOVi5ERVZFTE9QTUVOVFxuICBjb25zdCBpc0RldmVsb3BtZW50ID0gZW52ID09PSBOT0RFX0VOVi5ERVZFTE9QTUVOVFxuICBjb25zdCBpc1Byb2R1Y3Rpb24gPSBlbnYgPT09IE5PREVfRU5WLlBST0RVQ1RJT05cblxuICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgY29uc3QgcmVxdWlyZWRWYXJzID0gW1xuICAgICdEQVRBQkFTRV9VUkwnLFxuICAgICdORVhUQVVUSF9TRUNSRVQnLFxuICAgICdORVhUQVVUSF9VUkwnLFxuICBdXG5cbiAgZm9yIChjb25zdCB2YXJOYW1lIG9mIHJlcXVpcmVkVmFycykge1xuICAgIGlmICghcHJvY2Vzcy5lbnZbdmFyTmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZTogJHt2YXJOYW1lfWApXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhcHA6IHtcbiAgICAgIG5hbWU6IHByb2Nlc3MuZW52LkFQUF9OQU1FIHx8ICdSYXRlTWUnLFxuICAgICAgdmVyc2lvbjogcHJvY2Vzcy5lbnYuQVBQX1ZFUlNJT04gfHwgJzEuMC4wJyxcbiAgICAgIGVudixcbiAgICAgIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LlBPUlQgfHwgJzMwMDAnLCAxMCksXG4gICAgICB1cmw6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1VSTCEsXG4gICAgfSxcbiAgICBkYXRhYmFzZToge1xuICAgICAgdXJsOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwhLFxuICAgIH0sXG4gICAgYXV0aDoge1xuICAgICAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQhLFxuICAgICAgdXJsOiBwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkwhLFxuICAgICAgc2Vzc2lvbk1heEFnZTogcGFyc2VJbnQocHJvY2Vzcy5lbnYuU0VTU0lPTl9NQVhfQUdFIHx8ICcyNTkyMDAwJywgMTApLCAvLyAzMCBkYXlzXG4gICAgfSxcbiAgICBsb2dnaW5nOiB7XG4gICAgICBsZXZlbDogcHJvY2Vzcy5lbnYuTE9HX0xFVkVMIHx8IChpc0RldmVsb3BtZW50ID8gJ2RlYnVnJyA6ICdpbmZvJyksXG4gICAgICBwcmV0dHk6IGlzRGV2ZWxvcG1lbnQsXG4gICAgfSxcbiAgICByZWRpczogcHJvY2Vzcy5lbnYuUkVESVNfVVJMID8ge1xuICAgICAgdXJsOiBwcm9jZXNzLmVudi5SRURJU19VUkwsXG4gICAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuUkVESVNfUEFTU1dPUkQsXG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgICBleHRlcm5hbDoge1xuICAgICAgeW91dHViZTogcHJvY2Vzcy5lbnYuWU9VVFVCRV9BUElfS0VZID8ge1xuICAgICAgICBhcGlLZXk6IHByb2Nlc3MuZW52LllPVVRVQkVfQVBJX0tFWSxcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICB2aW1lbzogcHJvY2Vzcy5lbnYuVklNRU9fQ0xJRU5UX0lEICYmIHByb2Nlc3MuZW52LlZJTUVPX0NMSUVOVF9TRUNSRVQgPyB7XG4gICAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5WSU1FT19DTElFTlRfSUQsXG4gICAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuVklNRU9fQ0xJRU5UX1NFQ1JFVCxcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGNvbmZpZyBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpXG5cbi8vIFR5cGUtc2FmZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBhY2Nlc3NcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZWYXIobmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCB2YWx1ZSA9IHByb2Nlc3MuZW52W25hbWVdXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlXG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgRW52aXJvbm1lbnQgdmFyaWFibGUgJHtuYW1lfSBpcyBub3Qgc2V0YClcbiAgfVxuICByZXR1cm4gdmFsdWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVudlZhckFzTnVtYmVyKG5hbWU6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgdmFsdWUgPSBwcm9jZXNzLmVudltuYW1lXVxuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEVudmlyb25tZW50IHZhcmlhYmxlICR7bmFtZX0gaXMgbm90IHNldGApXG4gIH1cbiAgY29uc3QgcGFyc2VkID0gcGFyc2VJbnQodmFsdWUsIDEwKVxuICBpZiAoaXNOYU4ocGFyc2VkKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRW52aXJvbm1lbnQgdmFyaWFibGUgJHtuYW1lfSBpcyBub3QgYSB2YWxpZCBudW1iZXI6ICR7dmFsdWV9YClcbiAgfVxuICByZXR1cm4gcGFyc2VkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZWYXJBc0Jvb2xlYW4obmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBib29sZWFuKTogYm9vbGVhbiB7XG4gIGNvbnN0IHZhbHVlID0gcHJvY2Vzcy5lbnZbbmFtZV1cbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWVcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFbnZpcm9ubWVudCB2YXJpYWJsZSAke25hbWV9IGlzIG5vdCBzZXRgKVxuICB9XG4gIHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSdcbn1cblxuLy8gRW52aXJvbm1lbnQgY2hlY2tzXG5leHBvcnQgY29uc3QgaXNEZXZlbG9wbWVudCA9IGNvbmZpZy5hcHAuZW52ID09PSBOT0RFX0VOVi5ERVZFTE9QTUVOVFxuZXhwb3J0IGNvbnN0IGlzUHJvZHVjdGlvbiA9IGNvbmZpZy5hcHAuZW52ID09PSBOT0RFX0VOVi5QUk9EVUNUSU9OXG5leHBvcnQgY29uc3QgaXNUZXN0ID0gY29uZmlnLmFwcC5lbnYgPT09IE5PREVfRU5WLlRFU1QiXSwibmFtZXMiOlsiTk9ERV9FTlYiLCJnZXRDb25maWciLCJlbnYiLCJwcm9jZXNzIiwiREVWRUxPUE1FTlQiLCJpc0RldmVsb3BtZW50IiwiaXNQcm9kdWN0aW9uIiwiUFJPRFVDVElPTiIsInJlcXVpcmVkVmFycyIsInZhck5hbWUiLCJFcnJvciIsImFwcCIsIm5hbWUiLCJBUFBfTkFNRSIsInZlcnNpb24iLCJBUFBfVkVSU0lPTiIsInBvcnQiLCJwYXJzZUludCIsIlBPUlQiLCJ1cmwiLCJORVhUQVVUSF9VUkwiLCJkYXRhYmFzZSIsIkRBVEFCQVNFX1VSTCIsImF1dGgiLCJzZWNyZXQiLCJORVhUQVVUSF9TRUNSRVQiLCJzZXNzaW9uTWF4QWdlIiwiU0VTU0lPTl9NQVhfQUdFIiwibG9nZ2luZyIsImxldmVsIiwiTE9HX0xFVkVMIiwicHJldHR5IiwicmVkaXMiLCJSRURJU19VUkwiLCJwYXNzd29yZCIsIlJFRElTX1BBU1NXT1JEIiwidW5kZWZpbmVkIiwiZXh0ZXJuYWwiLCJ5b3V0dWJlIiwiWU9VVFVCRV9BUElfS0VZIiwiYXBpS2V5IiwidmltZW8iLCJWSU1FT19DTElFTlRfSUQiLCJWSU1FT19DTElFTlRfU0VDUkVUIiwiY2xpZW50SWQiLCJjbGllbnRTZWNyZXQiLCJjb25maWciLCJnZXRFbnZWYXIiLCJkZWZhdWx0VmFsdWUiLCJ2YWx1ZSIsImdldEVudlZhckFzTnVtYmVyIiwicGFyc2VkIiwiaXNOYU4iLCJnZXRFbnZWYXJBc0Jvb2xlYW4iLCJ0b0xvd2VyQ2FzZSIsImlzVGVzdCIsIlRFU1QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/config.ts\n");

/***/ }),

/***/ "(api)/./src/lib/constants.ts":
/*!******************************!*\
  !*** ./src/lib/constants.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_ROUTES: () => (/* binding */ API_ROUTES),\n/* harmony export */   APP_DESCRIPTION: () => (/* binding */ APP_DESCRIPTION),\n/* harmony export */   APP_NAME: () => (/* binding */ APP_NAME),\n/* harmony export */   APP_VERSION: () => (/* binding */ APP_VERSION),\n/* harmony export */   CACHE_KEYS: () => (/* binding */ CACHE_KEYS),\n/* harmony export */   CACHE_TTL: () => (/* binding */ CACHE_TTL),\n/* harmony export */   DEFAULTS: () => (/* binding */ DEFAULTS),\n/* harmony export */   ERROR_CODES: () => (/* binding */ ERROR_CODES),\n/* harmony export */   EXTERNAL_SERVICES: () => (/* binding */ EXTERNAL_SERVICES),\n/* harmony export */   FEATURES: () => (/* binding */ FEATURES),\n/* harmony export */   HTTP_STATUS: () => (/* binding */ HTTP_STATUS),\n/* harmony export */   NODE_ENV: () => (/* binding */ NODE_ENV),\n/* harmony export */   PAGINATION: () => (/* binding */ PAGINATION),\n/* harmony export */   RATING_LEVELS: () => (/* binding */ RATING_LEVELS),\n/* harmony export */   SEO: () => (/* binding */ SEO),\n/* harmony export */   SOCIAL_PLATFORMS: () => (/* binding */ SOCIAL_PLATFORMS),\n/* harmony export */   UPLOAD_LIMITS: () => (/* binding */ UPLOAD_LIMITS),\n/* harmony export */   USER_LIMITS: () => (/* binding */ USER_LIMITS),\n/* harmony export */   VALIDATION_PATTERNS: () => (/* binding */ VALIDATION_PATTERNS),\n/* harmony export */   VIDEO_LIMITS: () => (/* binding */ VIDEO_LIMITS),\n/* harmony export */   VIDEO_PLATFORMS: () => (/* binding */ VIDEO_PLATFORMS)\n/* harmony export */ });\n// Application constants\nconst APP_NAME = \"RateMe\";\nconst APP_DESCRIPTION = \"A modern video rating platform\";\nconst APP_VERSION = \"1.0.0\";\n// API constants\nconst API_ROUTES = {\n    AUTH: {\n        SIGNIN: \"/api/auth/signin\",\n        SIGNUP: \"/api/auth/register\",\n        SIGNOUT: \"/api/auth/signout\"\n    },\n    VIDEOS: {\n        BASE: \"/api/videos\",\n        BY_ID: (id)=>`/api/videos/${id}`,\n        RATE: (id)=>`/api/videos/${id}/rate`\n    },\n    USERS: {\n        BASE: \"/api/users\",\n        BY_ID: (id)=>`/api/users/${id}`,\n        FOLLOW: (id)=>`/api/users/${id}/follow`\n    }\n};\n// UI constants\nconst PAGINATION = {\n    DEFAULT_PAGE_SIZE: 12,\n    MAX_PAGE_SIZE: 50\n};\nconst VIDEO_LIMITS = {\n    MAX_TITLE_LENGTH: 200,\n    MAX_DESCRIPTION_LENGTH: 1000\n};\nconst USER_LIMITS = {\n    MIN_USERNAME_LENGTH: 3,\n    MAX_USERNAME_LENGTH: 30,\n    MIN_PASSWORD_LENGTH: 6,\n    MAX_PASSWORD_LENGTH: 128\n};\n// Validation patterns\nconst VALIDATION_PATTERNS = {\n    EMAIL: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n    USERNAME: /^[a-zA-Z0-9_]{3,30}$/,\n    YOUTUBE_URL: /(?:https?:\\/\\/)?(?:www\\.)?(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([a-zA-Z0-9_-]{11})/,\n    VIMEO_URL: /(?:https?:\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/\n};\n// Error codes\nconst ERROR_CODES = {\n    // Authentication errors\n    INVALID_CREDENTIALS: \"INVALID_CREDENTIALS\",\n    USER_NOT_FOUND: \"USER_NOT_FOUND\",\n    USER_ALREADY_EXISTS: \"USER_ALREADY_EXISTS\",\n    UNAUTHORIZED: \"UNAUTHORIZED\",\n    SESSION_EXPIRED: \"SESSION_EXPIRED\",\n    // Validation errors\n    VALIDATION_ERROR: \"VALIDATION_ERROR\",\n    INVALID_INPUT: \"INVALID_INPUT\",\n    MISSING_REQUIRED_FIELD: \"MISSING_REQUIRED_FIELD\",\n    // Resource errors\n    RESOURCE_NOT_FOUND: \"RESOURCE_NOT_FOUND\",\n    RESOURCE_ALREADY_EXISTS: \"RESOURCE_ALREADY_EXISTS\",\n    RESOURCE_FORBIDDEN: \"RESOURCE_FORBIDDEN\",\n    // Server errors\n    INTERNAL_SERVER_ERROR: \"INTERNAL_SERVER_ERROR\",\n    DATABASE_ERROR: \"DATABASE_ERROR\",\n    EXTERNAL_SERVICE_ERROR: \"EXTERNAL_SERVICE_ERROR\",\n    // Rate limiting\n    RATE_LIMIT_EXCEEDED: \"RATE_LIMIT_EXCEEDED\"\n};\n// HTTP status codes\nconst HTTP_STATUS = {\n    OK: 200,\n    CREATED: 201,\n    NO_CONTENT: 204,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    FORBIDDEN: 403,\n    NOT_FOUND: 404,\n    METHOD_NOT_ALLOWED: 405,\n    CONFLICT: 409,\n    UNPROCESSABLE_ENTITY: 422,\n    TOO_MANY_REQUESTS: 429,\n    INTERNAL_SERVER_ERROR: 500,\n    BAD_GATEWAY: 502,\n    SERVICE_UNAVAILABLE: 503\n};\n// Cache keys\nconst CACHE_KEYS = {\n    VIDEOS: \"videos\",\n    USER: (id)=>`user:${id}`,\n    VIDEO: (id)=>`video:${id}`,\n    TAGS: \"tags\",\n    USER_VIDEOS: (userId)=>`user:${userId}:videos`\n};\n// Cache TTL (in seconds)\nconst CACHE_TTL = {\n    SHORT: 300,\n    MEDIUM: 1800,\n    LONG: 3600,\n    VERY_LONG: 86400\n};\n// Environment types\nconst NODE_ENV = {\n    DEVELOPMENT: \"development\",\n    PRODUCTION: \"production\",\n    TEST: \"test\"\n};\n// Supported video platforms\nconst VIDEO_PLATFORMS = {\n    YOUTUBE: \"youtube\",\n    VIMEO: \"vimeo\"\n};\n// Rating levels\nconst RATING_LEVELS = {\n    MIN: 1,\n    MAX: 5,\n    DEFAULT: 3\n};\n// Default values\nconst DEFAULTS = {\n    AVATAR_URL: \"/images/default-avatar.png\",\n    VIDEO_THUMBNAIL: \"/images/default-video-thumbnail.png\",\n    PAGINATION_LIMIT: PAGINATION.DEFAULT_PAGE_SIZE,\n    RATING_LEVEL: RATING_LEVELS.DEFAULT\n};\n// Feature flags\nconst FEATURES = {\n    VIDEO_UPLOAD: true,\n    USER_REGISTRATION: true,\n    VIDEO_RATING: true,\n    USER_FOLLOWING: true,\n    SEARCH: true,\n    ADMIN_PANEL: false\n};\n// External service URLs\nconst EXTERNAL_SERVICES = {\n    YOUTUBE_API: \"https://www.googleapis.com/youtube/v3\",\n    VIMEO_API: \"https://api.vimeo.com\"\n};\n// File upload limits\nconst UPLOAD_LIMITS = {\n    MAX_FILE_SIZE: 10 * 1024 * 1024,\n    ALLOWED_IMAGE_TYPES: [\n        \"image/jpeg\",\n        \"image/png\",\n        \"image/gif\",\n        \"image/webp\"\n    ],\n    ALLOWED_VIDEO_TYPES: [\n        \"video/mp4\",\n        \"video/webm\",\n        \"video/ogg\"\n    ]\n};\n// SEO constants\nconst SEO = {\n    DEFAULT_TITLE: APP_NAME,\n    TITLE_TEMPLATE: `%s | ${APP_NAME}`,\n    DEFAULT_DESCRIPTION: APP_DESCRIPTION,\n    TWITTER_HANDLE: \"@rateme\",\n    SITE_URL: process.env.NEXTAUTH_URL || \"http://localhost:3000\"\n};\n// Social sharing\nconst SOCIAL_PLATFORMS = {\n    TWITTER: \"twitter\",\n    FACEBOOK: \"facebook\",\n    LINKEDIN: \"linkedin\",\n    REDDIT: \"reddit\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDTEMsS0FBSztJQUNMQyxTQUFTO0FBQ1gsRUFBVTtBQUVWLGlCQUFpQjtBQUNWLE1BQU1DLFdBQVc7SUFDdEJDLFlBQVk7SUFDWkMsaUJBQWlCO0lBQ2pCQyxrQkFBa0J0RSxXQUFXQyxpQkFBaUI7SUFDOUNzRSxjQUFjUixjQUFjRyxPQUFPO0FBQ3JDLEVBQVU7QUFFVixnQkFBZ0I7QUFDVCxNQUFNTSxXQUFXO0lBQ3RCQyxjQUFjO0lBQ2RDLG1CQUFtQjtJQUNuQkMsY0FBYztJQUNkQyxnQkFBZ0I7SUFDaEJDLFFBQVE7SUFDUkMsYUFBYTtBQUNmLEVBQVU7QUFFVix3QkFBd0I7QUFDakIsTUFBTUMsb0JBQW9CO0lBQy9CQyxhQUFhO0lBQ2JDLFdBQVc7QUFDYixFQUFVO0FBRVYscUJBQXFCO0FBQ2QsTUFBTUMsZ0JBQWdCO0lBQzNCQyxlQUFlLEtBQUssT0FBTztJQUMzQkMscUJBQXFCO1FBQUM7UUFBYztRQUFhO1FBQWE7S0FBYTtJQUMzRUMscUJBQXFCO1FBQUM7UUFBYTtRQUFjO0tBQVk7QUFDL0QsRUFBVTtBQUVWLGdCQUFnQjtBQUNULE1BQU1DLE1BQU07SUFDakJDLGVBQWV0RztJQUNmdUcsZ0JBQWdCLENBQUMsS0FBSyxFQUFFdkcsU0FBUyxDQUFDO0lBQ2xDd0cscUJBQXFCdkc7SUFDckJ3RyxnQkFBZ0I7SUFDaEJDLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxJQUFJO0FBQ3hDLEVBQVU7QUFFVixpQkFBaUI7QUFDVixNQUFNQyxtQkFBbUI7SUFDOUJDLFNBQVM7SUFDVEMsVUFBVTtJQUNWQyxVQUFVO0lBQ1ZDLFFBQVE7QUFDVixFQUFVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8uL3NyYy9saWIvY29uc3RhbnRzLnRzP2ZiZjkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQXBwbGljYXRpb24gY29uc3RhbnRzXG5leHBvcnQgY29uc3QgQVBQX05BTUUgPSAnUmF0ZU1lJ1xuZXhwb3J0IGNvbnN0IEFQUF9ERVNDUklQVElPTiA9ICdBIG1vZGVybiB2aWRlbyByYXRpbmcgcGxhdGZvcm0nXG5leHBvcnQgY29uc3QgQVBQX1ZFUlNJT04gPSAnMS4wLjAnXG5cbi8vIEFQSSBjb25zdGFudHNcbmV4cG9ydCBjb25zdCBBUElfUk9VVEVTID0ge1xuICBBVVRIOiB7XG4gICAgU0lHTklOOiAnL2FwaS9hdXRoL3NpZ25pbicsXG4gICAgU0lHTlVQOiAnL2FwaS9hdXRoL3JlZ2lzdGVyJyxcbiAgICBTSUdOT1VUOiAnL2FwaS9hdXRoL3NpZ25vdXQnLFxuICB9LFxuICBWSURFT1M6IHtcbiAgICBCQVNFOiAnL2FwaS92aWRlb3MnLFxuICAgIEJZX0lEOiAoaWQ6IHN0cmluZykgPT4gYC9hcGkvdmlkZW9zLyR7aWR9YCxcbiAgICBSQVRFOiAoaWQ6IHN0cmluZykgPT4gYC9hcGkvdmlkZW9zLyR7aWR9L3JhdGVgLFxuICB9LFxuICBVU0VSUzoge1xuICAgIEJBU0U6ICcvYXBpL3VzZXJzJyxcbiAgICBCWV9JRDogKGlkOiBzdHJpbmcpID0+IGAvYXBpL3VzZXJzLyR7aWR9YCxcbiAgICBGT0xMT1c6IChpZDogc3RyaW5nKSA9PiBgL2FwaS91c2Vycy8ke2lkfS9mb2xsb3dgLFxuICB9LFxufSBhcyBjb25zdFxuXG4vLyBVSSBjb25zdGFudHNcbmV4cG9ydCBjb25zdCBQQUdJTkFUSU9OID0ge1xuICBERUZBVUxUX1BBR0VfU0laRTogMTIsXG4gIE1BWF9QQUdFX1NJWkU6IDUwLFxufSBhcyBjb25zdFxuXG5leHBvcnQgY29uc3QgVklERU9fTElNSVRTID0ge1xuICBNQVhfVElUTEVfTEVOR1RIOiAyMDAsXG4gIE1BWF9ERVNDUklQVElPTl9MRU5HVEg6IDEwMDAsXG4gIC8vIFJlbW92ZWQgTUFYX1RBR1MgbGltaXQgdG8gYWxsb3cgdW5saW1pdGVkIHRhZ3Ncbn0gYXMgY29uc3RcblxuZXhwb3J0IGNvbnN0IFVTRVJfTElNSVRTID0ge1xuICBNSU5fVVNFUk5BTUVfTEVOR1RIOiAzLFxuICBNQVhfVVNFUk5BTUVfTEVOR1RIOiAzMCxcbiAgTUlOX1BBU1NXT1JEX0xFTkdUSDogNixcbiAgTUFYX1BBU1NXT1JEX0xFTkdUSDogMTI4LFxufSBhcyBjb25zdFxuXG4vLyBWYWxpZGF0aW9uIHBhdHRlcm5zXG5leHBvcnQgY29uc3QgVkFMSURBVElPTl9QQVRURVJOUyA9IHtcbiAgRU1BSUw6IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLFxuICBVU0VSTkFNRTogL15bYS16QS1aMC05X117MywzMH0kLyxcbiAgWU9VVFVCRV9VUkw6IC8oPzpodHRwcz86XFwvXFwvKT8oPzp3d3dcXC4pPyg/OnlvdXR1YmVcXC5jb21cXC93YXRjaFxcP3Y9fHlvdXR1XFwuYmVcXC8pKFthLXpBLVowLTlfLV17MTF9KS8sXG4gIFZJTUVPX1VSTDogLyg/Omh0dHBzPzpcXC9cXC8pPyg/Ond3d1xcLik/dmltZW9cXC5jb21cXC8oXFxkKykvLFxufSBhcyBjb25zdFxuXG4vLyBFcnJvciBjb2Rlc1xuZXhwb3J0IGNvbnN0IEVSUk9SX0NPREVTID0ge1xuICAvLyBBdXRoZW50aWNhdGlvbiBlcnJvcnNcbiAgSU5WQUxJRF9DUkVERU5USUFMUzogJ0lOVkFMSURfQ1JFREVOVElBTFMnLFxuICBVU0VSX05PVF9GT1VORDogJ1VTRVJfTk9UX0ZPVU5EJyxcbiAgVVNFUl9BTFJFQURZX0VYSVNUUzogJ1VTRVJfQUxSRUFEWV9FWElTVFMnLFxuICBVTkFVVEhPUklaRUQ6ICdVTkFVVEhPUklaRUQnLFxuICBTRVNTSU9OX0VYUElSRUQ6ICdTRVNTSU9OX0VYUElSRUQnLFxuXG4gIC8vIFZhbGlkYXRpb24gZXJyb3JzXG4gIFZBTElEQVRJT05fRVJST1I6ICdWQUxJREFUSU9OX0VSUk9SJyxcbiAgSU5WQUxJRF9JTlBVVDogJ0lOVkFMSURfSU5QVVQnLFxuICBNSVNTSU5HX1JFUVVJUkVEX0ZJRUxEOiAnTUlTU0lOR19SRVFVSVJFRF9GSUVMRCcsXG5cbiAgLy8gUmVzb3VyY2UgZXJyb3JzXG4gIFJFU09VUkNFX05PVF9GT1VORDogJ1JFU09VUkNFX05PVF9GT1VORCcsXG4gIFJFU09VUkNFX0FMUkVBRFlfRVhJU1RTOiAnUkVTT1VSQ0VfQUxSRUFEWV9FWElTVFMnLFxuICBSRVNPVVJDRV9GT1JCSURERU46ICdSRVNPVVJDRV9GT1JCSURERU4nLFxuXG4gIC8vIFNlcnZlciBlcnJvcnNcbiAgSU5URVJOQUxfU0VSVkVSX0VSUk9SOiAnSU5URVJOQUxfU0VSVkVSX0VSUk9SJyxcbiAgREFUQUJBU0VfRVJST1I6ICdEQVRBQkFTRV9FUlJPUicsXG4gIEVYVEVSTkFMX1NFUlZJQ0VfRVJST1I6ICdFWFRFUk5BTF9TRVJWSUNFX0VSUk9SJyxcblxuICAvLyBSYXRlIGxpbWl0aW5nXG4gIFJBVEVfTElNSVRfRVhDRUVERUQ6ICdSQVRFX0xJTUlUX0VYQ0VFREVEJyxcbn0gYXMgY29uc3RcblxuLy8gSFRUUCBzdGF0dXMgY29kZXNcbmV4cG9ydCBjb25zdCBIVFRQX1NUQVRVUyA9IHtcbiAgT0s6IDIwMCxcbiAgQ1JFQVRFRDogMjAxLFxuICBOT19DT05URU5UOiAyMDQsXG4gIEJBRF9SRVFVRVNUOiA0MDAsXG4gIFVOQVVUSE9SSVpFRDogNDAxLFxuICBGT1JCSURERU46IDQwMyxcbiAgTk9UX0ZPVU5EOiA0MDQsXG4gIE1FVEhPRF9OT1RfQUxMT1dFRDogNDA1LFxuICBDT05GTElDVDogNDA5LFxuICBVTlBST0NFU1NBQkxFX0VOVElUWTogNDIyLFxuICBUT09fTUFOWV9SRVFVRVNUUzogNDI5LFxuICBJTlRFUk5BTF9TRVJWRVJfRVJST1I6IDUwMCxcbiAgQkFEX0dBVEVXQVk6IDUwMixcbiAgU0VSVklDRV9VTkFWQUlMQUJMRTogNTAzLFxufSBhcyBjb25zdFxuXG4vLyBDYWNoZSBrZXlzXG5leHBvcnQgY29uc3QgQ0FDSEVfS0VZUyA9IHtcbiAgVklERU9TOiAndmlkZW9zJyxcbiAgVVNFUjogKGlkOiBzdHJpbmcpID0+IGB1c2VyOiR7aWR9YCxcbiAgVklERU86IChpZDogc3RyaW5nKSA9PiBgdmlkZW86JHtpZH1gLFxuICBUQUdTOiAndGFncycsXG4gIFVTRVJfVklERU9TOiAodXNlcklkOiBzdHJpbmcpID0+IGB1c2VyOiR7dXNlcklkfTp2aWRlb3NgLFxufSBhcyBjb25zdFxuXG4vLyBDYWNoZSBUVEwgKGluIHNlY29uZHMpXG5leHBvcnQgY29uc3QgQ0FDSEVfVFRMID0ge1xuICBTSE9SVDogMzAwLCAvLyA1IG1pbnV0ZXNcbiAgTUVESVVNOiAxODAwLCAvLyAzMCBtaW51dGVzXG4gIExPTkc6IDM2MDAsIC8vIDEgaG91clxuICBWRVJZX0xPTkc6IDg2NDAwLCAvLyAyNCBob3Vyc1xufSBhcyBjb25zdFxuXG4vLyBFbnZpcm9ubWVudCB0eXBlc1xuZXhwb3J0IGNvbnN0IE5PREVfRU5WID0ge1xuICBERVZFTE9QTUVOVDogJ2RldmVsb3BtZW50JyxcbiAgUFJPRFVDVElPTjogJ3Byb2R1Y3Rpb24nLFxuICBURVNUOiAndGVzdCcsXG59IGFzIGNvbnN0XG5cbi8vIFN1cHBvcnRlZCB2aWRlbyBwbGF0Zm9ybXNcbmV4cG9ydCBjb25zdCBWSURFT19QTEFURk9STVMgPSB7XG4gIFlPVVRVQkU6ICd5b3V0dWJlJyxcbiAgVklNRU86ICd2aW1lbycsXG59IGFzIGNvbnN0XG5cbi8vIFJhdGluZyBsZXZlbHNcbmV4cG9ydCBjb25zdCBSQVRJTkdfTEVWRUxTID0ge1xuICBNSU46IDEsXG4gIE1BWDogNSxcbiAgREVGQVVMVDogMyxcbn0gYXMgY29uc3RcblxuLy8gRGVmYXVsdCB2YWx1ZXNcbmV4cG9ydCBjb25zdCBERUZBVUxUUyA9IHtcbiAgQVZBVEFSX1VSTDogJy9pbWFnZXMvZGVmYXVsdC1hdmF0YXIucG5nJyxcbiAgVklERU9fVEhVTUJOQUlMOiAnL2ltYWdlcy9kZWZhdWx0LXZpZGVvLXRodW1ibmFpbC5wbmcnLFxuICBQQUdJTkFUSU9OX0xJTUlUOiBQQUdJTkFUSU9OLkRFRkFVTFRfUEFHRV9TSVpFLFxuICBSQVRJTkdfTEVWRUw6IFJBVElOR19MRVZFTFMuREVGQVVMVCxcbn0gYXMgY29uc3RcblxuLy8gRmVhdHVyZSBmbGFnc1xuZXhwb3J0IGNvbnN0IEZFQVRVUkVTID0ge1xuICBWSURFT19VUExPQUQ6IHRydWUsXG4gIFVTRVJfUkVHSVNUUkFUSU9OOiB0cnVlLFxuICBWSURFT19SQVRJTkc6IHRydWUsXG4gIFVTRVJfRk9MTE9XSU5HOiB0cnVlLFxuICBTRUFSQ0g6IHRydWUsXG4gIEFETUlOX1BBTkVMOiBmYWxzZSxcbn0gYXMgY29uc3RcblxuLy8gRXh0ZXJuYWwgc2VydmljZSBVUkxzXG5leHBvcnQgY29uc3QgRVhURVJOQUxfU0VSVklDRVMgPSB7XG4gIFlPVVRVQkVfQVBJOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20veW91dHViZS92MycsXG4gIFZJTUVPX0FQSTogJ2h0dHBzOi8vYXBpLnZpbWVvLmNvbScsXG59IGFzIGNvbnN0XG5cbi8vIEZpbGUgdXBsb2FkIGxpbWl0c1xuZXhwb3J0IGNvbnN0IFVQTE9BRF9MSU1JVFMgPSB7XG4gIE1BWF9GSUxFX1NJWkU6IDEwICogMTAyNCAqIDEwMjQsIC8vIDEwTUJcbiAgQUxMT1dFRF9JTUFHRV9UWVBFUzogWydpbWFnZS9qcGVnJywgJ2ltYWdlL3BuZycsICdpbWFnZS9naWYnLCAnaW1hZ2Uvd2VicCddLFxuICBBTExPV0VEX1ZJREVPX1RZUEVTOiBbJ3ZpZGVvL21wNCcsICd2aWRlby93ZWJtJywgJ3ZpZGVvL29nZyddLFxufSBhcyBjb25zdFxuXG4vLyBTRU8gY29uc3RhbnRzXG5leHBvcnQgY29uc3QgU0VPID0ge1xuICBERUZBVUxUX1RJVExFOiBBUFBfTkFNRSxcbiAgVElUTEVfVEVNUExBVEU6IGAlcyB8ICR7QVBQX05BTUV9YCxcbiAgREVGQVVMVF9ERVNDUklQVElPTjogQVBQX0RFU0NSSVBUSU9OLFxuICBUV0lUVEVSX0hBTkRMRTogJ0ByYXRlbWUnLFxuICBTSVRFX1VSTDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLFxufSBhcyBjb25zdFxuXG4vLyBTb2NpYWwgc2hhcmluZ1xuZXhwb3J0IGNvbnN0IFNPQ0lBTF9QTEFURk9STVMgPSB7XG4gIFRXSVRURVI6ICd0d2l0dGVyJyxcbiAgRkFDRUJPT0s6ICdmYWNlYm9vaycsXG4gIExJTktFRElOOiAnbGlua2VkaW4nLFxuICBSRURESVQ6ICdyZWRkaXQnLFxufSBhcyBjb25zdCJdLCJuYW1lcyI6WyJBUFBfTkFNRSIsIkFQUF9ERVNDUklQVElPTiIsIkFQUF9WRVJTSU9OIiwiQVBJX1JPVVRFUyIsIkFVVEgiLCJTSUdOSU4iLCJTSUdOVVAiLCJTSUdOT1VUIiwiVklERU9TIiwiQkFTRSIsIkJZX0lEIiwiaWQiLCJSQVRFIiwiVVNFUlMiLCJGT0xMT1ciLCJQQUdJTkFUSU9OIiwiREVGQVVMVF9QQUdFX1NJWkUiLCJNQVhfUEFHRV9TSVpFIiwiVklERU9fTElNSVRTIiwiTUFYX1RJVExFX0xFTkdUSCIsIk1BWF9ERVNDUklQVElPTl9MRU5HVEgiLCJVU0VSX0xJTUlUUyIsIk1JTl9VU0VSTkFNRV9MRU5HVEgiLCJNQVhfVVNFUk5BTUVfTEVOR1RIIiwiTUlOX1BBU1NXT1JEX0xFTkdUSCIsIk1BWF9QQVNTV09SRF9MRU5HVEgiLCJWQUxJREFUSU9OX1BBVFRFUk5TIiwiRU1BSUwiLCJVU0VSTkFNRSIsIllPVVRVQkVfVVJMIiwiVklNRU9fVVJMIiwiRVJST1JfQ09ERVMiLCJJTlZBTElEX0NSRURFTlRJQUxTIiwiVVNFUl9OT1RfRk9VTkQiLCJVU0VSX0FMUkVBRFlfRVhJU1RTIiwiVU5BVVRIT1JJWkVEIiwiU0VTU0lPTl9FWFBJUkVEIiwiVkFMSURBVElPTl9FUlJPUiIsIklOVkFMSURfSU5QVVQiLCJNSVNTSU5HX1JFUVVJUkVEX0ZJRUxEIiwiUkVTT1VSQ0VfTk9UX0ZPVU5EIiwiUkVTT1VSQ0VfQUxSRUFEWV9FWElTVFMiLCJSRVNPVVJDRV9GT1JCSURERU4iLCJJTlRFUk5BTF9TRVJWRVJfRVJST1IiLCJEQVRBQkFTRV9FUlJPUiIsIkVYVEVSTkFMX1NFUlZJQ0VfRVJST1IiLCJSQVRFX0xJTUlUX0VYQ0VFREVEIiwiSFRUUF9TVEFUVVMiLCJPSyIsIkNSRUFURUQiLCJOT19DT05URU5UIiwiQkFEX1JFUVVFU1QiLCJGT1JCSURERU4iLCJOT1RfRk9VTkQiLCJNRVRIT0RfTk9UX0FMTE9XRUQiLCJDT05GTElDVCIsIlVOUFJPQ0VTU0FCTEVfRU5USVRZIiwiVE9PX01BTllfUkVRVUVTVFMiLCJCQURfR0FURVdBWSIsIlNFUlZJQ0VfVU5BVkFJTEFCTEUiLCJDQUNIRV9LRVlTIiwiVVNFUiIsIlZJREVPIiwiVEFHUyIsIlVTRVJfVklERU9TIiwidXNlcklkIiwiQ0FDSEVfVFRMIiwiU0hPUlQiLCJNRURJVU0iLCJMT05HIiwiVkVSWV9MT05HIiwiTk9ERV9FTlYiLCJERVZFTE9QTUVOVCIsIlBST0RVQ1RJT04iLCJURVNUIiwiVklERU9fUExBVEZPUk1TIiwiWU9VVFVCRSIsIlZJTUVPIiwiUkFUSU5HX0xFVkVMUyIsIk1JTiIsIk1BWCIsIkRFRkFVTFQiLCJERUZBVUxUUyIsIkFWQVRBUl9VUkwiLCJWSURFT19USFVNQk5BSUwiLCJQQUdJTkFUSU9OX0xJTUlUIiwiUkFUSU5HX0xFVkVMIiwiRkVBVFVSRVMiLCJWSURFT19VUExPQUQiLCJVU0VSX1JFR0lTVFJBVElPTiIsIlZJREVPX1JBVElORyIsIlVTRVJfRk9MTE9XSU5HIiwiU0VBUkNIIiwiQURNSU5fUEFORUwiLCJFWFRFUk5BTF9TRVJWSUNFUyIsIllPVVRVQkVfQVBJIiwiVklNRU9fQVBJIiwiVVBMT0FEX0xJTUlUUyIsIk1BWF9GSUxFX1NJWkUiLCJBTExPV0VEX0lNQUdFX1RZUEVTIiwiQUxMT1dFRF9WSURFT19UWVBFUyIsIlNFTyIsIkRFRkFVTFRfVElUTEUiLCJUSVRMRV9URU1QTEFURSIsIkRFRkFVTFRfREVTQ1JJUFRJT04iLCJUV0lUVEVSX0hBTkRMRSIsIlNJVEVfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1VSTCIsIlNPQ0lBTF9QTEFURk9STVMiLCJUV0lUVEVSIiwiRkFDRUJPT0siLCJMSU5LRURJTiIsIlJFRERJVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/constants.ts\n");

/***/ }),

/***/ "(api)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst db = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLEtBQUtGLGdCQUFnQkcsTUFBTSxJQUFJLElBQUlKLHdEQUFZQSxHQUFFO0FBRTlELElBQUlLLElBQXlCLEVBQWNKLGdCQUFnQkcsTUFBTSxHQUFHRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JhdGVteS1uZXh0anMvLi9zcmMvbGliL2RiLnRzPzllNGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjb25zdCBkYiA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCgpXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gZGIiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsImRiIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/db.ts\n");

/***/ }),

/***/ "(api)/./src/lib/errors.ts":
/*!***************************!*\
  !*** ./src/lib/errors.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppError: () => (/* binding */ AppError),\n/* harmony export */   AuthenticationError: () => (/* binding */ AuthenticationError),\n/* harmony export */   AuthorizationError: () => (/* binding */ AuthorizationError),\n/* harmony export */   ConflictError: () => (/* binding */ ConflictError),\n/* harmony export */   DatabaseError: () => (/* binding */ DatabaseError),\n/* harmony export */   ExternalServiceError: () => (/* binding */ ExternalServiceError),\n/* harmony export */   NotFoundError: () => (/* binding */ NotFoundError),\n/* harmony export */   RateLimitError: () => (/* binding */ RateLimitError),\n/* harmony export */   ValidationError: () => (/* binding */ ValidationError),\n/* harmony export */   asyncWrapper: () => (/* binding */ asyncWrapper),\n/* harmony export */   createConflictError: () => (/* binding */ createConflictError),\n/* harmony export */   createNotFoundError: () => (/* binding */ createNotFoundError),\n/* harmony export */   createValidationError: () => (/* binding */ createValidationError),\n/* harmony export */   extractErrorCode: () => (/* binding */ extractErrorCode),\n/* harmony export */   extractErrorMessage: () => (/* binding */ extractErrorMessage),\n/* harmony export */   extractStatusCode: () => (/* binding */ extractStatusCode),\n/* harmony export */   handlePromiseRejection: () => (/* binding */ handlePromiseRejection),\n/* harmony export */   isAppError: () => (/* binding */ isAppError),\n/* harmony export */   isOperationalError: () => (/* binding */ isOperationalError),\n/* harmony export */   serializeError: () => (/* binding */ serializeError)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(api)/./src/lib/constants.ts\");\n\nclass AppError extends Error {\n    constructor(message, code = _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.INTERNAL_SERVER_ERROR, statusCode = _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.INTERNAL_SERVER_ERROR, isOperational = true, context){\n        super(message);\n        this.name = this.constructor.name;\n        this.code = code;\n        this.statusCode = statusCode;\n        this.isOperational = isOperational;\n        this.context = context;\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\n// Specific error classes\nclass ValidationError extends AppError {\n    constructor(message, field, context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.VALIDATION_ERROR, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.BAD_REQUEST, true, {\n            field,\n            ...context\n        });\n    }\n}\nclass AuthenticationError extends AppError {\n    constructor(message = \"Authentication failed\", context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.UNAUTHORIZED, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.UNAUTHORIZED, true, context);\n    }\n}\nclass AuthorizationError extends AppError {\n    constructor(message = \"Access forbidden\", context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.RESOURCE_FORBIDDEN, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.FORBIDDEN, true, context);\n    }\n}\nclass NotFoundError extends AppError {\n    constructor(resource = \"Resource\", context){\n        super(`${resource} not found`, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.RESOURCE_NOT_FOUND, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.NOT_FOUND, true, context);\n    }\n}\nclass ConflictError extends AppError {\n    constructor(message, context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.RESOURCE_ALREADY_EXISTS, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.CONFLICT, true, context);\n    }\n}\nclass DatabaseError extends AppError {\n    constructor(message, context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.DATABASE_ERROR, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.INTERNAL_SERVER_ERROR, true, context);\n    }\n}\nclass ExternalServiceError extends AppError {\n    constructor(service, message, context){\n        super(`External service error (${service}): ${message}`, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.EXTERNAL_SERVICE_ERROR, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.BAD_GATEWAY, true, context);\n    }\n}\nclass RateLimitError extends AppError {\n    constructor(message = \"Rate limit exceeded\", context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.RATE_LIMIT_EXCEEDED, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.TOO_MANY_REQUESTS, true, context);\n    }\n}\n// Error factory functions\nfunction createValidationError(field, message, value) {\n    return new ValidationError(message, field, {\n        value\n    });\n}\nfunction createNotFoundError(resource, id) {\n    return new NotFoundError(resource, {\n        id\n    });\n}\nfunction createConflictError(resource, field, value) {\n    return new ConflictError(`${resource} with ${field} '${value}' already exists`, {\n        resource,\n        field,\n        value\n    });\n}\n// Error handling utilities\nfunction isAppError(error) {\n    return error instanceof AppError;\n}\nfunction isOperationalError(error) {\n    if (isAppError(error)) {\n        return error.isOperational;\n    }\n    return false;\n}\nfunction extractErrorMessage(error) {\n    if (error instanceof Error) {\n        return error.message;\n    }\n    if (typeof error === \"string\") {\n        return error;\n    }\n    return \"An unknown error occurred\";\n}\nfunction extractErrorCode(error) {\n    if (isAppError(error)) {\n        return error.code;\n    }\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.INTERNAL_SERVER_ERROR;\n}\nfunction extractStatusCode(error) {\n    if (isAppError(error)) {\n        return error.statusCode;\n    }\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.INTERNAL_SERVER_ERROR;\n}\nfunction serializeError(error, includeStack = false) {\n    const serialized = {\n        message: extractErrorMessage(error),\n        code: extractErrorCode(error),\n        statusCode: extractStatusCode(error)\n    };\n    if (isAppError(error) && error.context) {\n        serialized.context = error.context;\n    }\n    if (includeStack && error instanceof Error) {\n        serialized.stack = error.stack;\n    }\n    return serialized;\n}\n// Async error wrapper\nfunction asyncWrapper(fn) {\n    return async (...args)=>{\n        try {\n            return await fn(...args);\n        } catch (error) {\n            if (isOperationalError(error)) {\n                throw error;\n            }\n            // Convert non-operational errors to operational ones\n            throw new AppError(extractErrorMessage(error), _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.INTERNAL_SERVER_ERROR, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.INTERNAL_SERVER_ERROR, false, {\n                originalError: error\n            });\n        }\n    };\n}\n// Promise error handler\nfunction handlePromiseRejection(promise) {\n    return promise.catch((error)=>{\n        if (!isOperationalError(error)) {\n            // Log unexpected errors\n            console.error(\"Unhandled promise rejection:\", error);\n        }\n        throw error;\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBcUI7QUFDMUM7QUFXTyxTQUFTMEMsZUFBZUwsS0FBVSxFQUFFTSxlQUF3QixLQUFLO0lBQ3RFLE1BQU1DLGFBQThCO1FBQ2xDOUMsU0FBU3lDLG9CQUFvQkY7UUFDN0J0QyxNQUFNeUMsaUJBQWlCSDtRQUN2QnBDLFlBQVl3QyxrQkFBa0JKO0lBQ2hDO0lBRUEsSUFBSUQsV0FBV0MsVUFBVUEsTUFBTWxDLE9BQU8sRUFBRTtRQUN0Q3lDLFdBQVd6QyxPQUFPLEdBQUdrQyxNQUFNbEMsT0FBTztJQUNwQztJQUVBLElBQUl3QyxnQkFBZ0JOLGlCQUFpQnpDLE9BQU87UUFDMUNnRCxXQUFXQyxLQUFLLEdBQUdSLE1BQU1RLEtBQUs7SUFDaEM7SUFFQSxPQUFPRDtBQUNUO0FBRUEsc0JBQXNCO0FBQ2YsU0FBU0UsYUFDZEMsRUFBOEI7SUFFOUIsT0FBTyxPQUFPLEdBQUdDO1FBQ2YsSUFBSTtZQUNGLE9BQU8sTUFBTUQsTUFBTUM7UUFDckIsRUFBRSxPQUFPWCxPQUFPO1lBQ2QsSUFBSUMsbUJBQW1CRCxRQUFRO2dCQUM3QixNQUFNQTtZQUNSO1lBRUEscURBQXFEO1lBQ3JELE1BQU0sSUFBSTFDLFNBQ1I0QyxvQkFBb0JGLFFBQ3BCNUMsbURBQVdBLENBQUNPLHFCQUFxQixFQUNqQ04sbURBQVdBLENBQUNNLHFCQUFxQixFQUNqQyxPQUNBO2dCQUFFaUQsZUFBZVo7WUFBTTtRQUUzQjtJQUNGO0FBQ0Y7QUFFQSx3QkFBd0I7QUFDakIsU0FBU2EsdUJBQXVCQyxPQUFxQjtJQUMxRCxPQUFPQSxRQUFRQyxLQUFLLENBQUMsQ0FBQ2Y7UUFDcEIsSUFBSSxDQUFDQyxtQkFBbUJELFFBQVE7WUFDOUIsd0JBQXdCO1lBQ3hCZ0IsUUFBUWhCLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQ2hEO1FBQ0EsTUFBTUE7SUFDUjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8uL3NyYy9saWIvZXJyb3JzLnRzPzQ1MWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRVJST1JfQ09ERVMsIEhUVFBfU1RBVFVTIH0gZnJvbSAnLi9jb25zdGFudHMnXG5cbmV4cG9ydCBjbGFzcyBBcHBFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIHJlYWRvbmx5IGNvZGU6IHN0cmluZ1xuICBwdWJsaWMgcmVhZG9ubHkgc3RhdHVzQ29kZTogbnVtYmVyXG4gIHB1YmxpYyByZWFkb25seSBpc09wZXJhdGlvbmFsOiBib29sZWFuXG4gIHB1YmxpYyByZWFkb25seSBjb250ZXh0PzogYW55XG5cbiAgY29uc3RydWN0b3IoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIGNvZGU6IHN0cmluZyA9IEVSUk9SX0NPREVTLklOVEVSTkFMX1NFUlZFUl9FUlJPUixcbiAgICBzdGF0dXNDb2RlOiBudW1iZXIgPSBIVFRQX1NUQVRVUy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG4gICAgaXNPcGVyYXRpb25hbDogYm9vbGVhbiA9IHRydWUsXG4gICAgY29udGV4dD86IGFueVxuICApIHtcbiAgICBzdXBlcihtZXNzYWdlKVxuICAgIFxuICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZVxuICAgIHRoaXMuY29kZSA9IGNvZGVcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlXG4gICAgdGhpcy5pc09wZXJhdGlvbmFsID0gaXNPcGVyYXRpb25hbFxuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHRcblxuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpXG4gIH1cbn1cblxuLy8gU3BlY2lmaWMgZXJyb3IgY2xhc3Nlc1xuZXhwb3J0IGNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEFwcEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBmaWVsZD86IHN0cmluZywgY29udGV4dD86IGFueSkge1xuICAgIHN1cGVyKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIEVSUk9SX0NPREVTLlZBTElEQVRJT05fRVJST1IsXG4gICAgICBIVFRQX1NUQVRVUy5CQURfUkVRVUVTVCxcbiAgICAgIHRydWUsXG4gICAgICB7IGZpZWxkLCAuLi5jb250ZXh0IH1cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZyA9ICdBdXRoZW50aWNhdGlvbiBmYWlsZWQnLCBjb250ZXh0PzogYW55KSB7XG4gICAgc3VwZXIoXG4gICAgICBtZXNzYWdlLFxuICAgICAgRVJST1JfQ09ERVMuVU5BVVRIT1JJWkVELFxuICAgICAgSFRUUF9TVEFUVVMuVU5BVVRIT1JJWkVELFxuICAgICAgdHJ1ZSxcbiAgICAgIGNvbnRleHRcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhvcml6YXRpb25FcnJvciBleHRlbmRzIEFwcEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nID0gJ0FjY2VzcyBmb3JiaWRkZW4nLCBjb250ZXh0PzogYW55KSB7XG4gICAgc3VwZXIoXG4gICAgICBtZXNzYWdlLFxuICAgICAgRVJST1JfQ09ERVMuUkVTT1VSQ0VfRk9SQklEREVOLFxuICAgICAgSFRUUF9TVEFUVVMuRk9SQklEREVOLFxuICAgICAgdHJ1ZSxcbiAgICAgIGNvbnRleHRcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlc291cmNlOiBzdHJpbmcgPSAnUmVzb3VyY2UnLCBjb250ZXh0PzogYW55KSB7XG4gICAgc3VwZXIoXG4gICAgICBgJHtyZXNvdXJjZX0gbm90IGZvdW5kYCxcbiAgICAgIEVSUk9SX0NPREVTLlJFU09VUkNFX05PVF9GT1VORCxcbiAgICAgIEhUVFBfU1RBVFVTLk5PVF9GT1VORCxcbiAgICAgIHRydWUsXG4gICAgICBjb250ZXh0XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb25mbGljdEVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBhbnkpIHtcbiAgICBzdXBlcihcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBFUlJPUl9DT0RFUy5SRVNPVVJDRV9BTFJFQURZX0VYSVNUUyxcbiAgICAgIEhUVFBfU1RBVFVTLkNPTkZMSUNULFxuICAgICAgdHJ1ZSxcbiAgICAgIGNvbnRleHRcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERhdGFiYXNlRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IGFueSkge1xuICAgIHN1cGVyKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIEVSUk9SX0NPREVTLkRBVEFCQVNFX0VSUk9SLFxuICAgICAgSFRUUF9TVEFUVVMuSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuICAgICAgdHJ1ZSxcbiAgICAgIGNvbnRleHRcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV4dGVybmFsU2VydmljZUVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihzZXJ2aWNlOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IGFueSkge1xuICAgIHN1cGVyKFxuICAgICAgYEV4dGVybmFsIHNlcnZpY2UgZXJyb3IgKCR7c2VydmljZX0pOiAke21lc3NhZ2V9YCxcbiAgICAgIEVSUk9SX0NPREVTLkVYVEVSTkFMX1NFUlZJQ0VfRVJST1IsXG4gICAgICBIVFRQX1NUQVRVUy5CQURfR0FURVdBWSxcbiAgICAgIHRydWUsXG4gICAgICBjb250ZXh0XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSYXRlTGltaXRFcnJvciBleHRlbmRzIEFwcEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nID0gJ1JhdGUgbGltaXQgZXhjZWVkZWQnLCBjb250ZXh0PzogYW55KSB7XG4gICAgc3VwZXIoXG4gICAgICBtZXNzYWdlLFxuICAgICAgRVJST1JfQ09ERVMuUkFURV9MSU1JVF9FWENFRURFRCxcbiAgICAgIEhUVFBfU1RBVFVTLlRPT19NQU5ZX1JFUVVFU1RTLFxuICAgICAgdHJ1ZSxcbiAgICAgIGNvbnRleHRcbiAgICApXG4gIH1cbn1cblxuLy8gRXJyb3IgZmFjdG9yeSBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWYWxpZGF0aW9uRXJyb3IoZmllbGQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCB2YWx1ZT86IGFueSk6IFZhbGlkYXRpb25FcnJvciB7XG4gIHJldHVybiBuZXcgVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UsIGZpZWxkLCB7IHZhbHVlIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RGb3VuZEVycm9yKHJlc291cmNlOiBzdHJpbmcsIGlkPzogc3RyaW5nKTogTm90Rm91bmRFcnJvciB7XG4gIHJldHVybiBuZXcgTm90Rm91bmRFcnJvcihyZXNvdXJjZSwgeyBpZCB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29uZmxpY3RFcnJvcihyZXNvdXJjZTogc3RyaW5nLCBmaWVsZDogc3RyaW5nLCB2YWx1ZTogYW55KTogQ29uZmxpY3RFcnJvciB7XG4gIHJldHVybiBuZXcgQ29uZmxpY3RFcnJvcihcbiAgICBgJHtyZXNvdXJjZX0gd2l0aCAke2ZpZWxkfSAnJHt2YWx1ZX0nIGFscmVhZHkgZXhpc3RzYCxcbiAgICB7IHJlc291cmNlLCBmaWVsZCwgdmFsdWUgfVxuICApXG59XG5cbi8vIEVycm9yIGhhbmRsaW5nIHV0aWxpdGllc1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXBwRXJyb3IoZXJyb3I6IGFueSk6IGVycm9yIGlzIEFwcEVycm9yIHtcbiAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgQXBwRXJyb3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT3BlcmF0aW9uYWxFcnJvcihlcnJvcjogYW55KTogYm9vbGVhbiB7XG4gIGlmIChpc0FwcEVycm9yKGVycm9yKSkge1xuICAgIHJldHVybiBlcnJvci5pc09wZXJhdGlvbmFsXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yOiBhbnkpOiBzdHJpbmcge1xuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHJldHVybiBlcnJvci5tZXNzYWdlXG4gIH1cbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZXJyb3JcbiAgfVxuICByZXR1cm4gJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0RXJyb3JDb2RlKGVycm9yOiBhbnkpOiBzdHJpbmcge1xuICBpZiAoaXNBcHBFcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4gZXJyb3IuY29kZVxuICB9XG4gIHJldHVybiBFUlJPUl9DT0RFUy5JTlRFUk5BTF9TRVJWRVJfRVJST1Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RTdGF0dXNDb2RlKGVycm9yOiBhbnkpOiBudW1iZXIge1xuICBpZiAoaXNBcHBFcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4gZXJyb3Iuc3RhdHVzQ29kZVxuICB9XG4gIHJldHVybiBIVFRQX1NUQVRVUy5JTlRFUk5BTF9TRVJWRVJfRVJST1Jcbn1cblxuLy8gRXJyb3Igc2VyaWFsaXphdGlvblxuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVkRXJyb3Ige1xuICBtZXNzYWdlOiBzdHJpbmdcbiAgY29kZTogc3RyaW5nXG4gIHN0YXR1c0NvZGU6IG51bWJlclxuICBjb250ZXh0PzogYW55XG4gIHN0YWNrPzogc3RyaW5nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVFcnJvcihlcnJvcjogYW55LCBpbmNsdWRlU3RhY2s6IGJvb2xlYW4gPSBmYWxzZSk6IFNlcmlhbGl6ZWRFcnJvciB7XG4gIGNvbnN0IHNlcmlhbGl6ZWQ6IFNlcmlhbGl6ZWRFcnJvciA9IHtcbiAgICBtZXNzYWdlOiBleHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yKSxcbiAgICBjb2RlOiBleHRyYWN0RXJyb3JDb2RlKGVycm9yKSxcbiAgICBzdGF0dXNDb2RlOiBleHRyYWN0U3RhdHVzQ29kZShlcnJvciksXG4gIH1cblxuICBpZiAoaXNBcHBFcnJvcihlcnJvcikgJiYgZXJyb3IuY29udGV4dCkge1xuICAgIHNlcmlhbGl6ZWQuY29udGV4dCA9IGVycm9yLmNvbnRleHRcbiAgfVxuXG4gIGlmIChpbmNsdWRlU3RhY2sgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHNlcmlhbGl6ZWQuc3RhY2sgPSBlcnJvci5zdGFja1xuICB9XG5cbiAgcmV0dXJuIHNlcmlhbGl6ZWRcbn1cblxuLy8gQXN5bmMgZXJyb3Igd3JhcHBlclxuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jV3JhcHBlcjxUIGV4dGVuZHMgYW55W10sIFI+KFxuICBmbjogKC4uLmFyZ3M6IFQpID0+IFByb21pc2U8Uj5cbikge1xuICByZXR1cm4gYXN5bmMgKC4uLmFyZ3M6IFQpOiBQcm9taXNlPFI+ID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGZuKC4uLmFyZ3MpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc09wZXJhdGlvbmFsRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENvbnZlcnQgbm9uLW9wZXJhdGlvbmFsIGVycm9ycyB0byBvcGVyYXRpb25hbCBvbmVzXG4gICAgICB0aHJvdyBuZXcgQXBwRXJyb3IoXG4gICAgICAgIGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IpLFxuICAgICAgICBFUlJPUl9DT0RFUy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG4gICAgICAgIEhUVFBfU1RBVFVTLklOVEVSTkFMX1NFUlZFUl9FUlJPUixcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHsgb3JpZ2luYWxFcnJvcjogZXJyb3IgfVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG4vLyBQcm9taXNlIGVycm9yIGhhbmRsZXJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVQcm9taXNlUmVqZWN0aW9uKHByb21pc2U6IFByb21pc2U8YW55Pik6IFByb21pc2U8YW55PiB7XG4gIHJldHVybiBwcm9taXNlLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIGlmICghaXNPcGVyYXRpb25hbEVycm9yKGVycm9yKSkge1xuICAgICAgLy8gTG9nIHVuZXhwZWN0ZWQgZXJyb3JzXG4gICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb246JywgZXJyb3IpXG4gICAgfVxuICAgIHRocm93IGVycm9yXG4gIH0pXG59Il0sIm5hbWVzIjpbIkVSUk9SX0NPREVTIiwiSFRUUF9TVEFUVVMiLCJBcHBFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiY29kZSIsIklOVEVSTkFMX1NFUlZFUl9FUlJPUiIsInN0YXR1c0NvZGUiLCJpc09wZXJhdGlvbmFsIiwiY29udGV4dCIsIm5hbWUiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIlZhbGlkYXRpb25FcnJvciIsImZpZWxkIiwiVkFMSURBVElPTl9FUlJPUiIsIkJBRF9SRVFVRVNUIiwiQXV0aGVudGljYXRpb25FcnJvciIsIlVOQVVUSE9SSVpFRCIsIkF1dGhvcml6YXRpb25FcnJvciIsIlJFU09VUkNFX0ZPUkJJRERFTiIsIkZPUkJJRERFTiIsIk5vdEZvdW5kRXJyb3IiLCJyZXNvdXJjZSIsIlJFU09VUkNFX05PVF9GT1VORCIsIk5PVF9GT1VORCIsIkNvbmZsaWN0RXJyb3IiLCJSRVNPVVJDRV9BTFJFQURZX0VYSVNUUyIsIkNPTkZMSUNUIiwiRGF0YWJhc2VFcnJvciIsIkRBVEFCQVNFX0VSUk9SIiwiRXh0ZXJuYWxTZXJ2aWNlRXJyb3IiLCJzZXJ2aWNlIiwiRVhURVJOQUxfU0VSVklDRV9FUlJPUiIsIkJBRF9HQVRFV0FZIiwiUmF0ZUxpbWl0RXJyb3IiLCJSQVRFX0xJTUlUX0VYQ0VFREVEIiwiVE9PX01BTllfUkVRVUVTVFMiLCJjcmVhdGVWYWxpZGF0aW9uRXJyb3IiLCJ2YWx1ZSIsImNyZWF0ZU5vdEZvdW5kRXJyb3IiLCJpZCIsImNyZWF0ZUNvbmZsaWN0RXJyb3IiLCJpc0FwcEVycm9yIiwiZXJyb3IiLCJpc09wZXJhdGlvbmFsRXJyb3IiLCJleHRyYWN0RXJyb3JNZXNzYWdlIiwiZXh0cmFjdEVycm9yQ29kZSIsImV4dHJhY3RTdGF0dXNDb2RlIiwic2VyaWFsaXplRXJyb3IiLCJpbmNsdWRlU3RhY2siLCJzZXJpYWxpemVkIiwic3RhY2siLCJhc3luY1dyYXBwZXIiLCJmbiIsImFyZ3MiLCJvcmlnaW5hbEVycm9yIiwiaGFuZGxlUHJvbWlzZVJlamVjdGlvbiIsInByb21pc2UiLCJjYXRjaCIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/errors.ts\n");

/***/ }),

/***/ "(api)/./src/lib/logger.ts":
/*!***************************!*\
  !*** ./src/lib/logger.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevel: () => (/* binding */ LogLevel),\n/* harmony export */   logApiError: () => (/* binding */ logApiError),\n/* harmony export */   logApiRequest: () => (/* binding */ logApiRequest),\n/* harmony export */   logDatabaseConnection: () => (/* binding */ logDatabaseConnection),\n/* harmony export */   logDatabaseQuery: () => (/* binding */ logDatabaseQuery),\n/* harmony export */   logError: () => (/* binding */ logError),\n/* harmony export */   logHealthCheck: () => (/* binding */ logHealthCheck),\n/* harmony export */   logNetworkInfo: () => (/* binding */ logNetworkInfo),\n/* harmony export */   logStartup: () => (/* binding */ logStartup),\n/* harmony export */   logSystemEvent: () => (/* binding */ logSystemEvent),\n/* harmony export */   logUserAction: () => (/* binding */ logUserAction),\n/* harmony export */   logger: () => (/* binding */ logger)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"(api)/./src/lib/config.ts\");\n\nvar LogLevel;\n(function(LogLevel) {\n    LogLevel[LogLevel[\"ERROR\"] = 0] = \"ERROR\";\n    LogLevel[LogLevel[\"WARN\"] = 1] = \"WARN\";\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n    LogLevel[LogLevel[\"DEBUG\"] = 3] = \"DEBUG\";\n})(LogLevel || (LogLevel = {}));\nclass ConsoleLogger {\n    constructor(level){\n        this.level = this.parseLogLevel(level);\n    }\n    parseLogLevel(level) {\n        switch(level.toLowerCase()){\n            case \"error\":\n                return 0;\n            case \"warn\":\n                return 1;\n            case \"info\":\n                return 2;\n            case \"debug\":\n                return 3;\n            default:\n                return 2;\n        }\n    }\n    shouldLog(level) {\n        return level <= this.level;\n    }\n    formatMessage(level, message, context) {\n        const timestamp = new Date().toISOString();\n        const baseMessage = `[${timestamp}] ${level.toUpperCase()}: ${message}`;\n        if (context && Object.keys(context).length > 0) {\n            if (_config__WEBPACK_IMPORTED_MODULE_0__.config.logging.pretty) {\n                return `${baseMessage}\\n${JSON.stringify(context, null, 2)}`;\n            } else {\n                return `${baseMessage} ${JSON.stringify(context)}`;\n            }\n        }\n        return baseMessage;\n    }\n    error(message, context) {\n        if (this.shouldLog(0)) {\n            console.error(this.formatMessage(\"error\", message, context));\n        }\n    }\n    warn(message, context) {\n        if (this.shouldLog(1)) {\n            console.warn(this.formatMessage(\"warn\", message, context));\n        }\n    }\n    info(message, context) {\n        if (this.shouldLog(2)) {\n            console.info(this.formatMessage(\"info\", message, context));\n        }\n    }\n    debug(message, context) {\n        if (this.shouldLog(3)) {\n            console.debug(this.formatMessage(\"debug\", message, context));\n        }\n    }\n}\n// Create singleton logger instance\nconst logger = new ConsoleLogger(_config__WEBPACK_IMPORTED_MODULE_0__.config.logging.level);\n// Utility functions for structured logging\nfunction logError(error, context) {\n    logger.error(error.message, {\n        ...context,\n        stack: error.stack,\n        name: error.name\n    });\n}\nfunction logApiRequest(method, url, userId, duration) {\n    logger.info(\"API Request\", {\n        method,\n        url,\n        userId,\n        duration: duration ? `${duration}ms` : undefined\n    });\n}\nfunction logApiError(method, url, error, userId) {\n    logger.error(\"API Error\", {\n        method,\n        url,\n        userId,\n        error: error.message,\n        stack: error.stack\n    });\n}\nfunction logDatabaseQuery(query, duration, error) {\n    if (error) {\n        logger.error(\"Database Query Error\", {\n            query,\n            duration: duration ? `${duration}ms` : undefined,\n            error: error.message\n        });\n    } else {\n        logger.debug(\"Database Query\", {\n            query,\n            duration: duration ? `${duration}ms` : undefined\n        });\n    }\n}\nfunction logUserAction(action, userId, context) {\n    logger.info(\"User Action\", {\n        action,\n        userId,\n        ...context\n    });\n}\nfunction logSystemEvent(event, context) {\n    logger.info(\"System Event\", {\n        event,\n        ...context\n    });\n}\nfunction logStartup(component, status, context) {\n    const level = status === \"failed\" ? \"error\" : \"info\";\n    logger[level](`🚀 ${component} ${status.toUpperCase()}`, {\n        component,\n        status,\n        timestamp: new Date().toISOString(),\n        ...context\n    });\n}\nfunction logHealthCheck(component, healthy, context) {\n    const status = healthy ? \"healthy\" : \"unhealthy\";\n    const level = healthy ? \"info\" : \"error\";\n    logger[level](`💚 Health Check: ${component} is ${status}`, {\n        component,\n        healthy,\n        ...context\n    });\n}\nfunction logNetworkInfo(port, host = \"localhost\", context) {\n    logger.info(\"\\uD83C\\uDF10 Server Network Configuration\", {\n        port,\n        host,\n        url: `http://${host}:${port}`,\n        ...context\n    });\n}\nfunction logDatabaseConnection(status, context) {\n    const level = status === \"failed\" ? \"error\" : \"info\";\n    const emoji = status === \"connected\" ? \"✅\" : status === \"connecting\" ? \"\\uD83D\\uDD04\" : \"❌\";\n    logger[level](`${emoji} Database ${status.toUpperCase()}`, {\n        status,\n        ...context\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDWjtBQUNGO0FBRU8sU0FBU3NDLGVBQWVGLFNBQWlCLEVBQUVHLE9BQWdCLEVBQUV2QyxPQUFvQjtJQUN0RixNQUFNcUMsU0FBU0UsVUFBVSxZQUFZO0lBQ3JDLE1BQU03QyxRQUFRNkMsVUFBVSxTQUFTO0lBQ2pDckIsTUFBTSxDQUFDeEIsTUFBTSxDQUFDLENBQUMsaUJBQWlCLEVBQUUwQyxVQUFVLElBQUksRUFBRUMsT0FBTyxDQUFDLEVBQUU7UUFDMUREO1FBQ0FHO1FBQ0EsR0FBR3ZDLE9BQU87SUFDWjtBQUNGO0FBRU8sU0FBU3dDLGVBQWVDLElBQVksRUFBRUMsT0FBTyxXQUFXLEVBQUUxQyxPQUFvQjtJQUNuRmtCLE9BQU9GLElBQUksQ0FBQyw2Q0FBbUM7UUFDN0N5QjtRQUNBQztRQUNBbEIsS0FBSyxDQUFDLE9BQU8sRUFBRWtCLEtBQUssQ0FBQyxFQUFFRCxLQUFLLENBQUM7UUFDN0IsR0FBR3pDLE9BQU87SUFDWjtBQUNGO0FBRU8sU0FBUzJDLHNCQUFzQk4sTUFBNkMsRUFBRXJDLE9BQW9CO0lBQ3ZHLE1BQU1OLFFBQVEyQyxXQUFXLFdBQVcsVUFBVTtJQUM5QyxNQUFNTyxRQUFRUCxXQUFXLGNBQWMsTUFBTUEsV0FBVyxlQUFlLGlCQUFPO0lBQzlFbkIsTUFBTSxDQUFDeEIsTUFBTSxDQUFDLENBQUMsRUFBRWtELE1BQU0sVUFBVSxFQUFFUCxPQUFPaEMsV0FBVyxHQUFHLENBQUMsRUFBRTtRQUN6RGdDO1FBQ0EsR0FBR3JDLE9BQU87SUFDWjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8uL3NyYy9saWIvbG9nZ2VyLnRzP2I0OWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnXG5cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcbiAgRVJST1IgPSAwLFxuICBXQVJOID0gMSxcbiAgSU5GTyA9IDIsXG4gIERFQlVHID0gMyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dDb250ZXh0IHtcbiAgW2tleTogc3RyaW5nXTogYW55XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyIHtcbiAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHZvaWRcbiAgd2FybihtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBMb2dDb250ZXh0KTogdm9pZFxuICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IExvZ0NvbnRleHQpOiB2b2lkXG4gIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IExvZ0NvbnRleHQpOiB2b2lkXG59XG5cbmNsYXNzIENvbnNvbGVMb2dnZXIgaW1wbGVtZW50cyBMb2dnZXIge1xuICBwcml2YXRlIGxldmVsOiBMb2dMZXZlbFxuXG4gIGNvbnN0cnVjdG9yKGxldmVsOiBzdHJpbmcpIHtcbiAgICB0aGlzLmxldmVsID0gdGhpcy5wYXJzZUxvZ0xldmVsKGxldmVsKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUxvZ0xldmVsKGxldmVsOiBzdHJpbmcpOiBMb2dMZXZlbCB7XG4gICAgc3dpdGNoIChsZXZlbC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlICdlcnJvcic6IHJldHVybiBMb2dMZXZlbC5FUlJPUlxuICAgICAgY2FzZSAnd2Fybic6IHJldHVybiBMb2dMZXZlbC5XQVJOXG4gICAgICBjYXNlICdpbmZvJzogcmV0dXJuIExvZ0xldmVsLklORk9cbiAgICAgIGNhc2UgJ2RlYnVnJzogcmV0dXJuIExvZ0xldmVsLkRFQlVHXG4gICAgICBkZWZhdWx0OiByZXR1cm4gTG9nTGV2ZWwuSU5GT1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkTG9nKGxldmVsOiBMb2dMZXZlbCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBsZXZlbCA8PSB0aGlzLmxldmVsXG4gIH1cblxuICBwcml2YXRlIGZvcm1hdE1lc3NhZ2UobGV2ZWw6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHN0cmluZyB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgY29uc3QgYmFzZU1lc3NhZ2UgPSBgWyR7dGltZXN0YW1wfV0gJHtsZXZlbC50b1VwcGVyQ2FzZSgpfTogJHttZXNzYWdlfWBcbiAgICBcbiAgICBpZiAoY29udGV4dCAmJiBPYmplY3Qua2V5cyhjb250ZXh0KS5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoY29uZmlnLmxvZ2dpbmcucHJldHR5KSB7XG4gICAgICAgIHJldHVybiBgJHtiYXNlTWVzc2FnZX1cXG4ke0pTT04uc3RyaW5naWZ5KGNvbnRleHQsIG51bGwsIDIpfWBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBgJHtiYXNlTWVzc2FnZX0gJHtKU09OLnN0cmluZ2lmeShjb250ZXh0KX1gXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBiYXNlTWVzc2FnZVxuICB9XG5cbiAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3VsZExvZyhMb2dMZXZlbC5FUlJPUikpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5mb3JtYXRNZXNzYWdlKCdlcnJvcicsIG1lc3NhZ2UsIGNvbnRleHQpKVxuICAgIH1cbiAgfVxuXG4gIHdhcm4obWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3VsZExvZyhMb2dMZXZlbC5XQVJOKSkge1xuICAgICAgY29uc29sZS53YXJuKHRoaXMuZm9ybWF0TWVzc2FnZSgnd2FybicsIG1lc3NhZ2UsIGNvbnRleHQpKVxuICAgIH1cbiAgfVxuXG4gIGluZm8obWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3VsZExvZyhMb2dMZXZlbC5JTkZPKSkge1xuICAgICAgY29uc29sZS5pbmZvKHRoaXMuZm9ybWF0TWVzc2FnZSgnaW5mbycsIG1lc3NhZ2UsIGNvbnRleHQpKVxuICAgIH1cbiAgfVxuXG4gIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IExvZ0NvbnRleHQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zaG91bGRMb2coTG9nTGV2ZWwuREVCVUcpKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKHRoaXMuZm9ybWF0TWVzc2FnZSgnZGVidWcnLCBtZXNzYWdlLCBjb250ZXh0KSlcbiAgICB9XG4gIH1cbn1cblxuLy8gQ3JlYXRlIHNpbmdsZXRvbiBsb2dnZXIgaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBsb2dnZXI6IExvZ2dlciA9IG5ldyBDb25zb2xlTG9nZ2VyKGNvbmZpZy5sb2dnaW5nLmxldmVsKVxuXG4vLyBVdGlsaXR5IGZ1bmN0aW9ucyBmb3Igc3RydWN0dXJlZCBsb2dnaW5nXG5leHBvcnQgZnVuY3Rpb24gbG9nRXJyb3IoZXJyb3I6IEVycm9yLCBjb250ZXh0PzogTG9nQ29udGV4dCkge1xuICBsb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSwge1xuICAgIC4uLmNvbnRleHQsXG4gICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgIG5hbWU6IGVycm9yLm5hbWUsXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dBcGlSZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgdXNlcklkPzogc3RyaW5nLCBkdXJhdGlvbj86IG51bWJlcikge1xuICBsb2dnZXIuaW5mbygnQVBJIFJlcXVlc3QnLCB7XG4gICAgbWV0aG9kLFxuICAgIHVybCxcbiAgICB1c2VySWQsXG4gICAgZHVyYXRpb246IGR1cmF0aW9uID8gYCR7ZHVyYXRpb259bXNgIDogdW5kZWZpbmVkLFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nQXBpRXJyb3IobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBlcnJvcjogRXJyb3IsIHVzZXJJZD86IHN0cmluZykge1xuICBsb2dnZXIuZXJyb3IoJ0FQSSBFcnJvcicsIHtcbiAgICBtZXRob2QsXG4gICAgdXJsLFxuICAgIHVzZXJJZCxcbiAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dEYXRhYmFzZVF1ZXJ5KHF1ZXJ5OiBzdHJpbmcsIGR1cmF0aW9uPzogbnVtYmVyLCBlcnJvcj86IEVycm9yKSB7XG4gIGlmIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRGF0YWJhc2UgUXVlcnkgRXJyb3InLCB7XG4gICAgICBxdWVyeSxcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiA/IGAke2R1cmF0aW9ufW1zYCA6IHVuZGVmaW5lZCxcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgbG9nZ2VyLmRlYnVnKCdEYXRhYmFzZSBRdWVyeScsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgZHVyYXRpb246IGR1cmF0aW9uID8gYCR7ZHVyYXRpb259bXNgIDogdW5kZWZpbmVkLFxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ1VzZXJBY3Rpb24oYWN0aW9uOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCkge1xuICBsb2dnZXIuaW5mbygnVXNlciBBY3Rpb24nLCB7XG4gICAgYWN0aW9uLFxuICAgIHVzZXJJZCxcbiAgICAuLi5jb250ZXh0LFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nU3lzdGVtRXZlbnQoZXZlbnQ6IHN0cmluZywgY29udGV4dD86IExvZ0NvbnRleHQpIHtcbiAgbG9nZ2VyLmluZm8oJ1N5c3RlbSBFdmVudCcsIHtcbiAgICBldmVudCxcbiAgICAuLi5jb250ZXh0LFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nU3RhcnR1cChjb21wb25lbnQ6IHN0cmluZywgc3RhdHVzOiAnc3RhcnRpbmcnIHwgJ3JlYWR5JyB8ICdmYWlsZWQnLCBjb250ZXh0PzogTG9nQ29udGV4dCkge1xuICBjb25zdCBsZXZlbCA9IHN0YXR1cyA9PT0gJ2ZhaWxlZCcgPyAnZXJyb3InIDogJ2luZm8nXG4gIGxvZ2dlcltsZXZlbF0oYPCfmoAgJHtjb21wb25lbnR9ICR7c3RhdHVzLnRvVXBwZXJDYXNlKCl9YCwge1xuICAgIGNvbXBvbmVudCxcbiAgICBzdGF0dXMsXG4gICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgLi4uY29udGV4dCxcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ0hlYWx0aENoZWNrKGNvbXBvbmVudDogc3RyaW5nLCBoZWFsdGh5OiBib29sZWFuLCBjb250ZXh0PzogTG9nQ29udGV4dCkge1xuICBjb25zdCBzdGF0dXMgPSBoZWFsdGh5ID8gJ2hlYWx0aHknIDogJ3VuaGVhbHRoeSdcbiAgY29uc3QgbGV2ZWwgPSBoZWFsdGh5ID8gJ2luZm8nIDogJ2Vycm9yJ1xuICBsb2dnZXJbbGV2ZWxdKGDwn5KaIEhlYWx0aCBDaGVjazogJHtjb21wb25lbnR9IGlzICR7c3RhdHVzfWAsIHtcbiAgICBjb21wb25lbnQsXG4gICAgaGVhbHRoeSxcbiAgICAuLi5jb250ZXh0LFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nTmV0d29ya0luZm8ocG9ydDogbnVtYmVyLCBob3N0ID0gJ2xvY2FsaG9zdCcsIGNvbnRleHQ/OiBMb2dDb250ZXh0KSB7XG4gIGxvZ2dlci5pbmZvKCfwn4yQIFNlcnZlciBOZXR3b3JrIENvbmZpZ3VyYXRpb24nLCB7XG4gICAgcG9ydCxcbiAgICBob3N0LFxuICAgIHVybDogYGh0dHA6Ly8ke2hvc3R9OiR7cG9ydH1gLFxuICAgIC4uLmNvbnRleHQsXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dEYXRhYmFzZUNvbm5lY3Rpb24oc3RhdHVzOiAnY29ubmVjdGluZycgfCAnY29ubmVjdGVkJyB8ICdmYWlsZWQnLCBjb250ZXh0PzogTG9nQ29udGV4dCkge1xuICBjb25zdCBsZXZlbCA9IHN0YXR1cyA9PT0gJ2ZhaWxlZCcgPyAnZXJyb3InIDogJ2luZm8nXG4gIGNvbnN0IGVtb2ppID0gc3RhdHVzID09PSAnY29ubmVjdGVkJyA/ICfinIUnIDogc3RhdHVzID09PSAnY29ubmVjdGluZycgPyAn8J+UhCcgOiAn4p2MJ1xuICBsb2dnZXJbbGV2ZWxdKGAke2Vtb2ppfSBEYXRhYmFzZSAke3N0YXR1cy50b1VwcGVyQ2FzZSgpfWAsIHtcbiAgICBzdGF0dXMsXG4gICAgLi4uY29udGV4dCxcbiAgfSlcbn0iXSwibmFtZXMiOlsiY29uZmlnIiwiTG9nTGV2ZWwiLCJDb25zb2xlTG9nZ2VyIiwiY29uc3RydWN0b3IiLCJsZXZlbCIsInBhcnNlTG9nTGV2ZWwiLCJ0b0xvd2VyQ2FzZSIsInNob3VsZExvZyIsImZvcm1hdE1lc3NhZ2UiLCJtZXNzYWdlIiwiY29udGV4dCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImJhc2VNZXNzYWdlIiwidG9VcHBlckNhc2UiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwibG9nZ2luZyIsInByZXR0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiaW5mbyIsImRlYnVnIiwibG9nZ2VyIiwibG9nRXJyb3IiLCJzdGFjayIsIm5hbWUiLCJsb2dBcGlSZXF1ZXN0IiwibWV0aG9kIiwidXJsIiwidXNlcklkIiwiZHVyYXRpb24iLCJ1bmRlZmluZWQiLCJsb2dBcGlFcnJvciIsImxvZ0RhdGFiYXNlUXVlcnkiLCJxdWVyeSIsImxvZ1VzZXJBY3Rpb24iLCJhY3Rpb24iLCJsb2dTeXN0ZW1FdmVudCIsImV2ZW50IiwibG9nU3RhcnR1cCIsImNvbXBvbmVudCIsInN0YXR1cyIsImxvZ0hlYWx0aENoZWNrIiwiaGVhbHRoeSIsImxvZ05ldHdvcmtJbmZvIiwicG9ydCIsImhvc3QiLCJsb2dEYXRhYmFzZUNvbm5lY3Rpb24iLCJlbW9qaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/logger.ts\n");

/***/ }),

/***/ "(api)/./src/repositories/base.repository.ts":
/*!*********************************************!*\
  !*** ./src/repositories/base.repository.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseRepository: () => (/* binding */ BaseRepository)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/db */ \"(api)/./src/lib/db.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/logger */ \"(api)/./src/lib/logger.ts\");\n\n\nclass BaseRepository {\n    async findById(id) {\n        try {\n            const result = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.db[this.tableName].findUnique({\n                where: {\n                    id\n                }\n            });\n            return result;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(`Error finding ${this.tableName} by id`, {\n                id,\n                error\n            });\n            throw error;\n        }\n    }\n    async findMany(filters) {\n        try {\n            const result = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.db[this.tableName].findMany(filters);\n            return result;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(`Error finding many ${this.tableName}`, {\n                filters,\n                error\n            });\n            throw error;\n        }\n    }\n    async create(data) {\n        try {\n            const result = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.db[this.tableName].create({\n                data\n            });\n            _lib_logger__WEBPACK_IMPORTED_MODULE_1__.logger.info(`Created ${this.tableName}`, {\n                id: result.id\n            });\n            return result;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(`Error creating ${this.tableName}`, {\n                data,\n                error\n            });\n            throw error;\n        }\n    }\n    async update(id, data) {\n        try {\n            const result = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.db[this.tableName].update({\n                where: {\n                    id\n                },\n                data\n            });\n            _lib_logger__WEBPACK_IMPORTED_MODULE_1__.logger.info(`Updated ${this.tableName}`, {\n                id\n            });\n            return result;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(`Error updating ${this.tableName}`, {\n                id,\n                data,\n                error\n            });\n            throw error;\n        }\n    }\n    async delete(id) {\n        try {\n            await _lib_db__WEBPACK_IMPORTED_MODULE_0__.db[this.tableName].delete({\n                where: {\n                    id\n                }\n            });\n            _lib_logger__WEBPACK_IMPORTED_MODULE_1__.logger.info(`Deleted ${this.tableName}`, {\n                id\n            });\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(`Error deleting ${this.tableName}`, {\n                id,\n                error\n            });\n            throw error;\n        }\n    }\n    async count(filters) {\n        try {\n            const result = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.db[this.tableName].count(filters);\n            return result;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(`Error counting ${this.tableName}`, {\n                filters,\n                error\n            });\n            throw error;\n        }\n    }\n    async findManyWithPagination(filters = {}, page = 1, limit = 10) {\n        try {\n            const skip = (page - 1) * limit;\n            const [items, total] = await Promise.all([\n                _lib_db__WEBPACK_IMPORTED_MODULE_0__.db[this.tableName].findMany({\n                    ...filters,\n                    skip,\n                    take: limit\n                }),\n                _lib_db__WEBPACK_IMPORTED_MODULE_0__.db[this.tableName].count({\n                    where: filters.where\n                })\n            ]);\n            const totalPages = Math.ceil(total / limit);\n            return {\n                items,\n                total,\n                totalPages\n            };\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(`Error finding ${this.tableName} with pagination`, {\n                filters,\n                page,\n                limit,\n                error\n            });\n            throw error;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcmVwb3NpdG9yaWVzL2Jhc2UucmVwb3NpdG9yeS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEI7QUFDUTtBQUcvQixNQUFlRTtJQUdwQixNQUFNQyxTQUFTQyxFQUFVLEVBQXFCO1FBQzVDLElBQUk7WUFDRixNQUFNQyxTQUFTLE1BQU0sdUNBQVcsQ0FBQyxJQUFJLENBQUNDLFNBQVMsQ0FBQyxDQUFDQyxVQUFVLENBQUM7Z0JBQzFEQyxPQUFPO29CQUFFSjtnQkFBRztZQUNkO1lBQ0EsT0FBT0M7UUFDVCxFQUFFLE9BQU9JLE9BQU87WUFDZFIsK0NBQU1BLENBQUNRLEtBQUssQ0FBQyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUNILFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFBRUY7Z0JBQUlLO1lBQU07WUFDbEUsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTUMsU0FBU0MsT0FBYSxFQUFnQjtRQUMxQyxJQUFJO1lBQ0YsTUFBTU4sU0FBUyxNQUFNLHVDQUFXLENBQUMsSUFBSSxDQUFDQyxTQUFTLENBQUMsQ0FBQ0ksUUFBUSxDQUFDQztZQUMxRCxPQUFPTjtRQUNULEVBQUUsT0FBT0ksT0FBTztZQUNkUiwrQ0FBTUEsQ0FBQ1EsS0FBSyxDQUFDLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDSCxTQUFTLENBQUMsQ0FBQyxFQUFFO2dCQUFFSztnQkFBU0Y7WUFBTTtZQUN0RSxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxNQUFNRyxPQUFPQyxJQUErQyxFQUFjO1FBQ3hFLElBQUk7WUFDRixNQUFNUixTQUFTLE1BQU0sdUNBQVcsQ0FBQyxJQUFJLENBQUNDLFNBQVMsQ0FBQyxDQUFDTSxNQUFNLENBQUM7Z0JBQ3REQztZQUNGO1lBQ0FaLCtDQUFNQSxDQUFDYSxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDUixTQUFTLENBQUMsQ0FBQyxFQUFFO2dCQUFFRixJQUFJQyxPQUFPRCxFQUFFO1lBQUM7WUFDekQsT0FBT0M7UUFD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cG9zaXRvcmllcy9iYXNlLnJlcG9zaXRvcnkudHM/YWEwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYiB9IGZyb20gJy4uL2xpYi9kYidcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL2xpYi9sb2dnZXInXG5pbXBvcnQgeyBSZXBvc2l0b3J5IH0gZnJvbSAnLi4vdHlwZXMnXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlUmVwb3NpdG9yeTxUPiBpbXBsZW1lbnRzIFJlcG9zaXRvcnk8VD4ge1xuICBwcm90ZWN0ZWQgYWJzdHJhY3QgdGFibGVOYW1lOiBzdHJpbmdcblxuICBhc3luYyBmaW5kQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxUIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoZGIgYXMgYW55KVt0aGlzLnRhYmxlTmFtZV0uZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkIH1cbiAgICAgIH0pXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihgRXJyb3IgZmluZGluZyAke3RoaXMudGFibGVOYW1lfSBieSBpZGAsIHsgaWQsIGVycm9yIH0pXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZpbmRNYW55KGZpbHRlcnM/OiBhbnkpOiBQcm9taXNlPFRbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoZGIgYXMgYW55KVt0aGlzLnRhYmxlTmFtZV0uZmluZE1hbnkoZmlsdGVycylcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKGBFcnJvciBmaW5kaW5nIG1hbnkgJHt0aGlzLnRhYmxlTmFtZX1gLCB7IGZpbHRlcnMsIGVycm9yIH0pXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZShkYXRhOiBPbWl0PFQsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFByb21pc2U8VD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoZGIgYXMgYW55KVt0aGlzLnRhYmxlTmFtZV0uY3JlYXRlKHtcbiAgICAgICAgZGF0YVxuICAgICAgfSlcbiAgICAgIGxvZ2dlci5pbmZvKGBDcmVhdGVkICR7dGhpcy50YWJsZU5hbWV9YCwgeyBpZDogcmVzdWx0LmlkIH0pXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihgRXJyb3IgY3JlYXRpbmcgJHt0aGlzLnRhYmxlTmFtZX1gLCB7IGRhdGEsIGVycm9yIH0pXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZShpZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPFQ+KTogUHJvbWlzZTxUPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChkYiBhcyBhbnkpW3RoaXMudGFibGVOYW1lXS51cGRhdGUoe1xuICAgICAgICB3aGVyZTogeyBpZCB9LFxuICAgICAgICBkYXRhXG4gICAgICB9KVxuICAgICAgbG9nZ2VyLmluZm8oYFVwZGF0ZWQgJHt0aGlzLnRhYmxlTmFtZX1gLCB7IGlkIH0pXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihgRXJyb3IgdXBkYXRpbmcgJHt0aGlzLnRhYmxlTmFtZX1gLCB7IGlkLCBkYXRhLCBlcnJvciB9KVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBkZWxldGUoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCAoZGIgYXMgYW55KVt0aGlzLnRhYmxlTmFtZV0uZGVsZXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQgfVxuICAgICAgfSlcbiAgICAgIGxvZ2dlci5pbmZvKGBEZWxldGVkICR7dGhpcy50YWJsZU5hbWV9YCwgeyBpZCB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoYEVycm9yIGRlbGV0aW5nICR7dGhpcy50YWJsZU5hbWV9YCwgeyBpZCwgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY291bnQoZmlsdGVycz86IGFueSk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChkYiBhcyBhbnkpW3RoaXMudGFibGVOYW1lXS5jb3VudChmaWx0ZXJzKVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoYEVycm9yIGNvdW50aW5nICR7dGhpcy50YWJsZU5hbWV9YCwgeyBmaWx0ZXJzLCBlcnJvciB9KVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgZmluZE1hbnlXaXRoUGFnaW5hdGlvbihcbiAgICBmaWx0ZXJzOiBhbnkgPSB7fSxcbiAgICBwYWdlOiBudW1iZXIgPSAxLFxuICAgIGxpbWl0OiBudW1iZXIgPSAxMFxuICApOiBQcm9taXNlPHsgaXRlbXM6IFRbXTsgdG90YWw6IG51bWJlcjsgdG90YWxQYWdlczogbnVtYmVyIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2tpcCA9IChwYWdlIC0gMSkgKiBsaW1pdFxuICAgICAgY29uc3QgW2l0ZW1zLCB0b3RhbF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIChkYiBhcyBhbnkpW3RoaXMudGFibGVOYW1lXS5maW5kTWFueSh7XG4gICAgICAgICAgLi4uZmlsdGVycyxcbiAgICAgICAgICBza2lwLFxuICAgICAgICAgIHRha2U6IGxpbWl0LFxuICAgICAgICB9KSxcbiAgICAgICAgKGRiIGFzIGFueSlbdGhpcy50YWJsZU5hbWVdLmNvdW50KHtcbiAgICAgICAgICB3aGVyZTogZmlsdGVycy53aGVyZSxcbiAgICAgICAgfSksXG4gICAgICBdKVxuXG4gICAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsIC8gbGltaXQpXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1zLFxuICAgICAgICB0b3RhbCxcbiAgICAgICAgdG90YWxQYWdlcyxcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKGBFcnJvciBmaW5kaW5nICR7dGhpcy50YWJsZU5hbWV9IHdpdGggcGFnaW5hdGlvbmAsIHtcbiAgICAgICAgZmlsdGVycyxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgbGltaXQsXG4gICAgICAgIGVycm9yLFxuICAgICAgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbImRiIiwibG9nZ2VyIiwiQmFzZVJlcG9zaXRvcnkiLCJmaW5kQnlJZCIsImlkIiwicmVzdWx0IiwidGFibGVOYW1lIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiZXJyb3IiLCJmaW5kTWFueSIsImZpbHRlcnMiLCJjcmVhdGUiLCJkYXRhIiwiaW5mbyIsInVwZGF0ZSIsImRlbGV0ZSIsImNvdW50IiwiZmluZE1hbnlXaXRoUGFnaW5hdGlvbiIsInBhZ2UiLCJsaW1pdCIsInNraXAiLCJpdGVtcyIsInRvdGFsIiwiUHJvbWlzZSIsImFsbCIsInRha2UiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/repositories/base.repository.ts\n");

/***/ }),

/***/ "(api)/./src/repositories/tag.repository.ts":
/*!********************************************!*\
  !*** ./src/repositories/tag.repository.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TagRepositoryImpl: () => (/* binding */ TagRepositoryImpl),\n/* harmony export */   tagRepository: () => (/* binding */ tagRepository)\n/* harmony export */ });\n/* harmony import */ var _base_repository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.repository */ \"(api)/./src/repositories/base.repository.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/db */ \"(api)/./src/lib/db.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/logger */ \"(api)/./src/lib/logger.ts\");\n\n\n\nclass TagRepositoryImpl extends _base_repository__WEBPACK_IMPORTED_MODULE_0__.BaseRepository {\n    async findByName(name) {\n        try {\n            const tag = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.findUnique({\n                where: {\n                    name\n                }\n            });\n            return tag;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error finding tag by name\", {\n                name,\n                error\n            });\n            throw error;\n        }\n    }\n    async findOrCreate(name) {\n        try {\n            const tag = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.upsert({\n                where: {\n                    name\n                },\n                update: {},\n                create: {\n                    name\n                }\n            });\n            return tag;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error finding or creating tag\", {\n                name,\n                error\n            });\n            throw error;\n        }\n    }\n    async findManyByNames(names) {\n        try {\n            const tags = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.findMany({\n                where: {\n                    name: {\n                        in: names\n                    }\n                }\n            });\n            return tags;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error finding tags by names\", {\n                names,\n                error\n            });\n            throw error;\n        }\n    }\n    async searchTags(query, limit = 10) {\n        try {\n            const tags = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.findMany({\n                where: {\n                    name: {\n                        contains: query,\n                        mode: \"insensitive\"\n                    }\n                },\n                take: limit,\n                orderBy: {\n                    name: \"asc\"\n                }\n            });\n            return tags;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error searching tags\", {\n                query,\n                limit,\n                error\n            });\n            throw error;\n        }\n    }\n    async getPopularTags(limit = 20) {\n        try {\n            const tags = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.findMany({\n                include: {\n                    _count: {\n                        select: {\n                            videos: true\n                        }\n                    }\n                },\n                orderBy: {\n                    videos: {\n                        _count: \"desc\"\n                    }\n                },\n                take: limit\n            });\n            return tags;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error getting popular tags\", {\n                limit,\n                error\n            });\n            throw error;\n        }\n    }\n    async getTagsWithVideoCount() {\n        try {\n            const tagsWithCount = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.findMany({\n                include: {\n                    _count: {\n                        select: {\n                            videos: true\n                        }\n                    }\n                },\n                orderBy: {\n                    name: \"asc\"\n                }\n            });\n            return tagsWithCount.map((tag)=>({\n                    ...tag,\n                    videoCount: tag._count.videos\n                }));\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error getting tags with video count\", {\n                error\n            });\n            throw error;\n        }\n    }\n    async getTagsByVideoId(videoId) {\n        try {\n            const videoTags = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.videoTag.findMany({\n                where: {\n                    videoId\n                },\n                include: {\n                    tag: true\n                }\n            });\n            return videoTags.map((vt)=>vt.tag);\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error getting tags by video id\", {\n                videoId,\n                error\n            });\n            throw error;\n        }\n    }\n    async createMultiple(names) {\n        try {\n            // Filter out existing tags\n            const existingTags = await this.findManyByNames(names);\n            const existingNames = existingTags.map((tag)=>tag.name);\n            const newNames = names.filter((name)=>!existingNames.includes(name));\n            if (newNames.length === 0) {\n                return existingTags;\n            }\n            // Create new tags\n            const newTags = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.createMany({\n                data: newNames.map((name)=>({\n                        name\n                    })),\n                skipDuplicates: true\n            });\n            // Return all tags (existing + new)\n            return this.findManyByNames(names);\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error creating multiple tags\", {\n                names,\n                error\n            });\n            throw error;\n        }\n    }\n    async getTagUsageStats(tagId) {\n        try {\n            const [videoCount, ratingStats] = await Promise.all([\n                _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.videoTag.count({\n                    where: {\n                        tagId\n                    }\n                }),\n                _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.rating.aggregate({\n                    where: {\n                        tagId\n                    },\n                    _count: {\n                        level: true\n                    },\n                    _avg: {\n                        level: true\n                    }\n                })\n            ]);\n            return {\n                totalVideos: videoCount,\n                totalRatings: ratingStats._count.level,\n                averageRating: ratingStats._avg.level || 0\n            };\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error getting tag usage stats\", {\n                tagId,\n                error\n            });\n            throw error;\n        }\n    }\n    async getTrendingTags(days = 7, limit = 10) {\n        try {\n            const dateThreshold = new Date();\n            dateThreshold.setDate(dateThreshold.getDate() - days);\n            const trendingTags = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.findMany({\n                include: {\n                    videos: {\n                        where: {\n                            video: {\n                                createdAt: {\n                                    gte: dateThreshold\n                                }\n                            }\n                        }\n                    }\n                }\n            });\n            const tagsWithCounts = trendingTags.map((tag)=>({\n                    ...tag,\n                    recentVideos: tag.videos.length\n                })).filter((tag)=>tag.recentVideos > 0).sort((a, b)=>b.recentVideos - a.recentVideos).slice(0, limit);\n            return tagsWithCounts;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error getting trending tags\", {\n                days,\n                limit,\n                error\n            });\n            throw error;\n        }\n    }\n    async findAllWithCounts() {\n        try {\n            const tags = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.findMany({\n                include: {\n                    _count: {\n                        select: {\n                            videos: true\n                        }\n                    }\n                },\n                orderBy: {\n                    name: \"asc\"\n                }\n            });\n            return tags;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error finding all tags with counts\", {\n                error\n            });\n            throw error;\n        }\n    }\n    async findPopular(limit = 20) {\n        try {\n            const tags = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.findMany({\n                include: {\n                    _count: {\n                        select: {\n                            videos: true\n                        }\n                    }\n                },\n                orderBy: {\n                    videos: {\n                        _count: \"desc\"\n                    }\n                },\n                take: limit\n            });\n            return tags;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error finding popular tags\", {\n                limit,\n                error\n            });\n            throw error;\n        }\n    }\n    async search(query, limit = 10) {\n        try {\n            const tags = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.tag.findMany({\n                where: {\n                    name: {\n                        contains: query,\n                        mode: \"insensitive\"\n                    }\n                },\n                take: limit,\n                orderBy: {\n                    name: \"asc\"\n                }\n            });\n            return tags;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error searching tags\", {\n                query,\n                limit,\n                error\n            });\n            throw error;\n        }\n    }\n    constructor(...args){\n        super(...args);\n        this.tableName = \"tag\";\n    }\n}\n// Export singleton instance\nconst tagRepository = new TagRepositoryImpl();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcmVwb3NpdG9yaWVzL3RhZy5yZXBvc2l0b3J5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ2tEO0FBQ3BCO0FBQ1E7QUFFL0IsTUFBTUcsMEJBQTBCSCw0REFBY0E7SUFHbkQsTUFBTUksV0FBV0MsSUFBWSxFQUF1QjtRQUNsRCxJQUFJO1lBQ0YsTUFBTUMsTUFBTSxNQUFNTCx1Q0FBRUEsQ0FBQ0ssR0FBRyxDQUFDQyxVQUFVLENBQUM7Z0JBQ2xDQyxPQUFPO29CQUFFSDtnQkFBSztZQUNoQjtZQUNBLE9BQU9DO1FBQ1QsRUFBRSxPQUFPRyxPQUFPO1lBQ2RQLCtDQUFNQSxDQUFDTyxLQUFLLENBQUMsNkJBQTZCO2dCQUFFSjtnQkFBTUk7WUFBTTtZQUN4RCxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxNQUFNQyxhQUFhTCxJQUFZLEVBQWdCO1FBQzdDLElBQUk7WUFDRixNQUFNQyxNQUFNLE1BQU1MLHVDQUFFQSxDQUFDSyxHQUFHLENBQUNLLE1BQU0sQ0FBQztnQkFDOUJILE9BQU87b0JBQUVIO2dCQUFLO2dCQUNkTyxRQUFRLENBQUM7Z0JBQ1RDLFFBQVE7b0JBQUVSO2dCQUFLO1lBQ2pCO1lBQ0EsT0FBT0M7UUFDVCxFQUFFLE9BQU9HLE9BQU87WUFDZFAsK0NBQU1BLENBQUNPLEtBQUssQ0FBQyxpQ0FBaUM7Z0JBQUVKO2dCQUFNSTtZQUFNO1lBQzVELE1BQU1BO1FBQ1I7SUFDRjtJQUVBLE1BQU1LLGdCQUFnQkMsS0FBZSxFQUFrQjtRQUNyRCxJQUFJO1lBQ0YsTUFBTUMsT0FBTyxNQUFNZix1Q0FBRUEsQ0FBQ0ssR0FBRyxDQUFDVyxRQUFRLENBQUM7Z0JBQ2pDVCxPQUFPO29CQUNMSCxNQUFNO3dCQUNKYSxJQUFJSDtvQkFDTjtnQkFDRjtZQUNGO1lBQ0EsT0FBT0M7UUFDVCxFQUFFLE9BQU9QLE9BQU87WUFDZFAsK0NBQU1BLENBQUNPLEtBQUssQ0FBQywrQkFBK0I7Z0JBQUVNO2dCQUFPTjtZQUFNO1lBQzNELE1BQU1BO1FBQ1I7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TkMsUUFBUTs0QkFDTkMsUUFBUTt3QkFDVjtvQkFDRjtnQkFDRjtnQkFDQUwsU0FBUztvQkFDUEssUUFBUTt3QkFDTkYsUUFBUTtvQkFDVjtnQkFDRjtnQkFDQUosTUFBTUg7WUFDUjtZQUNBLE9BQU9MO1FBQ1QsRUFBRSxPQUFPUCxPQUFPO1lBQ2RQLCtDQUFNQSxDQUFDTyxLQUFLLENBQUMsOEJBQThCO2dCQUFFWTtnQkFBT1o7WUFBTTtZQUMxRCxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxNQUFNeUUsT0FBTzlELEtBQWEsRUFBRUMsUUFBZ0IsRUFBRSxFQUFrQjtRQUM5RCxJQUFJO1lBQ0YsTUFBTUwsT0FBTyxNQUFNZix1Q0FBRUEsQ0FBQ0ssR0FBRyxDQUFDVyxRQUFRLENBQUM7Z0JBQ2pDVCxPQUFPO29CQUNMSCxNQUFNO3dCQUNKaUIsVUFBVUY7d0JBQ1ZHLE1BQU07b0JBQ1I7Z0JBQ0Y7Z0JBQ0FDLE1BQU1IO2dCQUNOSSxTQUFTO29CQUNQcEIsTUFBTTtnQkFDUjtZQUNGO1lBQ0EsT0FBT1c7UUFDVCxFQUFFLE9BQU9QLE9BQU87WUFDZFAsK0NBQU1BLENBQUNPLEtBQUssQ0FBQyx3QkFBd0I7Z0JBQUVXO2dCQUFPQztnQkFBT1o7WUFBTTtZQUMzRCxNQUFNQTtRQUNSO0lBQ0Y7OzthQTlSVTBFLFlBQVk7O0FBK1J4QjtBQUVBLDRCQUE0QjtBQUNyQixNQUFNQyxnQkFBZ0IsSUFBSWpGLG9CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JhdGVteS1uZXh0anMvLi9zcmMvcmVwb3NpdG9yaWVzL3RhZy5yZXBvc2l0b3J5LnRzP2JkZjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGFnIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBCYXNlUmVwb3NpdG9yeSB9IGZyb20gJy4vYmFzZS5yZXBvc2l0b3J5J1xuaW1wb3J0IHsgZGIgfSBmcm9tICcuLi9saWIvZGInXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi9saWIvbG9nZ2VyJ1xuXG5leHBvcnQgY2xhc3MgVGFnUmVwb3NpdG9yeUltcGwgZXh0ZW5kcyBCYXNlUmVwb3NpdG9yeTxUYWc+IHtcbiAgcHJvdGVjdGVkIHRhYmxlTmFtZSA9ICd0YWcnXG5cbiAgYXN5bmMgZmluZEJ5TmFtZShuYW1lOiBzdHJpbmcpOiBQcm9taXNlPGFueSB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdGFnID0gYXdhaXQgZGIudGFnLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBuYW1lIH1cbiAgICAgIH0pXG4gICAgICByZXR1cm4gdGFnXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmluZGluZyB0YWcgYnkgbmFtZScsIHsgbmFtZSwgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmluZE9yQ3JlYXRlKG5hbWU6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRhZyA9IGF3YWl0IGRiLnRhZy51cHNlcnQoe1xuICAgICAgICB3aGVyZTogeyBuYW1lIH0sXG4gICAgICAgIHVwZGF0ZToge30sXG4gICAgICAgIGNyZWF0ZTogeyBuYW1lIH1cbiAgICAgIH0pXG4gICAgICByZXR1cm4gdGFnXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmluZGluZyBvciBjcmVhdGluZyB0YWcnLCB7IG5hbWUsIGVycm9yIH0pXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZpbmRNYW55QnlOYW1lcyhuYW1lczogc3RyaW5nW10pOiBQcm9taXNlPGFueVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRhZ3MgPSBhd2FpdCBkYi50YWcuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGluOiBuYW1lc1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0YWdzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmluZGluZyB0YWdzIGJ5IG5hbWVzJywgeyBuYW1lcywgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2VhcmNoVGFncyhxdWVyeTogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gMTApOiBQcm9taXNlPGFueVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRhZ3MgPSBhd2FpdCBkYi50YWcuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGNvbnRhaW5zOiBxdWVyeSxcbiAgICAgICAgICAgIG1vZGU6ICdpbnNlbnNpdGl2ZSdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRha2U6IGxpbWl0LFxuICAgICAgICBvcmRlckJ5OiB7XG4gICAgICAgICAgbmFtZTogJ2FzYydcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0YWdzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3Igc2VhcmNoaW5nIHRhZ3MnLCB7IHF1ZXJ5LCBsaW1pdCwgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0UG9wdWxhclRhZ3MobGltaXQ6IG51bWJlciA9IDIwKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0YWdzID0gYXdhaXQgZGIudGFnLmZpbmRNYW55KHtcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIF9jb3VudDoge1xuICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgIHZpZGVvczogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeToge1xuICAgICAgICAgIHZpZGVvczoge1xuICAgICAgICAgICAgX2NvdW50OiAnZGVzYydcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRha2U6IGxpbWl0XG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRhZ3NcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBnZXR0aW5nIHBvcHVsYXIgdGFncycsIHsgbGltaXQsIGVycm9yIH0pXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFRhZ3NXaXRoVmlkZW9Db3VudCgpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRhZ3NXaXRoQ291bnQgPSBhd2FpdCBkYi50YWcuZmluZE1hbnkoe1xuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgX2NvdW50OiB7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgdmlkZW9zOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcmRlckJ5OiB7XG4gICAgICAgICAgbmFtZTogJ2FzYydcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHRhZ3NXaXRoQ291bnQubWFwKHRhZyA9PiAoe1xuICAgICAgICAuLi50YWcsXG4gICAgICAgIHZpZGVvQ291bnQ6IHRhZy5fY291bnQudmlkZW9zXG4gICAgICB9KSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBnZXR0aW5nIHRhZ3Mgd2l0aCB2aWRlbyBjb3VudCcsIHsgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0VGFnc0J5VmlkZW9JZCh2aWRlb0lkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHZpZGVvVGFncyA9IGF3YWl0IGRiLnZpZGVvVGFnLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgdmlkZW9JZCB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgdGFnOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiB2aWRlb1RhZ3MubWFwKHZ0ID0+IHZ0LnRhZylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBnZXR0aW5nIHRhZ3MgYnkgdmlkZW8gaWQnLCB7IHZpZGVvSWQsIGVycm9yIH0pXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZU11bHRpcGxlKG5hbWVzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55W10+IHtcbiAgICB0cnkge1xuICAgICAgLy8gRmlsdGVyIG91dCBleGlzdGluZyB0YWdzXG4gICAgICBjb25zdCBleGlzdGluZ1RhZ3MgPSBhd2FpdCB0aGlzLmZpbmRNYW55QnlOYW1lcyhuYW1lcylcbiAgICAgIGNvbnN0IGV4aXN0aW5nTmFtZXMgPSBleGlzdGluZ1RhZ3MubWFwKHRhZyA9PiB0YWcubmFtZSlcbiAgICAgIGNvbnN0IG5ld05hbWVzID0gbmFtZXMuZmlsdGVyKG5hbWUgPT4gIWV4aXN0aW5nTmFtZXMuaW5jbHVkZXMobmFtZSkpXG5cbiAgICAgIGlmIChuZXdOYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nVGFnc1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgbmV3IHRhZ3NcbiAgICAgIGNvbnN0IG5ld1RhZ3MgPSBhd2FpdCBkYi50YWcuY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IG5ld05hbWVzLm1hcChuYW1lID0+ICh7IG5hbWUgfSkpLFxuICAgICAgICBza2lwRHVwbGljYXRlczogdHJ1ZVxuICAgICAgfSlcblxuICAgICAgLy8gUmV0dXJuIGFsbCB0YWdzIChleGlzdGluZyArIG5ldylcbiAgICAgIHJldHVybiB0aGlzLmZpbmRNYW55QnlOYW1lcyhuYW1lcylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBjcmVhdGluZyBtdWx0aXBsZSB0YWdzJywgeyBuYW1lcywgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0VGFnVXNhZ2VTdGF0cyh0YWdJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgdG90YWxWaWRlb3M6IG51bWJlclxuICAgIHRvdGFsUmF0aW5nczogbnVtYmVyXG4gICAgYXZlcmFnZVJhdGluZzogbnVtYmVyXG4gIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgW3ZpZGVvQ291bnQsIHJhdGluZ1N0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgZGIudmlkZW9UYWcuY291bnQoe1xuICAgICAgICAgIHdoZXJlOiB7IHRhZ0lkIH1cbiAgICAgICAgfSksXG4gICAgICAgIGRiLnJhdGluZy5hZ2dyZWdhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7IHRhZ0lkIH0sXG4gICAgICAgICAgX2NvdW50OiB7XG4gICAgICAgICAgICBsZXZlbDogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgX2F2Zzoge1xuICAgICAgICAgICAgbGV2ZWw6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICBdKVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbFZpZGVvczogdmlkZW9Db3VudCxcbiAgICAgICAgdG90YWxSYXRpbmdzOiByYXRpbmdTdGF0cy5fY291bnQubGV2ZWwsXG4gICAgICAgIGF2ZXJhZ2VSYXRpbmc6IHJhdGluZ1N0YXRzLl9hdmcubGV2ZWwgfHwgMFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdGFnIHVzYWdlIHN0YXRzJywgeyB0YWdJZCwgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0VHJlbmRpbmdUYWdzKGRheXM6IG51bWJlciA9IDcsIGxpbWl0OiBudW1iZXIgPSAxMCk6IFByb21pc2U8YW55W10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0ZVRocmVzaG9sZCA9IG5ldyBEYXRlKClcbiAgICAgIGRhdGVUaHJlc2hvbGQuc2V0RGF0ZShkYXRlVGhyZXNob2xkLmdldERhdGUoKSAtIGRheXMpXG5cbiAgICAgIGNvbnN0IHRyZW5kaW5nVGFncyA9IGF3YWl0IGRiLnRhZy5maW5kTWFueSh7XG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICB2aWRlb3M6IHtcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgICAgICAgICBndGU6IGRhdGVUaHJlc2hvbGRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHRhZ3NXaXRoQ291bnRzID0gdHJlbmRpbmdUYWdzXG4gICAgICAgIC5tYXAodGFnID0+ICh7XG4gICAgICAgICAgLi4udGFnLFxuICAgICAgICAgIHJlY2VudFZpZGVvczogdGFnLnZpZGVvcy5sZW5ndGhcbiAgICAgICAgfSkpXG4gICAgICAgIC5maWx0ZXIodGFnID0+IHRhZy5yZWNlbnRWaWRlb3MgPiAwKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5yZWNlbnRWaWRlb3MgLSBhLnJlY2VudFZpZGVvcylcbiAgICAgICAgLnNsaWNlKDAsIGxpbWl0KVxuXG4gICAgICByZXR1cm4gdGFnc1dpdGhDb3VudHNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBnZXR0aW5nIHRyZW5kaW5nIHRhZ3MnLCB7IGRheXMsIGxpbWl0LCBlcnJvciB9KVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBhc3luYyBmaW5kQWxsV2l0aENvdW50cygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRhZ3MgPSBhd2FpdCBkYi50YWcuZmluZE1hbnkoe1xuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgX2NvdW50OiB7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgdmlkZW9zOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcmRlckJ5OiB7XG4gICAgICAgICAgbmFtZTogJ2FzYydcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0YWdzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmluZGluZyBhbGwgdGFncyB3aXRoIGNvdW50cycsIHsgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmluZFBvcHVsYXIobGltaXQ6IG51bWJlciA9IDIwKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0YWdzID0gYXdhaXQgZGIudGFnLmZpbmRNYW55KHtcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIF9jb3VudDoge1xuICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgIHZpZGVvczogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeToge1xuICAgICAgICAgIHZpZGVvczoge1xuICAgICAgICAgICAgX2NvdW50OiAnZGVzYydcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRha2U6IGxpbWl0XG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRhZ3NcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmaW5kaW5nIHBvcHVsYXIgdGFncycsIHsgbGltaXQsIGVycm9yIH0pXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNlYXJjaChxdWVyeTogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gMTApOiBQcm9taXNlPGFueVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRhZ3MgPSBhd2FpdCBkYi50YWcuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGNvbnRhaW5zOiBxdWVyeSxcbiAgICAgICAgICAgIG1vZGU6ICdpbnNlbnNpdGl2ZSdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRha2U6IGxpbWl0LFxuICAgICAgICBvcmRlckJ5OiB7XG4gICAgICAgICAgbmFtZTogJ2FzYydcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0YWdzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3Igc2VhcmNoaW5nIHRhZ3MnLCB7IHF1ZXJ5LCBsaW1pdCwgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCB0YWdSZXBvc2l0b3J5ID0gbmV3IFRhZ1JlcG9zaXRvcnlJbXBsKCkiXSwibmFtZXMiOlsiQmFzZVJlcG9zaXRvcnkiLCJkYiIsImxvZ2dlciIsIlRhZ1JlcG9zaXRvcnlJbXBsIiwiZmluZEJ5TmFtZSIsIm5hbWUiLCJ0YWciLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJlcnJvciIsImZpbmRPckNyZWF0ZSIsInVwc2VydCIsInVwZGF0ZSIsImNyZWF0ZSIsImZpbmRNYW55QnlOYW1lcyIsIm5hbWVzIiwidGFncyIsImZpbmRNYW55IiwiaW4iLCJzZWFyY2hUYWdzIiwicXVlcnkiLCJsaW1pdCIsImNvbnRhaW5zIiwibW9kZSIsInRha2UiLCJvcmRlckJ5IiwiZ2V0UG9wdWxhclRhZ3MiLCJpbmNsdWRlIiwiX2NvdW50Iiwic2VsZWN0IiwidmlkZW9zIiwiZ2V0VGFnc1dpdGhWaWRlb0NvdW50IiwidGFnc1dpdGhDb3VudCIsIm1hcCIsInZpZGVvQ291bnQiLCJnZXRUYWdzQnlWaWRlb0lkIiwidmlkZW9JZCIsInZpZGVvVGFncyIsInZpZGVvVGFnIiwidnQiLCJjcmVhdGVNdWx0aXBsZSIsImV4aXN0aW5nVGFncyIsImV4aXN0aW5nTmFtZXMiLCJuZXdOYW1lcyIsImZpbHRlciIsImluY2x1ZGVzIiwibGVuZ3RoIiwibmV3VGFncyIsImNyZWF0ZU1hbnkiLCJkYXRhIiwic2tpcER1cGxpY2F0ZXMiLCJnZXRUYWdVc2FnZVN0YXRzIiwidGFnSWQiLCJyYXRpbmdTdGF0cyIsIlByb21pc2UiLCJhbGwiLCJjb3VudCIsInJhdGluZyIsImFnZ3JlZ2F0ZSIsImxldmVsIiwiX2F2ZyIsInRvdGFsVmlkZW9zIiwidG90YWxSYXRpbmdzIiwiYXZlcmFnZVJhdGluZyIsImdldFRyZW5kaW5nVGFncyIsImRheXMiLCJkYXRlVGhyZXNob2xkIiwiRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwidHJlbmRpbmdUYWdzIiwidmlkZW8iLCJjcmVhdGVkQXQiLCJndGUiLCJ0YWdzV2l0aENvdW50cyIsInJlY2VudFZpZGVvcyIsInNvcnQiLCJhIiwiYiIsInNsaWNlIiwiZmluZEFsbFdpdGhDb3VudHMiLCJmaW5kUG9wdWxhciIsInNlYXJjaCIsInRhYmxlTmFtZSIsInRhZ1JlcG9zaXRvcnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/repositories/tag.repository.ts\n");

/***/ }),

/***/ "(api)/./src/services/tag.service.ts":
/*!*************************************!*\
  !*** ./src/services/tag.service.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TagServiceImpl: () => (/* binding */ TagServiceImpl),\n/* harmony export */   tagService: () => (/* binding */ tagService)\n/* harmony export */ });\n/* harmony import */ var _repositories_tag_repository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../repositories/tag.repository */ \"(api)/./src/repositories/tag.repository.ts\");\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/errors */ \"(api)/./src/lib/errors.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/logger */ \"(api)/./src/lib/logger.ts\");\n\n\n\nclass TagServiceImpl {\n    async getOrCreateTag(name) {\n        try {\n            // Normalize tag name\n            const normalizedName = name.toLowerCase().trim();\n            if (!normalizedName) {\n                throw new Error(\"Tag name cannot be empty\");\n            }\n            // Try to find existing tag\n            let tag = await _repositories_tag_repository__WEBPACK_IMPORTED_MODULE_0__.tagRepository.findByName(normalizedName);\n            // If not found, create it\n            if (!tag) {\n                tag = await _repositories_tag_repository__WEBPACK_IMPORTED_MODULE_0__.tagRepository.create({\n                    name: normalizedName\n                });\n                _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.info(\"Created new tag\", {\n                    tagName: normalizedName\n                });\n            }\n            return tag;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error getting or creating tag\", {\n                name,\n                error\n            });\n            throw error;\n        }\n    }\n    async getAllTags() {\n        return (0,_lib_errors__WEBPACK_IMPORTED_MODULE_1__.asyncWrapper)(async ()=>{\n            const tags = await _repositories_tag_repository__WEBPACK_IMPORTED_MODULE_0__.tagRepository.findAllWithCounts();\n            return {\n                success: true,\n                data: tags\n            };\n        })();\n    }\n    async getPopularTags(limit = 20) {\n        return (0,_lib_errors__WEBPACK_IMPORTED_MODULE_1__.asyncWrapper)(async ()=>{\n            const tags = await _repositories_tag_repository__WEBPACK_IMPORTED_MODULE_0__.tagRepository.findPopular(limit);\n            return {\n                success: true,\n                data: tags\n            };\n        })();\n    }\n    async searchTags(query) {\n        return (0,_lib_errors__WEBPACK_IMPORTED_MODULE_1__.asyncWrapper)(async ()=>{\n            if (!query || query.trim().length === 0) {\n                throw new Error(\"Search query is required\");\n            }\n            const tags = await _repositories_tag_repository__WEBPACK_IMPORTED_MODULE_0__.tagRepository.search(query.trim().toLowerCase());\n            return {\n                success: true,\n                data: tags\n            };\n        })();\n    }\n}\n// Export singleton instance\nconst tagService = new TagServiceImpl();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvc2VydmljZXMvdGFnLnNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEQ7QUFFbEI7QUFDTjtBQUUvQixNQUFNRztJQUNYLE1BQU1DLGVBQWVDLElBQVksRUFBeUM7UUFDeEUsSUFBSTtZQUNGLHFCQUFxQjtZQUNyQixNQUFNQyxpQkFBaUJELEtBQUtFLFdBQVcsR0FBR0MsSUFBSTtZQUU5QyxJQUFJLENBQUNGLGdCQUFnQjtnQkFDbkIsTUFBTSxJQUFJRyxNQUFNO1lBQ2xCO1lBRUEsMkJBQTJCO1lBQzNCLElBQUlDLE1BQU0sTUFBTVYsdUVBQWFBLENBQUNXLFVBQVUsQ0FBQ0w7WUFFekMsMEJBQTBCO1lBQzFCLElBQUksQ0FBQ0ksS0FBSztnQkFDUkEsTUFBTSxNQUFNVix1RUFBYUEsQ0FBQ1ksTUFBTSxDQUFDO29CQUFFUCxNQUFNQztnQkFBZTtnQkFDeERKLCtDQUFNQSxDQUFDVyxJQUFJLENBQUMsbUJBQW1CO29CQUFFQyxTQUFTUjtnQkFBZTtZQUMzRDtZQUVBLE9BQU9JO1FBQ1QsRUFBRSxPQUFPSyxPQUFPO1lBQ2RiLCtDQUFNQSxDQUFDYSxLQUFLLENBQUMsaUNBQWlDO2dCQUFFVjtnQkFBTVU7WUFBTTtZQUM1RCxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxNQUFNQyxhQUFvRztRQUN4RyxPQUFPZix5REFBWUEsQ0FBQztZQUNsQixNQUFNZ0IsT0FBTyxNQUFNakIsdUVBQWFBLENBQUNrQixpQkFBaUI7WUFFbEQsT0FBTztnQkFDTEMsU0FBUztnQkFDVEMsTUFBTUg7WUFDUjtRQUNGO0lBQ0Y7SUFFQSxNQUFNSSxlQUFlQyxRQUFnQixFQUFFLEVBQXlGO1FBQzlILE9BQU9yQix5REFBWUEsQ0FBQztZQUNsQixNQUFNZ0IsT0FBTyxNQUFNakIsdUVBQWFBLENBQUN1QixXQUFXLENBQUNEO1lBRTdDLE9BQU87Z0JBQ0xILFNBQVM7Z0JBQ1RDLE1BQU1IO1lBQ1I7UUFDRjtJQUNGO0lBRUEsTUFBTU8sV0FBV0MsS0FBYSxFQUE2RDtRQUN6RixPQUFPeEIseURBQVlBLENBQUM7WUFDbEIsSUFBSSxDQUFDd0IsU0FBU0EsTUFBTWpCLElBQUksR0FBR2tCLE1BQU0sS0FBSyxHQUFHO2dCQUN2QyxNQUFNLElBQUlqQixNQUFNO1lBQ2xCO1lBRUEsTUFBTVEsT0FBTyxNQUFNakIsdUVBQWFBLENBQUMyQixNQUFNLENBQUNGLE1BQU1qQixJQUFJLEdBQUdELFdBQVc7WUFFaEUsT0FBTztnQkFDTFksU0FBUztnQkFDVEMsTUFBTUg7WUFDUjtRQUNGO0lBQ0Y7QUFDRjtBQUVBLDRCQUE0QjtBQUNyQixNQUFNVyxhQUFhLElBQUl6QixpQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYXRlbXktbmV4dGpzLy4vc3JjL3NlcnZpY2VzL3RhZy5zZXJ2aWNlLnRzPzcyMGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGFnUmVwb3NpdG9yeSB9IGZyb20gJy4uL3JlcG9zaXRvcmllcy90YWcucmVwb3NpdG9yeSdcbmltcG9ydCB7IEFwaVJlc3BvbnNlIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBhc3luY1dyYXBwZXIgfSBmcm9tICcuLi9saWIvZXJyb3JzJ1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbGliL2xvZ2dlcidcblxuZXhwb3J0IGNsYXNzIFRhZ1NlcnZpY2VJbXBsIHtcbiAgYXN5bmMgZ2V0T3JDcmVhdGVUYWcobmFtZTogc3RyaW5nKTogUHJvbWlzZTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIE5vcm1hbGl6ZSB0YWcgbmFtZVxuICAgICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgICBcbiAgICAgIGlmICghbm9ybWFsaXplZE5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYWcgbmFtZSBjYW5ub3QgYmUgZW1wdHknKVxuICAgICAgfVxuXG4gICAgICAvLyBUcnkgdG8gZmluZCBleGlzdGluZyB0YWdcbiAgICAgIGxldCB0YWcgPSBhd2FpdCB0YWdSZXBvc2l0b3J5LmZpbmRCeU5hbWUobm9ybWFsaXplZE5hbWUpXG4gICAgICBcbiAgICAgIC8vIElmIG5vdCBmb3VuZCwgY3JlYXRlIGl0XG4gICAgICBpZiAoIXRhZykge1xuICAgICAgICB0YWcgPSBhd2FpdCB0YWdSZXBvc2l0b3J5LmNyZWF0ZSh7IG5hbWU6IG5vcm1hbGl6ZWROYW1lIH0pXG4gICAgICAgIGxvZ2dlci5pbmZvKCdDcmVhdGVkIG5ldyB0YWcnLCB7IHRhZ05hbWU6IG5vcm1hbGl6ZWROYW1lIH0pXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YWdcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBnZXR0aW5nIG9yIGNyZWF0aW5nIHRhZycsIHsgbmFtZSwgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QWxsVGFncygpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEFycmF5PHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBfY291bnQ6IHsgdmlkZW9zOiBudW1iZXIgfSB9Pj4+IHtcbiAgICByZXR1cm4gYXN5bmNXcmFwcGVyKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRhZ3MgPSBhd2FpdCB0YWdSZXBvc2l0b3J5LmZpbmRBbGxXaXRoQ291bnRzKClcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogdGFncyxcbiAgICAgIH1cbiAgICB9KSgpXG4gIH1cblxuICBhc3luYyBnZXRQb3B1bGFyVGFncyhsaW1pdDogbnVtYmVyID0gMjApOiBQcm9taXNlPEFwaVJlc3BvbnNlPEFycmF5PHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBfY291bnQ6IHsgdmlkZW9zOiBudW1iZXIgfSB9Pj4+IHtcbiAgICByZXR1cm4gYXN5bmNXcmFwcGVyKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRhZ3MgPSBhd2FpdCB0YWdSZXBvc2l0b3J5LmZpbmRQb3B1bGFyKGxpbWl0KVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB0YWdzLFxuICAgICAgfVxuICAgIH0pKClcbiAgfVxuXG4gIGFzeW5jIHNlYXJjaFRhZ3MocXVlcnk6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8QXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfT4+PiB7XG4gICAgcmV0dXJuIGFzeW5jV3JhcHBlcihhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXF1ZXJ5IHx8IHF1ZXJ5LnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWFyY2ggcXVlcnkgaXMgcmVxdWlyZWQnKVxuICAgICAgfVxuXG4gICAgICBjb25zdCB0YWdzID0gYXdhaXQgdGFnUmVwb3NpdG9yeS5zZWFyY2gocXVlcnkudHJpbSgpLnRvTG93ZXJDYXNlKCkpXG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHRhZ3MsXG4gICAgICB9XG4gICAgfSkoKVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCB0YWdTZXJ2aWNlID0gbmV3IFRhZ1NlcnZpY2VJbXBsKCkiXSwibmFtZXMiOlsidGFnUmVwb3NpdG9yeSIsImFzeW5jV3JhcHBlciIsImxvZ2dlciIsIlRhZ1NlcnZpY2VJbXBsIiwiZ2V0T3JDcmVhdGVUYWciLCJuYW1lIiwibm9ybWFsaXplZE5hbWUiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJFcnJvciIsInRhZyIsImZpbmRCeU5hbWUiLCJjcmVhdGUiLCJpbmZvIiwidGFnTmFtZSIsImVycm9yIiwiZ2V0QWxsVGFncyIsInRhZ3MiLCJmaW5kQWxsV2l0aENvdW50cyIsInN1Y2Nlc3MiLCJkYXRhIiwiZ2V0UG9wdWxhclRhZ3MiLCJsaW1pdCIsImZpbmRQb3B1bGFyIiwic2VhcmNoVGFncyIsInF1ZXJ5IiwibGVuZ3RoIiwic2VhcmNoIiwidGFnU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/services/tag.service.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftags&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Ftags%2Findex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();