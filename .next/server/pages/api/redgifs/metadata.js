"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/redgifs/metadata";
exports.ids = ["pages/api/redgifs/metadata"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/apple":
/*!********************************************!*\
  !*** external "next-auth/providers/apple" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/apple");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/providers/facebook":
/*!***********************************************!*\
  !*** external "next-auth/providers/facebook" ***!
  \***********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/facebook");

/***/ }),

/***/ "next-auth/providers/google":
/*!*********************************************!*\
  !*** external "next-auth/providers/google" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/google");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fredgifs%2Fmetadata&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fredgifs%2Fmetadata.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fredgifs%2Fmetadata&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fredgifs%2Fmetadata.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_redgifs_metadata_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/redgifs/metadata.ts */ \"(api)/./pages/api/redgifs/metadata.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_redgifs_metadata_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_redgifs_metadata_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/redgifs/metadata\",\n        pathname: \"/api/redgifs/metadata\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_redgifs_metadata_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnJlZGdpZnMlMkZtZXRhZGF0YSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGcmVkZ2lmcyUyRm1ldGFkYXRhLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzREO0FBQzVEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywyREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsMkRBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8/ZTg3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3JlZGdpZnMvbWV0YWRhdGEudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9yZWRnaWZzL21ldGFkYXRhXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcmVkZ2lmcy9tZXRhZGF0YVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fredgifs%2Fmetadata&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fredgifs%2Fmetadata.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/redgifs/metadata.ts":
/*!***************************************!*\
  !*** ./pages/api/redgifs/metadata.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(api)/./src/lib/auth.ts\");\n/* harmony import */ var _src_services_redgifs_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/src/services/redgifs.service */ \"(api)/./src/services/redgifs.service.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/logger */ \"(api)/./src/lib/logger.ts\");\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/errors */ \"(api)/./src/lib/errors.ts\");\n\n\n\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(req, res, _lib_auth__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n        if (!session) {\n            return res.status(401).json({\n                success: false,\n                message: \"Authentication required\"\n            });\n        }\n        const { url } = req.body;\n        if (!url || typeof url !== \"string\") {\n            return res.status(400).json({\n                success: false,\n                message: \"URL is required and must be a string\"\n            });\n        }\n        // Validate that it's a RedGifs URL\n        if (!_src_services_redgifs_service__WEBPACK_IMPORTED_MODULE_2__.redGifsService.isRedGifsUrl(url)) {\n            return res.status(400).json({\n                success: false,\n                message: \"URL must be a RedGifs URL\"\n            });\n        }\n        _lib_logger__WEBPACK_IMPORTED_MODULE_3__.logger.info(\"Processing RedGifs metadata request\", {\n            url,\n            userId: session.user?.id\n        });\n        // Get metadata from RedGifs\n        const metadata = await _src_services_redgifs_service__WEBPACK_IMPORTED_MODULE_2__.redGifsService.getMetadataFromUrl(url);\n        _lib_logger__WEBPACK_IMPORTED_MODULE_3__.logger.info(\"Successfully retrieved RedGifs metadata\", {\n            gifId: metadata.id,\n            title: metadata.title,\n            tags: metadata.tags?.length || 0,\n            userId: session.user?.id\n        });\n        return res.status(200).json({\n            success: true,\n            metadata: {\n                id: metadata.id,\n                title: metadata.title,\n                description: metadata.description,\n                tags: metadata.tags || [],\n                duration: metadata.duration,\n                width: metadata.width,\n                height: metadata.height,\n                views: metadata.views,\n                likes: metadata.likes,\n                userName: metadata.userName,\n                thumbnailUrl: _src_services_redgifs_service__WEBPACK_IMPORTED_MODULE_2__.redGifsService.getThumbnailUrl(metadata.id),\n                embedUrl: _src_services_redgifs_service__WEBPACK_IMPORTED_MODULE_2__.redGifsService.getEmbedUrl(metadata.id)\n            }\n        });\n    } catch (error) {\n        _lib_logger__WEBPACK_IMPORTED_MODULE_3__.logger.error(\"Failed to fetch RedGifs metadata\", {\n            error: error instanceof Error ? error.message : \"Unknown error\",\n            url: req.body.url,\n            userId: req.session?.user?.id\n        });\n        if (error instanceof _lib_errors__WEBPACK_IMPORTED_MODULE_4__.ValidationError) {\n            return res.status(400).json({\n                success: false,\n                message: error.message\n            });\n        }\n        return res.status(500).json({\n            success: false,\n            message: \"Failed to fetch metadata from RedGifs\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUM7WUFDMUJDLFNBQVM7WUFDVEMsU0FBUztRQUNYO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JhdGVteS1uZXh0anMvLi9wYWdlcy9hcGkvcmVkZ2lmcy9tZXRhZGF0YS50cz9iMjM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aCdcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnQC9saWIvYXV0aCdcbmltcG9ydCB7IHJlZEdpZnNTZXJ2aWNlIH0gZnJvbSAnQC9zcmMvc2VydmljZXMvcmVkZ2lmcy5zZXJ2aWNlJ1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC9saWIvbG9nZ2VyJ1xuaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnQC9saWIvZXJyb3JzJ1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24ocmVxLCByZXMsIGF1dGhPcHRpb25zKVxuICAgIFxuICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfSlcbiAgICB9XG5cbiAgICBjb25zdCB7IHVybCB9ID0gcmVxLmJvZHlcblxuICAgIGlmICghdXJsIHx8IHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBtZXNzYWdlOiAnVVJMIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgc3RyaW5nJyBcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgdGhhdCBpdCdzIGEgUmVkR2lmcyBVUkxcbiAgICBpZiAoIXJlZEdpZnNTZXJ2aWNlLmlzUmVkR2lmc1VybCh1cmwpKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBtZXNzYWdlOiAnVVJMIG11c3QgYmUgYSBSZWRHaWZzIFVSTCcgXG4gICAgICB9KVxuICAgIH1cblxuICAgIGxvZ2dlci5pbmZvKCdQcm9jZXNzaW5nIFJlZEdpZnMgbWV0YWRhdGEgcmVxdWVzdCcsIHsgXG4gICAgICB1cmwsIFxuICAgICAgdXNlcklkOiAoc2Vzc2lvbi51c2VyIGFzIGFueSk/LmlkIFxuICAgIH0pXG5cbiAgICAvLyBHZXQgbWV0YWRhdGEgZnJvbSBSZWRHaWZzXG4gICAgY29uc3QgbWV0YWRhdGEgPSBhd2FpdCByZWRHaWZzU2VydmljZS5nZXRNZXRhZGF0YUZyb21VcmwodXJsKVxuICAgIFxuICAgIGxvZ2dlci5pbmZvKCdTdWNjZXNzZnVsbHkgcmV0cmlldmVkIFJlZEdpZnMgbWV0YWRhdGEnLCB7IFxuICAgICAgZ2lmSWQ6IG1ldGFkYXRhLmlkLFxuICAgICAgdGl0bGU6IG1ldGFkYXRhLnRpdGxlLFxuICAgICAgdGFnczogbWV0YWRhdGEudGFncz8ubGVuZ3RoIHx8IDAsXG4gICAgICB1c2VySWQ6IChzZXNzaW9uLnVzZXIgYXMgYW55KT8uaWRcbiAgICB9KVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgICAgdGl0bGU6IG1ldGFkYXRhLnRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbjogbWV0YWRhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgIHRhZ3M6IG1ldGFkYXRhLnRhZ3MgfHwgW10sXG4gICAgICAgIGR1cmF0aW9uOiBtZXRhZGF0YS5kdXJhdGlvbixcbiAgICAgICAgd2lkdGg6IG1ldGFkYXRhLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IG1ldGFkYXRhLmhlaWdodCxcbiAgICAgICAgdmlld3M6IG1ldGFkYXRhLnZpZXdzLFxuICAgICAgICBsaWtlczogbWV0YWRhdGEubGlrZXMsXG4gICAgICAgIHVzZXJOYW1lOiBtZXRhZGF0YS51c2VyTmFtZSxcbiAgICAgICAgdGh1bWJuYWlsVXJsOiByZWRHaWZzU2VydmljZS5nZXRUaHVtYm5haWxVcmwobWV0YWRhdGEuaWQpLFxuICAgICAgICBlbWJlZFVybDogcmVkR2lmc1NlcnZpY2UuZ2V0RW1iZWRVcmwobWV0YWRhdGEuaWQpXG4gICAgICB9XG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGZldGNoIFJlZEdpZnMgbWV0YWRhdGEnLCB7IFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgdXJsOiByZXEuYm9keS51cmwsXG4gICAgICB1c2VySWQ6IChyZXEgYXMgYW55KS5zZXNzaW9uPy51c2VyPy5pZFxuICAgIH0pXG5cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBmZXRjaCBtZXRhZGF0YSBmcm9tIFJlZEdpZnMnIFxuICAgIH0pXG4gIH1cbn0iXSwibmFtZXMiOlsiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwicmVkR2lmc1NlcnZpY2UiLCJsb2dnZXIiLCJWYWxpZGF0aW9uRXJyb3IiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwic2Vzc2lvbiIsInVybCIsImJvZHkiLCJpc1JlZEdpZnNVcmwiLCJpbmZvIiwidXNlcklkIiwidXNlciIsImlkIiwibWV0YWRhdGEiLCJnZXRNZXRhZGF0YUZyb21VcmwiLCJnaWZJZCIsInRpdGxlIiwidGFncyIsImxlbmd0aCIsImRlc2NyaXB0aW9uIiwiZHVyYXRpb24iLCJ3aWR0aCIsImhlaWdodCIsInZpZXdzIiwibGlrZXMiLCJ1c2VyTmFtZSIsInRodW1ibmFpbFVybCIsImdldFRodW1ibmFpbFVybCIsImVtYmVkVXJsIiwiZ2V0RW1iZWRVcmwiLCJlcnJvciIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/redgifs/metadata.ts\n");

/***/ }),

/***/ "(api)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"next-auth/providers/google\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/facebook */ \"next-auth/providers/facebook\");\n/* harmony import */ var next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_auth_providers_apple__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/apple */ \"next-auth/providers/apple\");\n/* harmony import */ var next_auth_providers_apple__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_apple__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./db */ \"(api)/./src/lib/db.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nconst authOptions = {\n    providers: [\n        next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1___default()({\n            clientId: process.env.GOOGLE_CLIENT_ID || \"dummy\",\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"dummy\"\n        }),\n        next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_2___default()({\n            clientId: process.env.FACEBOOK_CLIENT_ID || \"dummy\",\n            clientSecret: process.env.FACEBOOK_CLIENT_SECRET || \"dummy\"\n        }),\n        next_auth_providers_apple__WEBPACK_IMPORTED_MODULE_3___default()({\n            clientId: process.env.APPLE_ID || \"dummy\",\n            clientSecret: process.env.APPLE_SECRET || \"dummy\"\n        }),\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0___default()({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    if (!credentials?.email || !credentials?.password) {\n                        return null;\n                    }\n                    const user = await _db__WEBPACK_IMPORTED_MODULE_4__.db.user.findUnique({\n                        where: {\n                            email: credentials.email\n                        }\n                    });\n                    if (!user || !user.password) {\n                        return null;\n                    }\n                    const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_5___default().compare(credentials.password, user.password);\n                    if (!isPasswordValid) {\n                        return null;\n                    }\n                    return {\n                        id: user.id,\n                        email: user.email,\n                        name: user.firstName ? `${user.firstName} ${user.lastName || \"\"}`.trim() : user.username,\n                        username: user.username,\n                        firstName: user.firstName,\n                        lastName: user.lastName\n                    };\n                } catch (error) {\n                    console.error(\"Auth error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.username = user.username;\n                token.firstName = user.firstName;\n                token.lastName = user.lastName;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token && session.user) {\n                session.user.id = token.sub;\n                session.user.username = token.username;\n                session.user.firstName = token.firstName;\n                session.user.lastName = token.lastName;\n            }\n            return session;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNYixTQUFTO2dCQUNoRE0sUUFBUVosSUFBSSxDQUFTTyxRQUFRLEdBQUdZLE1BQU1aLFFBQVE7WUFDbEQ7WUFDQSxPQUFPSztRQUNUO0lBQ0Y7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8uL3NyYy9saWIvYXV0aC50cz82NjkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCdcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHMnXG5pbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGUnXG5pbXBvcnQgRmFjZWJvb2tQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2ZhY2Vib29rJ1xuaW1wb3J0IEFwcGxlUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9hcHBsZSdcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi9kYidcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBwcm92aWRlcnM6IFtcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCB8fCAnZHVtbXknLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCB8fCAnZHVtbXknLFxuICAgIH0pLFxuICAgIEZhY2Vib29rUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX0NMSUVOVF9JRCB8fCAnZHVtbXknLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5GQUNFQk9PS19DTElFTlRfU0VDUkVUIHx8ICdkdW1teScsXG4gICAgfSksXG4gICAgQXBwbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuQVBQTEVfSUQgfHwgJ2R1bW15JyxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuQVBQTEVfU0VDUkVUIHx8ICdkdW1teScsXG4gICAgfSksXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBuYW1lOiAnY3JlZGVudGlhbHMnLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICBlbWFpbDogY3JlZGVudGlhbHMuZW1haWxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgaWYgKCF1c2VyIHx8ICF1c2VyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKGNyZWRlbnRpYWxzLnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKVxuICAgICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgbmFtZTogdXNlci5maXJzdE5hbWUgPyBgJHt1c2VyLmZpcnN0TmFtZX0gJHt1c2VyLmxhc3ROYW1lIHx8ICcnfWAudHJpbSgpIDogdXNlci51c2VybmFtZSxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgZmlyc3ROYW1lOiB1c2VyLmZpcnN0TmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiB1c2VyLmxhc3ROYW1lLFxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoIGVycm9yOicsIGVycm9yKVxuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICBdLFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcbiAgfSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46ICcvYXV0aC9zaWduaW4nXG4gIH0sXG4gIGNhbGxiYWNrczoge1xuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnVzZXJuYW1lID0gKHVzZXIgYXMgYW55KS51c2VybmFtZVxuICAgICAgICB0b2tlbi5maXJzdE5hbWUgPSAodXNlciBhcyBhbnkpLmZpcnN0TmFtZVxuICAgICAgICB0b2tlbi5sYXN0TmFtZSA9ICh1c2VyIGFzIGFueSkubGFzdE5hbWVcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlblxuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmICh0b2tlbiAmJiBzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgKHNlc3Npb24udXNlciBhcyBhbnkpLmlkID0gdG9rZW4uc3ViIVxuICAgICAgICA7KHNlc3Npb24udXNlciBhcyBhbnkpLnVzZXJuYW1lID0gdG9rZW4udXNlcm5hbWUgYXMgc3RyaW5nXG4gICAgICAgIDsoc2Vzc2lvbi51c2VyIGFzIGFueSkuZmlyc3ROYW1lID0gdG9rZW4uZmlyc3ROYW1lIGFzIHN0cmluZ1xuICAgICAgICA7KHNlc3Npb24udXNlciBhcyBhbnkpLmxhc3ROYW1lID0gdG9rZW4ubGFzdE5hbWUgYXMgc3RyaW5nXG4gICAgICB9XG4gICAgICByZXR1cm4gc2Vzc2lvblxuICAgIH1cbiAgfVxufSJdLCJuYW1lcyI6WyJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJGYWNlYm9va1Byb3ZpZGVyIiwiQXBwbGVQcm92aWRlciIsImRiIiwiYmNyeXB0IiwiYXV0aE9wdGlvbnMiLCJwcm92aWRlcnMiLCJjbGllbnRJZCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJGQUNFQk9PS19DTElFTlRfSUQiLCJGQUNFQk9PS19DTElFTlRfU0VDUkVUIiwiQVBQTEVfSUQiLCJBUFBMRV9TRUNSRVQiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJpZCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwidHJpbSIsInVzZXJuYW1lIiwiZXJyb3IiLCJjb25zb2xlIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwibWF4QWdlIiwicGFnZXMiLCJzaWduSW4iLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsInN1YiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(api)/./src/lib/config.ts":
/*!***************************!*\
  !*** ./src/lib/config.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   getEnvVar: () => (/* binding */ getEnvVar),\n/* harmony export */   getEnvVarAsBoolean: () => (/* binding */ getEnvVarAsBoolean),\n/* harmony export */   getEnvVarAsNumber: () => (/* binding */ getEnvVarAsNumber),\n/* harmony export */   isDevelopment: () => (/* binding */ isDevelopment),\n/* harmony export */   isProduction: () => (/* binding */ isProduction),\n/* harmony export */   isTest: () => (/* binding */ isTest)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(api)/./src/lib/constants.ts\");\n\nfunction getConfig() {\n    const env = \"development\" || 0;\n    const isDevelopment = env === _constants__WEBPACK_IMPORTED_MODULE_0__.NODE_ENV.DEVELOPMENT;\n    const isProduction = env === _constants__WEBPACK_IMPORTED_MODULE_0__.NODE_ENV.PRODUCTION;\n    // Validate required environment variables\n    const requiredVars = [\n        \"DATABASE_URL\",\n        \"NEXTAUTH_SECRET\",\n        \"NEXTAUTH_URL\"\n    ];\n    for (const varName of requiredVars){\n        if (!process.env[varName]) {\n            throw new Error(`Missing required environment variable: ${varName}`);\n        }\n    }\n    return {\n        app: {\n            name: process.env.APP_NAME || \"RateMe\",\n            version: process.env.APP_VERSION || \"1.0.0\",\n            env,\n            port: parseInt(process.env.PORT || \"3000\", 10),\n            url: process.env.NEXTAUTH_URL\n        },\n        database: {\n            url: process.env.DATABASE_URL\n        },\n        auth: {\n            secret: process.env.NEXTAUTH_SECRET,\n            url: process.env.NEXTAUTH_URL,\n            sessionMaxAge: parseInt(process.env.SESSION_MAX_AGE || \"2592000\", 10)\n        },\n        logging: {\n            level: process.env.LOG_LEVEL || (isDevelopment ? \"debug\" : \"info\"),\n            pretty: isDevelopment\n        },\n        redis: process.env.REDIS_URL ? {\n            url: process.env.REDIS_URL,\n            password: process.env.REDIS_PASSWORD\n        } : undefined,\n        external: {\n            youtube: process.env.YOUTUBE_API_KEY ? {\n                apiKey: process.env.YOUTUBE_API_KEY\n            } : undefined,\n            vimeo: process.env.VIMEO_CLIENT_ID && process.env.VIMEO_CLIENT_SECRET ? {\n                clientId: process.env.VIMEO_CLIENT_ID,\n                clientSecret: process.env.VIMEO_CLIENT_SECRET\n            } : undefined\n        }\n    };\n}\n// Export singleton config instance\nconst config = getConfig();\n// Type-safe environment variable access\nfunction getEnvVar(name, defaultValue) {\n    const value = process.env[name];\n    if (value === undefined) {\n        if (defaultValue !== undefined) {\n            return defaultValue;\n        }\n        throw new Error(`Environment variable ${name} is not set`);\n    }\n    return value;\n}\nfunction getEnvVarAsNumber(name, defaultValue) {\n    const value = process.env[name];\n    if (value === undefined) {\n        if (defaultValue !== undefined) {\n            return defaultValue;\n        }\n        throw new Error(`Environment variable ${name} is not set`);\n    }\n    const parsed = parseInt(value, 10);\n    if (isNaN(parsed)) {\n        throw new Error(`Environment variable ${name} is not a valid number: ${value}`);\n    }\n    return parsed;\n}\nfunction getEnvVarAsBoolean(name, defaultValue) {\n    const value = process.env[name];\n    if (value === undefined) {\n        if (defaultValue !== undefined) {\n            return defaultValue;\n        }\n        throw new Error(`Environment variable ${name} is not set`);\n    }\n    return value.toLowerCase() === \"true\";\n}\n// Environment checks\nconst isDevelopment = config.app.env === _constants__WEBPACK_IMPORTED_MODULE_0__.NODE_ENV.DEVELOPMENT;\nconst isProduction = config.app.env === _constants__WEBPACK_IMPORTED_MODULE_0__.NODE_ENV.PRODUCTION;\nconst isTest = config.app.env === _constants__WEBPACK_IMPORTED_MODULE_0__.NODE_ENV.TEST;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDL0IsSUFBSUcsTUFBTUQsU0FBUztRQUNqQixNQUFNLElBQUl6QyxNQUFNLENBQUMscUJBQXFCLEVBQUVFLEtBQUssd0JBQXdCLEVBQUVxQyxNQUFNLENBQUM7SUFDaEY7SUFDQSxPQUFPRTtBQUNUO0FBRU8sU0FBU0UsbUJBQW1CekMsSUFBWSxFQUFFb0MsWUFBc0I7SUFDckUsTUFBTUMsUUFBUTlDLFFBQVFELEdBQUcsQ0FBQ1UsS0FBSztJQUMvQixJQUFJcUMsVUFBVWIsV0FBVztRQUN2QixJQUFJWSxpQkFBaUJaLFdBQVc7WUFDOUIsT0FBT1k7UUFDVDtRQUNBLE1BQU0sSUFBSXRDLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRUUsS0FBSyxXQUFXLENBQUM7SUFDM0Q7SUFDQSxPQUFPcUMsTUFBTUssV0FBVyxPQUFPO0FBQ2pDO0FBRUEscUJBQXFCO0FBQ2QsTUFBTWpELGdCQUFnQnlDLE9BQU9uQyxHQUFHLENBQUNULEdBQUcsS0FBS0YsZ0RBQVFBLENBQUNJLFdBQVc7QUFDN0QsTUFBTUUsZUFBZXdDLE9BQU9uQyxHQUFHLENBQUNULEdBQUcsS0FBS0YsZ0RBQVFBLENBQUNPLFVBQVU7QUFDM0QsTUFBTWdELFNBQVNULE9BQU9uQyxHQUFHLENBQUNULEdBQUcsS0FBS0YsZ0RBQVFBLENBQUN3RCxJQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8uL3NyYy9saWIvY29uZmlnLnRzP2EzZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTk9ERV9FTlYgfSBmcm9tICcuL2NvbnN0YW50cydcblxuaW50ZXJmYWNlIENvbmZpZyB7XG4gIGFwcDoge1xuICAgIG5hbWU6IHN0cmluZ1xuICAgIHZlcnNpb246IHN0cmluZ1xuICAgIGVudjogc3RyaW5nXG4gICAgcG9ydDogbnVtYmVyXG4gICAgdXJsOiBzdHJpbmdcbiAgfVxuICBkYXRhYmFzZToge1xuICAgIHVybDogc3RyaW5nXG4gIH1cbiAgYXV0aDoge1xuICAgIHNlY3JldDogc3RyaW5nXG4gICAgdXJsOiBzdHJpbmdcbiAgICBzZXNzaW9uTWF4QWdlOiBudW1iZXJcbiAgfVxuICBsb2dnaW5nOiB7XG4gICAgbGV2ZWw6IHN0cmluZ1xuICAgIHByZXR0eTogYm9vbGVhblxuICB9XG4gIHJlZGlzPzoge1xuICAgIHVybDogc3RyaW5nXG4gICAgcGFzc3dvcmQ/OiBzdHJpbmdcbiAgfVxuICBleHRlcm5hbDoge1xuICAgIHlvdXR1YmU/OiB7XG4gICAgICBhcGlLZXk6IHN0cmluZ1xuICAgIH1cbiAgICB2aW1lbz86IHtcbiAgICAgIGNsaWVudElkOiBzdHJpbmdcbiAgICAgIGNsaWVudFNlY3JldDogc3RyaW5nXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldENvbmZpZygpOiBDb25maWcge1xuICBjb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCBOT0RFX0VOVi5ERVZFTE9QTUVOVFxuICBjb25zdCBpc0RldmVsb3BtZW50ID0gZW52ID09PSBOT0RFX0VOVi5ERVZFTE9QTUVOVFxuICBjb25zdCBpc1Byb2R1Y3Rpb24gPSBlbnYgPT09IE5PREVfRU5WLlBST0RVQ1RJT05cblxuICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgY29uc3QgcmVxdWlyZWRWYXJzID0gW1xuICAgICdEQVRBQkFTRV9VUkwnLFxuICAgICdORVhUQVVUSF9TRUNSRVQnLFxuICAgICdORVhUQVVUSF9VUkwnLFxuICBdXG5cbiAgZm9yIChjb25zdCB2YXJOYW1lIG9mIHJlcXVpcmVkVmFycykge1xuICAgIGlmICghcHJvY2Vzcy5lbnZbdmFyTmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZTogJHt2YXJOYW1lfWApXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhcHA6IHtcbiAgICAgIG5hbWU6IHByb2Nlc3MuZW52LkFQUF9OQU1FIHx8ICdSYXRlTWUnLFxuICAgICAgdmVyc2lvbjogcHJvY2Vzcy5lbnYuQVBQX1ZFUlNJT04gfHwgJzEuMC4wJyxcbiAgICAgIGVudixcbiAgICAgIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LlBPUlQgfHwgJzMwMDAnLCAxMCksXG4gICAgICB1cmw6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1VSTCEsXG4gICAgfSxcbiAgICBkYXRhYmFzZToge1xuICAgICAgdXJsOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwhLFxuICAgIH0sXG4gICAgYXV0aDoge1xuICAgICAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQhLFxuICAgICAgdXJsOiBwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkwhLFxuICAgICAgc2Vzc2lvbk1heEFnZTogcGFyc2VJbnQocHJvY2Vzcy5lbnYuU0VTU0lPTl9NQVhfQUdFIHx8ICcyNTkyMDAwJywgMTApLCAvLyAzMCBkYXlzXG4gICAgfSxcbiAgICBsb2dnaW5nOiB7XG4gICAgICBsZXZlbDogcHJvY2Vzcy5lbnYuTE9HX0xFVkVMIHx8IChpc0RldmVsb3BtZW50ID8gJ2RlYnVnJyA6ICdpbmZvJyksXG4gICAgICBwcmV0dHk6IGlzRGV2ZWxvcG1lbnQsXG4gICAgfSxcbiAgICByZWRpczogcHJvY2Vzcy5lbnYuUkVESVNfVVJMID8ge1xuICAgICAgdXJsOiBwcm9jZXNzLmVudi5SRURJU19VUkwsXG4gICAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuUkVESVNfUEFTU1dPUkQsXG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgICBleHRlcm5hbDoge1xuICAgICAgeW91dHViZTogcHJvY2Vzcy5lbnYuWU9VVFVCRV9BUElfS0VZID8ge1xuICAgICAgICBhcGlLZXk6IHByb2Nlc3MuZW52LllPVVRVQkVfQVBJX0tFWSxcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICB2aW1lbzogcHJvY2Vzcy5lbnYuVklNRU9fQ0xJRU5UX0lEICYmIHByb2Nlc3MuZW52LlZJTUVPX0NMSUVOVF9TRUNSRVQgPyB7XG4gICAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5WSU1FT19DTElFTlRfSUQsXG4gICAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuVklNRU9fQ0xJRU5UX1NFQ1JFVCxcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGNvbmZpZyBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpXG5cbi8vIFR5cGUtc2FmZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBhY2Nlc3NcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZWYXIobmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCB2YWx1ZSA9IHByb2Nlc3MuZW52W25hbWVdXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlXG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgRW52aXJvbm1lbnQgdmFyaWFibGUgJHtuYW1lfSBpcyBub3Qgc2V0YClcbiAgfVxuICByZXR1cm4gdmFsdWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVudlZhckFzTnVtYmVyKG5hbWU6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgdmFsdWUgPSBwcm9jZXNzLmVudltuYW1lXVxuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEVudmlyb25tZW50IHZhcmlhYmxlICR7bmFtZX0gaXMgbm90IHNldGApXG4gIH1cbiAgY29uc3QgcGFyc2VkID0gcGFyc2VJbnQodmFsdWUsIDEwKVxuICBpZiAoaXNOYU4ocGFyc2VkKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRW52aXJvbm1lbnQgdmFyaWFibGUgJHtuYW1lfSBpcyBub3QgYSB2YWxpZCBudW1iZXI6ICR7dmFsdWV9YClcbiAgfVxuICByZXR1cm4gcGFyc2VkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZWYXJBc0Jvb2xlYW4obmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBib29sZWFuKTogYm9vbGVhbiB7XG4gIGNvbnN0IHZhbHVlID0gcHJvY2Vzcy5lbnZbbmFtZV1cbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWVcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFbnZpcm9ubWVudCB2YXJpYWJsZSAke25hbWV9IGlzIG5vdCBzZXRgKVxuICB9XG4gIHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSdcbn1cblxuLy8gRW52aXJvbm1lbnQgY2hlY2tzXG5leHBvcnQgY29uc3QgaXNEZXZlbG9wbWVudCA9IGNvbmZpZy5hcHAuZW52ID09PSBOT0RFX0VOVi5ERVZFTE9QTUVOVFxuZXhwb3J0IGNvbnN0IGlzUHJvZHVjdGlvbiA9IGNvbmZpZy5hcHAuZW52ID09PSBOT0RFX0VOVi5QUk9EVUNUSU9OXG5leHBvcnQgY29uc3QgaXNUZXN0ID0gY29uZmlnLmFwcC5lbnYgPT09IE5PREVfRU5WLlRFU1QiXSwibmFtZXMiOlsiTk9ERV9FTlYiLCJnZXRDb25maWciLCJlbnYiLCJwcm9jZXNzIiwiREVWRUxPUE1FTlQiLCJpc0RldmVsb3BtZW50IiwiaXNQcm9kdWN0aW9uIiwiUFJPRFVDVElPTiIsInJlcXVpcmVkVmFycyIsInZhck5hbWUiLCJFcnJvciIsImFwcCIsIm5hbWUiLCJBUFBfTkFNRSIsInZlcnNpb24iLCJBUFBfVkVSU0lPTiIsInBvcnQiLCJwYXJzZUludCIsIlBPUlQiLCJ1cmwiLCJORVhUQVVUSF9VUkwiLCJkYXRhYmFzZSIsIkRBVEFCQVNFX1VSTCIsImF1dGgiLCJzZWNyZXQiLCJORVhUQVVUSF9TRUNSRVQiLCJzZXNzaW9uTWF4QWdlIiwiU0VTU0lPTl9NQVhfQUdFIiwibG9nZ2luZyIsImxldmVsIiwiTE9HX0xFVkVMIiwicHJldHR5IiwicmVkaXMiLCJSRURJU19VUkwiLCJwYXNzd29yZCIsIlJFRElTX1BBU1NXT1JEIiwidW5kZWZpbmVkIiwiZXh0ZXJuYWwiLCJ5b3V0dWJlIiwiWU9VVFVCRV9BUElfS0VZIiwiYXBpS2V5IiwidmltZW8iLCJWSU1FT19DTElFTlRfSUQiLCJWSU1FT19DTElFTlRfU0VDUkVUIiwiY2xpZW50SWQiLCJjbGllbnRTZWNyZXQiLCJjb25maWciLCJnZXRFbnZWYXIiLCJkZWZhdWx0VmFsdWUiLCJ2YWx1ZSIsImdldEVudlZhckFzTnVtYmVyIiwicGFyc2VkIiwiaXNOYU4iLCJnZXRFbnZWYXJBc0Jvb2xlYW4iLCJ0b0xvd2VyQ2FzZSIsImlzVGVzdCIsIlRFU1QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/config.ts\n");

/***/ }),

/***/ "(api)/./src/lib/constants.ts":
/*!******************************!*\
  !*** ./src/lib/constants.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_ROUTES: () => (/* binding */ API_ROUTES),\n/* harmony export */   APP_DESCRIPTION: () => (/* binding */ APP_DESCRIPTION),\n/* harmony export */   APP_NAME: () => (/* binding */ APP_NAME),\n/* harmony export */   APP_VERSION: () => (/* binding */ APP_VERSION),\n/* harmony export */   CACHE_KEYS: () => (/* binding */ CACHE_KEYS),\n/* harmony export */   CACHE_TTL: () => (/* binding */ CACHE_TTL),\n/* harmony export */   DEFAULTS: () => (/* binding */ DEFAULTS),\n/* harmony export */   ERROR_CODES: () => (/* binding */ ERROR_CODES),\n/* harmony export */   EXTERNAL_SERVICES: () => (/* binding */ EXTERNAL_SERVICES),\n/* harmony export */   FEATURES: () => (/* binding */ FEATURES),\n/* harmony export */   HTTP_STATUS: () => (/* binding */ HTTP_STATUS),\n/* harmony export */   NODE_ENV: () => (/* binding */ NODE_ENV),\n/* harmony export */   PAGINATION: () => (/* binding */ PAGINATION),\n/* harmony export */   RATING_LEVELS: () => (/* binding */ RATING_LEVELS),\n/* harmony export */   SEO: () => (/* binding */ SEO),\n/* harmony export */   SOCIAL_PLATFORMS: () => (/* binding */ SOCIAL_PLATFORMS),\n/* harmony export */   UPLOAD_LIMITS: () => (/* binding */ UPLOAD_LIMITS),\n/* harmony export */   USER_LIMITS: () => (/* binding */ USER_LIMITS),\n/* harmony export */   VALIDATION_PATTERNS: () => (/* binding */ VALIDATION_PATTERNS),\n/* harmony export */   VIDEO_LIMITS: () => (/* binding */ VIDEO_LIMITS),\n/* harmony export */   VIDEO_PLATFORMS: () => (/* binding */ VIDEO_PLATFORMS)\n/* harmony export */ });\n// Application constants\nconst APP_NAME = \"RateMe\";\nconst APP_DESCRIPTION = \"A modern video rating platform\";\nconst APP_VERSION = \"1.0.0\";\n// API constants\nconst API_ROUTES = {\n    AUTH: {\n        SIGNIN: \"/api/auth/signin\",\n        SIGNUP: \"/api/auth/register\",\n        SIGNOUT: \"/api/auth/signout\"\n    },\n    VIDEOS: {\n        BASE: \"/api/videos\",\n        BY_ID: (id)=>`/api/videos/${id}`,\n        RATE: (id)=>`/api/videos/${id}/rate`\n    },\n    USERS: {\n        BASE: \"/api/users\",\n        BY_ID: (id)=>`/api/users/${id}`,\n        FOLLOW: (id)=>`/api/users/${id}/follow`\n    }\n};\n// UI constants\nconst PAGINATION = {\n    DEFAULT_PAGE_SIZE: 12,\n    MAX_PAGE_SIZE: 50\n};\nconst VIDEO_LIMITS = {\n    MAX_TITLE_LENGTH: 200,\n    MAX_DESCRIPTION_LENGTH: 1000\n};\nconst USER_LIMITS = {\n    MIN_USERNAME_LENGTH: 3,\n    MAX_USERNAME_LENGTH: 30,\n    MIN_PASSWORD_LENGTH: 6,\n    MAX_PASSWORD_LENGTH: 128\n};\n// Validation patterns\nconst VALIDATION_PATTERNS = {\n    EMAIL: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n    USERNAME: /^[a-zA-Z0-9_]{3,30}$/,\n    YOUTUBE_URL: /(?:https?:\\/\\/)?(?:www\\.)?(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([a-zA-Z0-9_-]{11})/,\n    VIMEO_URL: /(?:https?:\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/\n};\n// Error codes\nconst ERROR_CODES = {\n    // Authentication errors\n    INVALID_CREDENTIALS: \"INVALID_CREDENTIALS\",\n    USER_NOT_FOUND: \"USER_NOT_FOUND\",\n    USER_ALREADY_EXISTS: \"USER_ALREADY_EXISTS\",\n    UNAUTHORIZED: \"UNAUTHORIZED\",\n    SESSION_EXPIRED: \"SESSION_EXPIRED\",\n    // Validation errors\n    VALIDATION_ERROR: \"VALIDATION_ERROR\",\n    INVALID_INPUT: \"INVALID_INPUT\",\n    MISSING_REQUIRED_FIELD: \"MISSING_REQUIRED_FIELD\",\n    // Resource errors\n    RESOURCE_NOT_FOUND: \"RESOURCE_NOT_FOUND\",\n    RESOURCE_ALREADY_EXISTS: \"RESOURCE_ALREADY_EXISTS\",\n    RESOURCE_FORBIDDEN: \"RESOURCE_FORBIDDEN\",\n    // Server errors\n    INTERNAL_SERVER_ERROR: \"INTERNAL_SERVER_ERROR\",\n    DATABASE_ERROR: \"DATABASE_ERROR\",\n    EXTERNAL_SERVICE_ERROR: \"EXTERNAL_SERVICE_ERROR\",\n    // Rate limiting\n    RATE_LIMIT_EXCEEDED: \"RATE_LIMIT_EXCEEDED\"\n};\n// HTTP status codes\nconst HTTP_STATUS = {\n    OK: 200,\n    CREATED: 201,\n    NO_CONTENT: 204,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    FORBIDDEN: 403,\n    NOT_FOUND: 404,\n    METHOD_NOT_ALLOWED: 405,\n    CONFLICT: 409,\n    UNPROCESSABLE_ENTITY: 422,\n    TOO_MANY_REQUESTS: 429,\n    INTERNAL_SERVER_ERROR: 500,\n    BAD_GATEWAY: 502,\n    SERVICE_UNAVAILABLE: 503\n};\n// Cache keys\nconst CACHE_KEYS = {\n    VIDEOS: \"videos\",\n    USER: (id)=>`user:${id}`,\n    VIDEO: (id)=>`video:${id}`,\n    TAGS: \"tags\",\n    USER_VIDEOS: (userId)=>`user:${userId}:videos`\n};\n// Cache TTL (in seconds)\nconst CACHE_TTL = {\n    SHORT: 300,\n    MEDIUM: 1800,\n    LONG: 3600,\n    VERY_LONG: 86400\n};\n// Environment types\nconst NODE_ENV = {\n    DEVELOPMENT: \"development\",\n    PRODUCTION: \"production\",\n    TEST: \"test\"\n};\n// Supported video platforms\nconst VIDEO_PLATFORMS = {\n    YOUTUBE: \"youtube\",\n    VIMEO: \"vimeo\"\n};\n// Rating levels\nconst RATING_LEVELS = {\n    MIN: 1,\n    MAX: 5,\n    DEFAULT: 3\n};\n// Default values\nconst DEFAULTS = {\n    AVATAR_URL: \"/images/default-avatar.png\",\n    VIDEO_THUMBNAIL: \"/images/default-video-thumbnail.png\",\n    PAGINATION_LIMIT: PAGINATION.DEFAULT_PAGE_SIZE,\n    RATING_LEVEL: RATING_LEVELS.DEFAULT\n};\n// Feature flags\nconst FEATURES = {\n    VIDEO_UPLOAD: true,\n    USER_REGISTRATION: true,\n    VIDEO_RATING: true,\n    USER_FOLLOWING: true,\n    SEARCH: true,\n    ADMIN_PANEL: false\n};\n// External service URLs\nconst EXTERNAL_SERVICES = {\n    YOUTUBE_API: \"https://www.googleapis.com/youtube/v3\",\n    VIMEO_API: \"https://api.vimeo.com\"\n};\n// File upload limits\nconst UPLOAD_LIMITS = {\n    MAX_FILE_SIZE: 10 * 1024 * 1024,\n    ALLOWED_IMAGE_TYPES: [\n        \"image/jpeg\",\n        \"image/png\",\n        \"image/gif\",\n        \"image/webp\"\n    ],\n    ALLOWED_VIDEO_TYPES: [\n        \"video/mp4\",\n        \"video/webm\",\n        \"video/ogg\"\n    ]\n};\n// SEO constants\nconst SEO = {\n    DEFAULT_TITLE: APP_NAME,\n    TITLE_TEMPLATE: `%s | ${APP_NAME}`,\n    DEFAULT_DESCRIPTION: APP_DESCRIPTION,\n    TWITTER_HANDLE: \"@rateme\",\n    SITE_URL: process.env.NEXTAUTH_URL || \"http://localhost:3000\"\n};\n// Social sharing\nconst SOCIAL_PLATFORMS = {\n    TWITTER: \"twitter\",\n    FACEBOOK: \"facebook\",\n    LINKEDIN: \"linkedin\",\n    REDDIT: \"reddit\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDTEMsS0FBSztJQUNMQyxTQUFTO0FBQ1gsRUFBVTtBQUVWLGlCQUFpQjtBQUNWLE1BQU1DLFdBQVc7SUFDdEJDLFlBQVk7SUFDWkMsaUJBQWlCO0lBQ2pCQyxrQkFBa0J0RSxXQUFXQyxpQkFBaUI7SUFDOUNzRSxjQUFjUixjQUFjRyxPQUFPO0FBQ3JDLEVBQVU7QUFFVixnQkFBZ0I7QUFDVCxNQUFNTSxXQUFXO0lBQ3RCQyxjQUFjO0lBQ2RDLG1CQUFtQjtJQUNuQkMsY0FBYztJQUNkQyxnQkFBZ0I7SUFDaEJDLFFBQVE7SUFDUkMsYUFBYTtBQUNmLEVBQVU7QUFFVix3QkFBd0I7QUFDakIsTUFBTUMsb0JBQW9CO0lBQy9CQyxhQUFhO0lBQ2JDLFdBQVc7QUFDYixFQUFVO0FBRVYscUJBQXFCO0FBQ2QsTUFBTUMsZ0JBQWdCO0lBQzNCQyxlQUFlLEtBQUssT0FBTztJQUMzQkMscUJBQXFCO1FBQUM7UUFBYztRQUFhO1FBQWE7S0FBYTtJQUMzRUMscUJBQXFCO1FBQUM7UUFBYTtRQUFjO0tBQVk7QUFDL0QsRUFBVTtBQUVWLGdCQUFnQjtBQUNULE1BQU1DLE1BQU07SUFDakJDLGVBQWV0RztJQUNmdUcsZ0JBQWdCLENBQUMsS0FBSyxFQUFFdkcsU0FBUyxDQUFDO0lBQ2xDd0cscUJBQXFCdkc7SUFDckJ3RyxnQkFBZ0I7SUFDaEJDLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxJQUFJO0FBQ3hDLEVBQVU7QUFFVixpQkFBaUI7QUFDVixNQUFNQyxtQkFBbUI7SUFDOUJDLFNBQVM7SUFDVEMsVUFBVTtJQUNWQyxVQUFVO0lBQ1ZDLFFBQVE7QUFDVixFQUFVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8uL3NyYy9saWIvY29uc3RhbnRzLnRzP2ZiZjkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQXBwbGljYXRpb24gY29uc3RhbnRzXG5leHBvcnQgY29uc3QgQVBQX05BTUUgPSAnUmF0ZU1lJ1xuZXhwb3J0IGNvbnN0IEFQUF9ERVNDUklQVElPTiA9ICdBIG1vZGVybiB2aWRlbyByYXRpbmcgcGxhdGZvcm0nXG5leHBvcnQgY29uc3QgQVBQX1ZFUlNJT04gPSAnMS4wLjAnXG5cbi8vIEFQSSBjb25zdGFudHNcbmV4cG9ydCBjb25zdCBBUElfUk9VVEVTID0ge1xuICBBVVRIOiB7XG4gICAgU0lHTklOOiAnL2FwaS9hdXRoL3NpZ25pbicsXG4gICAgU0lHTlVQOiAnL2FwaS9hdXRoL3JlZ2lzdGVyJyxcbiAgICBTSUdOT1VUOiAnL2FwaS9hdXRoL3NpZ25vdXQnLFxuICB9LFxuICBWSURFT1M6IHtcbiAgICBCQVNFOiAnL2FwaS92aWRlb3MnLFxuICAgIEJZX0lEOiAoaWQ6IHN0cmluZykgPT4gYC9hcGkvdmlkZW9zLyR7aWR9YCxcbiAgICBSQVRFOiAoaWQ6IHN0cmluZykgPT4gYC9hcGkvdmlkZW9zLyR7aWR9L3JhdGVgLFxuICB9LFxuICBVU0VSUzoge1xuICAgIEJBU0U6ICcvYXBpL3VzZXJzJyxcbiAgICBCWV9JRDogKGlkOiBzdHJpbmcpID0+IGAvYXBpL3VzZXJzLyR7aWR9YCxcbiAgICBGT0xMT1c6IChpZDogc3RyaW5nKSA9PiBgL2FwaS91c2Vycy8ke2lkfS9mb2xsb3dgLFxuICB9LFxufSBhcyBjb25zdFxuXG4vLyBVSSBjb25zdGFudHNcbmV4cG9ydCBjb25zdCBQQUdJTkFUSU9OID0ge1xuICBERUZBVUxUX1BBR0VfU0laRTogMTIsXG4gIE1BWF9QQUdFX1NJWkU6IDUwLFxufSBhcyBjb25zdFxuXG5leHBvcnQgY29uc3QgVklERU9fTElNSVRTID0ge1xuICBNQVhfVElUTEVfTEVOR1RIOiAyMDAsXG4gIE1BWF9ERVNDUklQVElPTl9MRU5HVEg6IDEwMDAsXG4gIC8vIFJlbW92ZWQgTUFYX1RBR1MgbGltaXQgdG8gYWxsb3cgdW5saW1pdGVkIHRhZ3Ncbn0gYXMgY29uc3RcblxuZXhwb3J0IGNvbnN0IFVTRVJfTElNSVRTID0ge1xuICBNSU5fVVNFUk5BTUVfTEVOR1RIOiAzLFxuICBNQVhfVVNFUk5BTUVfTEVOR1RIOiAzMCxcbiAgTUlOX1BBU1NXT1JEX0xFTkdUSDogNixcbiAgTUFYX1BBU1NXT1JEX0xFTkdUSDogMTI4LFxufSBhcyBjb25zdFxuXG4vLyBWYWxpZGF0aW9uIHBhdHRlcm5zXG5leHBvcnQgY29uc3QgVkFMSURBVElPTl9QQVRURVJOUyA9IHtcbiAgRU1BSUw6IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLFxuICBVU0VSTkFNRTogL15bYS16QS1aMC05X117MywzMH0kLyxcbiAgWU9VVFVCRV9VUkw6IC8oPzpodHRwcz86XFwvXFwvKT8oPzp3d3dcXC4pPyg/OnlvdXR1YmVcXC5jb21cXC93YXRjaFxcP3Y9fHlvdXR1XFwuYmVcXC8pKFthLXpBLVowLTlfLV17MTF9KS8sXG4gIFZJTUVPX1VSTDogLyg/Omh0dHBzPzpcXC9cXC8pPyg/Ond3d1xcLik/dmltZW9cXC5jb21cXC8oXFxkKykvLFxufSBhcyBjb25zdFxuXG4vLyBFcnJvciBjb2Rlc1xuZXhwb3J0IGNvbnN0IEVSUk9SX0NPREVTID0ge1xuICAvLyBBdXRoZW50aWNhdGlvbiBlcnJvcnNcbiAgSU5WQUxJRF9DUkVERU5USUFMUzogJ0lOVkFMSURfQ1JFREVOVElBTFMnLFxuICBVU0VSX05PVF9GT1VORDogJ1VTRVJfTk9UX0ZPVU5EJyxcbiAgVVNFUl9BTFJFQURZX0VYSVNUUzogJ1VTRVJfQUxSRUFEWV9FWElTVFMnLFxuICBVTkFVVEhPUklaRUQ6ICdVTkFVVEhPUklaRUQnLFxuICBTRVNTSU9OX0VYUElSRUQ6ICdTRVNTSU9OX0VYUElSRUQnLFxuXG4gIC8vIFZhbGlkYXRpb24gZXJyb3JzXG4gIFZBTElEQVRJT05fRVJST1I6ICdWQUxJREFUSU9OX0VSUk9SJyxcbiAgSU5WQUxJRF9JTlBVVDogJ0lOVkFMSURfSU5QVVQnLFxuICBNSVNTSU5HX1JFUVVJUkVEX0ZJRUxEOiAnTUlTU0lOR19SRVFVSVJFRF9GSUVMRCcsXG5cbiAgLy8gUmVzb3VyY2UgZXJyb3JzXG4gIFJFU09VUkNFX05PVF9GT1VORDogJ1JFU09VUkNFX05PVF9GT1VORCcsXG4gIFJFU09VUkNFX0FMUkVBRFlfRVhJU1RTOiAnUkVTT1VSQ0VfQUxSRUFEWV9FWElTVFMnLFxuICBSRVNPVVJDRV9GT1JCSURERU46ICdSRVNPVVJDRV9GT1JCSURERU4nLFxuXG4gIC8vIFNlcnZlciBlcnJvcnNcbiAgSU5URVJOQUxfU0VSVkVSX0VSUk9SOiAnSU5URVJOQUxfU0VSVkVSX0VSUk9SJyxcbiAgREFUQUJBU0VfRVJST1I6ICdEQVRBQkFTRV9FUlJPUicsXG4gIEVYVEVSTkFMX1NFUlZJQ0VfRVJST1I6ICdFWFRFUk5BTF9TRVJWSUNFX0VSUk9SJyxcblxuICAvLyBSYXRlIGxpbWl0aW5nXG4gIFJBVEVfTElNSVRfRVhDRUVERUQ6ICdSQVRFX0xJTUlUX0VYQ0VFREVEJyxcbn0gYXMgY29uc3RcblxuLy8gSFRUUCBzdGF0dXMgY29kZXNcbmV4cG9ydCBjb25zdCBIVFRQX1NUQVRVUyA9IHtcbiAgT0s6IDIwMCxcbiAgQ1JFQVRFRDogMjAxLFxuICBOT19DT05URU5UOiAyMDQsXG4gIEJBRF9SRVFVRVNUOiA0MDAsXG4gIFVOQVVUSE9SSVpFRDogNDAxLFxuICBGT1JCSURERU46IDQwMyxcbiAgTk9UX0ZPVU5EOiA0MDQsXG4gIE1FVEhPRF9OT1RfQUxMT1dFRDogNDA1LFxuICBDT05GTElDVDogNDA5LFxuICBVTlBST0NFU1NBQkxFX0VOVElUWTogNDIyLFxuICBUT09fTUFOWV9SRVFVRVNUUzogNDI5LFxuICBJTlRFUk5BTF9TRVJWRVJfRVJST1I6IDUwMCxcbiAgQkFEX0dBVEVXQVk6IDUwMixcbiAgU0VSVklDRV9VTkFWQUlMQUJMRTogNTAzLFxufSBhcyBjb25zdFxuXG4vLyBDYWNoZSBrZXlzXG5leHBvcnQgY29uc3QgQ0FDSEVfS0VZUyA9IHtcbiAgVklERU9TOiAndmlkZW9zJyxcbiAgVVNFUjogKGlkOiBzdHJpbmcpID0+IGB1c2VyOiR7aWR9YCxcbiAgVklERU86IChpZDogc3RyaW5nKSA9PiBgdmlkZW86JHtpZH1gLFxuICBUQUdTOiAndGFncycsXG4gIFVTRVJfVklERU9TOiAodXNlcklkOiBzdHJpbmcpID0+IGB1c2VyOiR7dXNlcklkfTp2aWRlb3NgLFxufSBhcyBjb25zdFxuXG4vLyBDYWNoZSBUVEwgKGluIHNlY29uZHMpXG5leHBvcnQgY29uc3QgQ0FDSEVfVFRMID0ge1xuICBTSE9SVDogMzAwLCAvLyA1IG1pbnV0ZXNcbiAgTUVESVVNOiAxODAwLCAvLyAzMCBtaW51dGVzXG4gIExPTkc6IDM2MDAsIC8vIDEgaG91clxuICBWRVJZX0xPTkc6IDg2NDAwLCAvLyAyNCBob3Vyc1xufSBhcyBjb25zdFxuXG4vLyBFbnZpcm9ubWVudCB0eXBlc1xuZXhwb3J0IGNvbnN0IE5PREVfRU5WID0ge1xuICBERVZFTE9QTUVOVDogJ2RldmVsb3BtZW50JyxcbiAgUFJPRFVDVElPTjogJ3Byb2R1Y3Rpb24nLFxuICBURVNUOiAndGVzdCcsXG59IGFzIGNvbnN0XG5cbi8vIFN1cHBvcnRlZCB2aWRlbyBwbGF0Zm9ybXNcbmV4cG9ydCBjb25zdCBWSURFT19QTEFURk9STVMgPSB7XG4gIFlPVVRVQkU6ICd5b3V0dWJlJyxcbiAgVklNRU86ICd2aW1lbycsXG59IGFzIGNvbnN0XG5cbi8vIFJhdGluZyBsZXZlbHNcbmV4cG9ydCBjb25zdCBSQVRJTkdfTEVWRUxTID0ge1xuICBNSU46IDEsXG4gIE1BWDogNSxcbiAgREVGQVVMVDogMyxcbn0gYXMgY29uc3RcblxuLy8gRGVmYXVsdCB2YWx1ZXNcbmV4cG9ydCBjb25zdCBERUZBVUxUUyA9IHtcbiAgQVZBVEFSX1VSTDogJy9pbWFnZXMvZGVmYXVsdC1hdmF0YXIucG5nJyxcbiAgVklERU9fVEhVTUJOQUlMOiAnL2ltYWdlcy9kZWZhdWx0LXZpZGVvLXRodW1ibmFpbC5wbmcnLFxuICBQQUdJTkFUSU9OX0xJTUlUOiBQQUdJTkFUSU9OLkRFRkFVTFRfUEFHRV9TSVpFLFxuICBSQVRJTkdfTEVWRUw6IFJBVElOR19MRVZFTFMuREVGQVVMVCxcbn0gYXMgY29uc3RcblxuLy8gRmVhdHVyZSBmbGFnc1xuZXhwb3J0IGNvbnN0IEZFQVRVUkVTID0ge1xuICBWSURFT19VUExPQUQ6IHRydWUsXG4gIFVTRVJfUkVHSVNUUkFUSU9OOiB0cnVlLFxuICBWSURFT19SQVRJTkc6IHRydWUsXG4gIFVTRVJfRk9MTE9XSU5HOiB0cnVlLFxuICBTRUFSQ0g6IHRydWUsXG4gIEFETUlOX1BBTkVMOiBmYWxzZSxcbn0gYXMgY29uc3RcblxuLy8gRXh0ZXJuYWwgc2VydmljZSBVUkxzXG5leHBvcnQgY29uc3QgRVhURVJOQUxfU0VSVklDRVMgPSB7XG4gIFlPVVRVQkVfQVBJOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20veW91dHViZS92MycsXG4gIFZJTUVPX0FQSTogJ2h0dHBzOi8vYXBpLnZpbWVvLmNvbScsXG59IGFzIGNvbnN0XG5cbi8vIEZpbGUgdXBsb2FkIGxpbWl0c1xuZXhwb3J0IGNvbnN0IFVQTE9BRF9MSU1JVFMgPSB7XG4gIE1BWF9GSUxFX1NJWkU6IDEwICogMTAyNCAqIDEwMjQsIC8vIDEwTUJcbiAgQUxMT1dFRF9JTUFHRV9UWVBFUzogWydpbWFnZS9qcGVnJywgJ2ltYWdlL3BuZycsICdpbWFnZS9naWYnLCAnaW1hZ2Uvd2VicCddLFxuICBBTExPV0VEX1ZJREVPX1RZUEVTOiBbJ3ZpZGVvL21wNCcsICd2aWRlby93ZWJtJywgJ3ZpZGVvL29nZyddLFxufSBhcyBjb25zdFxuXG4vLyBTRU8gY29uc3RhbnRzXG5leHBvcnQgY29uc3QgU0VPID0ge1xuICBERUZBVUxUX1RJVExFOiBBUFBfTkFNRSxcbiAgVElUTEVfVEVNUExBVEU6IGAlcyB8ICR7QVBQX05BTUV9YCxcbiAgREVGQVVMVF9ERVNDUklQVElPTjogQVBQX0RFU0NSSVBUSU9OLFxuICBUV0lUVEVSX0hBTkRMRTogJ0ByYXRlbWUnLFxuICBTSVRFX1VSTDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLFxufSBhcyBjb25zdFxuXG4vLyBTb2NpYWwgc2hhcmluZ1xuZXhwb3J0IGNvbnN0IFNPQ0lBTF9QTEFURk9STVMgPSB7XG4gIFRXSVRURVI6ICd0d2l0dGVyJyxcbiAgRkFDRUJPT0s6ICdmYWNlYm9vaycsXG4gIExJTktFRElOOiAnbGlua2VkaW4nLFxuICBSRURESVQ6ICdyZWRkaXQnLFxufSBhcyBjb25zdCJdLCJuYW1lcyI6WyJBUFBfTkFNRSIsIkFQUF9ERVNDUklQVElPTiIsIkFQUF9WRVJTSU9OIiwiQVBJX1JPVVRFUyIsIkFVVEgiLCJTSUdOSU4iLCJTSUdOVVAiLCJTSUdOT1VUIiwiVklERU9TIiwiQkFTRSIsIkJZX0lEIiwiaWQiLCJSQVRFIiwiVVNFUlMiLCJGT0xMT1ciLCJQQUdJTkFUSU9OIiwiREVGQVVMVF9QQUdFX1NJWkUiLCJNQVhfUEFHRV9TSVpFIiwiVklERU9fTElNSVRTIiwiTUFYX1RJVExFX0xFTkdUSCIsIk1BWF9ERVNDUklQVElPTl9MRU5HVEgiLCJVU0VSX0xJTUlUUyIsIk1JTl9VU0VSTkFNRV9MRU5HVEgiLCJNQVhfVVNFUk5BTUVfTEVOR1RIIiwiTUlOX1BBU1NXT1JEX0xFTkdUSCIsIk1BWF9QQVNTV09SRF9MRU5HVEgiLCJWQUxJREFUSU9OX1BBVFRFUk5TIiwiRU1BSUwiLCJVU0VSTkFNRSIsIllPVVRVQkVfVVJMIiwiVklNRU9fVVJMIiwiRVJST1JfQ09ERVMiLCJJTlZBTElEX0NSRURFTlRJQUxTIiwiVVNFUl9OT1RfRk9VTkQiLCJVU0VSX0FMUkVBRFlfRVhJU1RTIiwiVU5BVVRIT1JJWkVEIiwiU0VTU0lPTl9FWFBJUkVEIiwiVkFMSURBVElPTl9FUlJPUiIsIklOVkFMSURfSU5QVVQiLCJNSVNTSU5HX1JFUVVJUkVEX0ZJRUxEIiwiUkVTT1VSQ0VfTk9UX0ZPVU5EIiwiUkVTT1VSQ0VfQUxSRUFEWV9FWElTVFMiLCJSRVNPVVJDRV9GT1JCSURERU4iLCJJTlRFUk5BTF9TRVJWRVJfRVJST1IiLCJEQVRBQkFTRV9FUlJPUiIsIkVYVEVSTkFMX1NFUlZJQ0VfRVJST1IiLCJSQVRFX0xJTUlUX0VYQ0VFREVEIiwiSFRUUF9TVEFUVVMiLCJPSyIsIkNSRUFURUQiLCJOT19DT05URU5UIiwiQkFEX1JFUVVFU1QiLCJGT1JCSURERU4iLCJOT1RfRk9VTkQiLCJNRVRIT0RfTk9UX0FMTE9XRUQiLCJDT05GTElDVCIsIlVOUFJPQ0VTU0FCTEVfRU5USVRZIiwiVE9PX01BTllfUkVRVUVTVFMiLCJCQURfR0FURVdBWSIsIlNFUlZJQ0VfVU5BVkFJTEFCTEUiLCJDQUNIRV9LRVlTIiwiVVNFUiIsIlZJREVPIiwiVEFHUyIsIlVTRVJfVklERU9TIiwidXNlcklkIiwiQ0FDSEVfVFRMIiwiU0hPUlQiLCJNRURJVU0iLCJMT05HIiwiVkVSWV9MT05HIiwiTk9ERV9FTlYiLCJERVZFTE9QTUVOVCIsIlBST0RVQ1RJT04iLCJURVNUIiwiVklERU9fUExBVEZPUk1TIiwiWU9VVFVCRSIsIlZJTUVPIiwiUkFUSU5HX0xFVkVMUyIsIk1JTiIsIk1BWCIsIkRFRkFVTFQiLCJERUZBVUxUUyIsIkFWQVRBUl9VUkwiLCJWSURFT19USFVNQk5BSUwiLCJQQUdJTkFUSU9OX0xJTUlUIiwiUkFUSU5HX0xFVkVMIiwiRkVBVFVSRVMiLCJWSURFT19VUExPQUQiLCJVU0VSX1JFR0lTVFJBVElPTiIsIlZJREVPX1JBVElORyIsIlVTRVJfRk9MTE9XSU5HIiwiU0VBUkNIIiwiQURNSU5fUEFORUwiLCJFWFRFUk5BTF9TRVJWSUNFUyIsIllPVVRVQkVfQVBJIiwiVklNRU9fQVBJIiwiVVBMT0FEX0xJTUlUUyIsIk1BWF9GSUxFX1NJWkUiLCJBTExPV0VEX0lNQUdFX1RZUEVTIiwiQUxMT1dFRF9WSURFT19UWVBFUyIsIlNFTyIsIkRFRkFVTFRfVElUTEUiLCJUSVRMRV9URU1QTEFURSIsIkRFRkFVTFRfREVTQ1JJUFRJT04iLCJUV0lUVEVSX0hBTkRMRSIsIlNJVEVfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1VSTCIsIlNPQ0lBTF9QTEFURk9STVMiLCJUV0lUVEVSIiwiRkFDRUJPT0siLCJMSU5LRURJTiIsIlJFRERJVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/constants.ts\n");

/***/ }),

/***/ "(api)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst db = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLEtBQUtGLGdCQUFnQkcsTUFBTSxJQUFJLElBQUlKLHdEQUFZQSxHQUFFO0FBRTlELElBQUlLLElBQXlCLEVBQWNKLGdCQUFnQkcsTUFBTSxHQUFHRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JhdGVteS1uZXh0anMvLi9zcmMvbGliL2RiLnRzPzllNGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjb25zdCBkYiA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCgpXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gZGIiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsImRiIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/db.ts\n");

/***/ }),

/***/ "(api)/./src/lib/errors.ts":
/*!***************************!*\
  !*** ./src/lib/errors.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppError: () => (/* binding */ AppError),\n/* harmony export */   AuthenticationError: () => (/* binding */ AuthenticationError),\n/* harmony export */   AuthorizationError: () => (/* binding */ AuthorizationError),\n/* harmony export */   ConflictError: () => (/* binding */ ConflictError),\n/* harmony export */   DatabaseError: () => (/* binding */ DatabaseError),\n/* harmony export */   ExternalServiceError: () => (/* binding */ ExternalServiceError),\n/* harmony export */   NotFoundError: () => (/* binding */ NotFoundError),\n/* harmony export */   RateLimitError: () => (/* binding */ RateLimitError),\n/* harmony export */   ValidationError: () => (/* binding */ ValidationError),\n/* harmony export */   asyncWrapper: () => (/* binding */ asyncWrapper),\n/* harmony export */   createConflictError: () => (/* binding */ createConflictError),\n/* harmony export */   createNotFoundError: () => (/* binding */ createNotFoundError),\n/* harmony export */   createValidationError: () => (/* binding */ createValidationError),\n/* harmony export */   extractErrorCode: () => (/* binding */ extractErrorCode),\n/* harmony export */   extractErrorMessage: () => (/* binding */ extractErrorMessage),\n/* harmony export */   extractStatusCode: () => (/* binding */ extractStatusCode),\n/* harmony export */   handlePromiseRejection: () => (/* binding */ handlePromiseRejection),\n/* harmony export */   isAppError: () => (/* binding */ isAppError),\n/* harmony export */   isOperationalError: () => (/* binding */ isOperationalError),\n/* harmony export */   serializeError: () => (/* binding */ serializeError)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(api)/./src/lib/constants.ts\");\n\nclass AppError extends Error {\n    constructor(message, code = _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.INTERNAL_SERVER_ERROR, statusCode = _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.INTERNAL_SERVER_ERROR, isOperational = true, context){\n        super(message);\n        this.name = this.constructor.name;\n        this.code = code;\n        this.statusCode = statusCode;\n        this.isOperational = isOperational;\n        this.context = context;\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\n// Specific error classes\nclass ValidationError extends AppError {\n    constructor(message, field, context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.VALIDATION_ERROR, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.BAD_REQUEST, true, {\n            field,\n            ...context\n        });\n    }\n}\nclass AuthenticationError extends AppError {\n    constructor(message = \"Authentication failed\", context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.UNAUTHORIZED, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.UNAUTHORIZED, true, context);\n    }\n}\nclass AuthorizationError extends AppError {\n    constructor(message = \"Access forbidden\", context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.RESOURCE_FORBIDDEN, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.FORBIDDEN, true, context);\n    }\n}\nclass NotFoundError extends AppError {\n    constructor(resource = \"Resource\", context){\n        super(`${resource} not found`, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.RESOURCE_NOT_FOUND, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.NOT_FOUND, true, context);\n    }\n}\nclass ConflictError extends AppError {\n    constructor(message, context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.RESOURCE_ALREADY_EXISTS, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.CONFLICT, true, context);\n    }\n}\nclass DatabaseError extends AppError {\n    constructor(message, context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.DATABASE_ERROR, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.INTERNAL_SERVER_ERROR, true, context);\n    }\n}\nclass ExternalServiceError extends AppError {\n    constructor(service, message, context){\n        super(`External service error (${service}): ${message}`, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.EXTERNAL_SERVICE_ERROR, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.BAD_GATEWAY, true, context);\n    }\n}\nclass RateLimitError extends AppError {\n    constructor(message = \"Rate limit exceeded\", context){\n        super(message, _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.RATE_LIMIT_EXCEEDED, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.TOO_MANY_REQUESTS, true, context);\n    }\n}\n// Error factory functions\nfunction createValidationError(field, message, value) {\n    return new ValidationError(message, field, {\n        value\n    });\n}\nfunction createNotFoundError(resource, id) {\n    return new NotFoundError(resource, {\n        id\n    });\n}\nfunction createConflictError(resource, field, value) {\n    return new ConflictError(`${resource} with ${field} '${value}' already exists`, {\n        resource,\n        field,\n        value\n    });\n}\n// Error handling utilities\nfunction isAppError(error) {\n    return error instanceof AppError;\n}\nfunction isOperationalError(error) {\n    if (isAppError(error)) {\n        return error.isOperational;\n    }\n    return false;\n}\nfunction extractErrorMessage(error) {\n    if (error instanceof Error) {\n        return error.message;\n    }\n    if (typeof error === \"string\") {\n        return error;\n    }\n    return \"An unknown error occurred\";\n}\nfunction extractErrorCode(error) {\n    if (isAppError(error)) {\n        return error.code;\n    }\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.INTERNAL_SERVER_ERROR;\n}\nfunction extractStatusCode(error) {\n    if (isAppError(error)) {\n        return error.statusCode;\n    }\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.INTERNAL_SERVER_ERROR;\n}\nfunction serializeError(error, includeStack = false) {\n    const serialized = {\n        message: extractErrorMessage(error),\n        code: extractErrorCode(error),\n        statusCode: extractStatusCode(error)\n    };\n    if (isAppError(error) && error.context) {\n        serialized.context = error.context;\n    }\n    if (includeStack && error instanceof Error) {\n        serialized.stack = error.stack;\n    }\n    return serialized;\n}\n// Async error wrapper\nfunction asyncWrapper(fn) {\n    return async (...args)=>{\n        try {\n            return await fn(...args);\n        } catch (error) {\n            if (isOperationalError(error)) {\n                throw error;\n            }\n            // Convert non-operational errors to operational ones\n            throw new AppError(extractErrorMessage(error), _constants__WEBPACK_IMPORTED_MODULE_0__.ERROR_CODES.INTERNAL_SERVER_ERROR, _constants__WEBPACK_IMPORTED_MODULE_0__.HTTP_STATUS.INTERNAL_SERVER_ERROR, false, {\n                originalError: error\n            });\n        }\n    };\n}\n// Promise error handler\nfunction handlePromiseRejection(promise) {\n    return promise.catch((error)=>{\n        if (!isOperationalError(error)) {\n            // Log unexpected errors\n            console.error(\"Unhandled promise rejection:\", error);\n        }\n        throw error;\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBcUI7QUFDMUM7QUFXTyxTQUFTMEMsZUFBZUwsS0FBVSxFQUFFTSxlQUF3QixLQUFLO0lBQ3RFLE1BQU1DLGFBQThCO1FBQ2xDOUMsU0FBU3lDLG9CQUFvQkY7UUFDN0J0QyxNQUFNeUMsaUJBQWlCSDtRQUN2QnBDLFlBQVl3QyxrQkFBa0JKO0lBQ2hDO0lBRUEsSUFBSUQsV0FBV0MsVUFBVUEsTUFBTWxDLE9BQU8sRUFBRTtRQUN0Q3lDLFdBQVd6QyxPQUFPLEdBQUdrQyxNQUFNbEMsT0FBTztJQUNwQztJQUVBLElBQUl3QyxnQkFBZ0JOLGlCQUFpQnpDLE9BQU87UUFDMUNnRCxXQUFXQyxLQUFLLEdBQUdSLE1BQU1RLEtBQUs7SUFDaEM7SUFFQSxPQUFPRDtBQUNUO0FBRUEsc0JBQXNCO0FBQ2YsU0FBU0UsYUFDZEMsRUFBOEI7SUFFOUIsT0FBTyxPQUFPLEdBQUdDO1FBQ2YsSUFBSTtZQUNGLE9BQU8sTUFBTUQsTUFBTUM7UUFDckIsRUFBRSxPQUFPWCxPQUFPO1lBQ2QsSUFBSUMsbUJBQW1CRCxRQUFRO2dCQUM3QixNQUFNQTtZQUNSO1lBRUEscURBQXFEO1lBQ3JELE1BQU0sSUFBSTFDLFNBQ1I0QyxvQkFBb0JGLFFBQ3BCNUMsbURBQVdBLENBQUNPLHFCQUFxQixFQUNqQ04sbURBQVdBLENBQUNNLHFCQUFxQixFQUNqQyxPQUNBO2dCQUFFaUQsZUFBZVo7WUFBTTtRQUUzQjtJQUNGO0FBQ0Y7QUFFQSx3QkFBd0I7QUFDakIsU0FBU2EsdUJBQXVCQyxPQUFxQjtJQUMxRCxPQUFPQSxRQUFRQyxLQUFLLENBQUMsQ0FBQ2Y7UUFDcEIsSUFBSSxDQUFDQyxtQkFBbUJELFFBQVE7WUFDOUIsd0JBQXdCO1lBQ3hCZ0IsUUFBUWhCLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQ2hEO1FBQ0EsTUFBTUE7SUFDUjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8uL3NyYy9saWIvZXJyb3JzLnRzPzQ1MWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRVJST1JfQ09ERVMsIEhUVFBfU1RBVFVTIH0gZnJvbSAnLi9jb25zdGFudHMnXG5cbmV4cG9ydCBjbGFzcyBBcHBFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIHJlYWRvbmx5IGNvZGU6IHN0cmluZ1xuICBwdWJsaWMgcmVhZG9ubHkgc3RhdHVzQ29kZTogbnVtYmVyXG4gIHB1YmxpYyByZWFkb25seSBpc09wZXJhdGlvbmFsOiBib29sZWFuXG4gIHB1YmxpYyByZWFkb25seSBjb250ZXh0PzogYW55XG5cbiAgY29uc3RydWN0b3IoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIGNvZGU6IHN0cmluZyA9IEVSUk9SX0NPREVTLklOVEVSTkFMX1NFUlZFUl9FUlJPUixcbiAgICBzdGF0dXNDb2RlOiBudW1iZXIgPSBIVFRQX1NUQVRVUy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG4gICAgaXNPcGVyYXRpb25hbDogYm9vbGVhbiA9IHRydWUsXG4gICAgY29udGV4dD86IGFueVxuICApIHtcbiAgICBzdXBlcihtZXNzYWdlKVxuICAgIFxuICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZVxuICAgIHRoaXMuY29kZSA9IGNvZGVcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlXG4gICAgdGhpcy5pc09wZXJhdGlvbmFsID0gaXNPcGVyYXRpb25hbFxuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHRcblxuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpXG4gIH1cbn1cblxuLy8gU3BlY2lmaWMgZXJyb3IgY2xhc3Nlc1xuZXhwb3J0IGNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEFwcEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBmaWVsZD86IHN0cmluZywgY29udGV4dD86IGFueSkge1xuICAgIHN1cGVyKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIEVSUk9SX0NPREVTLlZBTElEQVRJT05fRVJST1IsXG4gICAgICBIVFRQX1NUQVRVUy5CQURfUkVRVUVTVCxcbiAgICAgIHRydWUsXG4gICAgICB7IGZpZWxkLCAuLi5jb250ZXh0IH1cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZyA9ICdBdXRoZW50aWNhdGlvbiBmYWlsZWQnLCBjb250ZXh0PzogYW55KSB7XG4gICAgc3VwZXIoXG4gICAgICBtZXNzYWdlLFxuICAgICAgRVJST1JfQ09ERVMuVU5BVVRIT1JJWkVELFxuICAgICAgSFRUUF9TVEFUVVMuVU5BVVRIT1JJWkVELFxuICAgICAgdHJ1ZSxcbiAgICAgIGNvbnRleHRcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhvcml6YXRpb25FcnJvciBleHRlbmRzIEFwcEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nID0gJ0FjY2VzcyBmb3JiaWRkZW4nLCBjb250ZXh0PzogYW55KSB7XG4gICAgc3VwZXIoXG4gICAgICBtZXNzYWdlLFxuICAgICAgRVJST1JfQ09ERVMuUkVTT1VSQ0VfRk9SQklEREVOLFxuICAgICAgSFRUUF9TVEFUVVMuRk9SQklEREVOLFxuICAgICAgdHJ1ZSxcbiAgICAgIGNvbnRleHRcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlc291cmNlOiBzdHJpbmcgPSAnUmVzb3VyY2UnLCBjb250ZXh0PzogYW55KSB7XG4gICAgc3VwZXIoXG4gICAgICBgJHtyZXNvdXJjZX0gbm90IGZvdW5kYCxcbiAgICAgIEVSUk9SX0NPREVTLlJFU09VUkNFX05PVF9GT1VORCxcbiAgICAgIEhUVFBfU1RBVFVTLk5PVF9GT1VORCxcbiAgICAgIHRydWUsXG4gICAgICBjb250ZXh0XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb25mbGljdEVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBhbnkpIHtcbiAgICBzdXBlcihcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBFUlJPUl9DT0RFUy5SRVNPVVJDRV9BTFJFQURZX0VYSVNUUyxcbiAgICAgIEhUVFBfU1RBVFVTLkNPTkZMSUNULFxuICAgICAgdHJ1ZSxcbiAgICAgIGNvbnRleHRcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERhdGFiYXNlRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IGFueSkge1xuICAgIHN1cGVyKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIEVSUk9SX0NPREVTLkRBVEFCQVNFX0VSUk9SLFxuICAgICAgSFRUUF9TVEFUVVMuSU5URVJOQUxfU0VSVkVSX0VSUk9SLFxuICAgICAgdHJ1ZSxcbiAgICAgIGNvbnRleHRcbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV4dGVybmFsU2VydmljZUVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihzZXJ2aWNlOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IGFueSkge1xuICAgIHN1cGVyKFxuICAgICAgYEV4dGVybmFsIHNlcnZpY2UgZXJyb3IgKCR7c2VydmljZX0pOiAke21lc3NhZ2V9YCxcbiAgICAgIEVSUk9SX0NPREVTLkVYVEVSTkFMX1NFUlZJQ0VfRVJST1IsXG4gICAgICBIVFRQX1NUQVRVUy5CQURfR0FURVdBWSxcbiAgICAgIHRydWUsXG4gICAgICBjb250ZXh0XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSYXRlTGltaXRFcnJvciBleHRlbmRzIEFwcEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nID0gJ1JhdGUgbGltaXQgZXhjZWVkZWQnLCBjb250ZXh0PzogYW55KSB7XG4gICAgc3VwZXIoXG4gICAgICBtZXNzYWdlLFxuICAgICAgRVJST1JfQ09ERVMuUkFURV9MSU1JVF9FWENFRURFRCxcbiAgICAgIEhUVFBfU1RBVFVTLlRPT19NQU5ZX1JFUVVFU1RTLFxuICAgICAgdHJ1ZSxcbiAgICAgIGNvbnRleHRcbiAgICApXG4gIH1cbn1cblxuLy8gRXJyb3IgZmFjdG9yeSBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWYWxpZGF0aW9uRXJyb3IoZmllbGQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCB2YWx1ZT86IGFueSk6IFZhbGlkYXRpb25FcnJvciB7XG4gIHJldHVybiBuZXcgVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UsIGZpZWxkLCB7IHZhbHVlIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RGb3VuZEVycm9yKHJlc291cmNlOiBzdHJpbmcsIGlkPzogc3RyaW5nKTogTm90Rm91bmRFcnJvciB7XG4gIHJldHVybiBuZXcgTm90Rm91bmRFcnJvcihyZXNvdXJjZSwgeyBpZCB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29uZmxpY3RFcnJvcihyZXNvdXJjZTogc3RyaW5nLCBmaWVsZDogc3RyaW5nLCB2YWx1ZTogYW55KTogQ29uZmxpY3RFcnJvciB7XG4gIHJldHVybiBuZXcgQ29uZmxpY3RFcnJvcihcbiAgICBgJHtyZXNvdXJjZX0gd2l0aCAke2ZpZWxkfSAnJHt2YWx1ZX0nIGFscmVhZHkgZXhpc3RzYCxcbiAgICB7IHJlc291cmNlLCBmaWVsZCwgdmFsdWUgfVxuICApXG59XG5cbi8vIEVycm9yIGhhbmRsaW5nIHV0aWxpdGllc1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXBwRXJyb3IoZXJyb3I6IGFueSk6IGVycm9yIGlzIEFwcEVycm9yIHtcbiAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgQXBwRXJyb3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT3BlcmF0aW9uYWxFcnJvcihlcnJvcjogYW55KTogYm9vbGVhbiB7XG4gIGlmIChpc0FwcEVycm9yKGVycm9yKSkge1xuICAgIHJldHVybiBlcnJvci5pc09wZXJhdGlvbmFsXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yOiBhbnkpOiBzdHJpbmcge1xuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHJldHVybiBlcnJvci5tZXNzYWdlXG4gIH1cbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZXJyb3JcbiAgfVxuICByZXR1cm4gJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0RXJyb3JDb2RlKGVycm9yOiBhbnkpOiBzdHJpbmcge1xuICBpZiAoaXNBcHBFcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4gZXJyb3IuY29kZVxuICB9XG4gIHJldHVybiBFUlJPUl9DT0RFUy5JTlRFUk5BTF9TRVJWRVJfRVJST1Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RTdGF0dXNDb2RlKGVycm9yOiBhbnkpOiBudW1iZXIge1xuICBpZiAoaXNBcHBFcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4gZXJyb3Iuc3RhdHVzQ29kZVxuICB9XG4gIHJldHVybiBIVFRQX1NUQVRVUy5JTlRFUk5BTF9TRVJWRVJfRVJST1Jcbn1cblxuLy8gRXJyb3Igc2VyaWFsaXphdGlvblxuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVkRXJyb3Ige1xuICBtZXNzYWdlOiBzdHJpbmdcbiAgY29kZTogc3RyaW5nXG4gIHN0YXR1c0NvZGU6IG51bWJlclxuICBjb250ZXh0PzogYW55XG4gIHN0YWNrPzogc3RyaW5nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVFcnJvcihlcnJvcjogYW55LCBpbmNsdWRlU3RhY2s6IGJvb2xlYW4gPSBmYWxzZSk6IFNlcmlhbGl6ZWRFcnJvciB7XG4gIGNvbnN0IHNlcmlhbGl6ZWQ6IFNlcmlhbGl6ZWRFcnJvciA9IHtcbiAgICBtZXNzYWdlOiBleHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yKSxcbiAgICBjb2RlOiBleHRyYWN0RXJyb3JDb2RlKGVycm9yKSxcbiAgICBzdGF0dXNDb2RlOiBleHRyYWN0U3RhdHVzQ29kZShlcnJvciksXG4gIH1cblxuICBpZiAoaXNBcHBFcnJvcihlcnJvcikgJiYgZXJyb3IuY29udGV4dCkge1xuICAgIHNlcmlhbGl6ZWQuY29udGV4dCA9IGVycm9yLmNvbnRleHRcbiAgfVxuXG4gIGlmIChpbmNsdWRlU3RhY2sgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHNlcmlhbGl6ZWQuc3RhY2sgPSBlcnJvci5zdGFja1xuICB9XG5cbiAgcmV0dXJuIHNlcmlhbGl6ZWRcbn1cblxuLy8gQXN5bmMgZXJyb3Igd3JhcHBlclxuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jV3JhcHBlcjxUIGV4dGVuZHMgYW55W10sIFI+KFxuICBmbjogKC4uLmFyZ3M6IFQpID0+IFByb21pc2U8Uj5cbikge1xuICByZXR1cm4gYXN5bmMgKC4uLmFyZ3M6IFQpOiBQcm9taXNlPFI+ID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGZuKC4uLmFyZ3MpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChpc09wZXJhdGlvbmFsRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENvbnZlcnQgbm9uLW9wZXJhdGlvbmFsIGVycm9ycyB0byBvcGVyYXRpb25hbCBvbmVzXG4gICAgICB0aHJvdyBuZXcgQXBwRXJyb3IoXG4gICAgICAgIGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IpLFxuICAgICAgICBFUlJPUl9DT0RFUy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG4gICAgICAgIEhUVFBfU1RBVFVTLklOVEVSTkFMX1NFUlZFUl9FUlJPUixcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHsgb3JpZ2luYWxFcnJvcjogZXJyb3IgfVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG4vLyBQcm9taXNlIGVycm9yIGhhbmRsZXJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVQcm9taXNlUmVqZWN0aW9uKHByb21pc2U6IFByb21pc2U8YW55Pik6IFByb21pc2U8YW55PiB7XG4gIHJldHVybiBwcm9taXNlLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIGlmICghaXNPcGVyYXRpb25hbEVycm9yKGVycm9yKSkge1xuICAgICAgLy8gTG9nIHVuZXhwZWN0ZWQgZXJyb3JzXG4gICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb246JywgZXJyb3IpXG4gICAgfVxuICAgIHRocm93IGVycm9yXG4gIH0pXG59Il0sIm5hbWVzIjpbIkVSUk9SX0NPREVTIiwiSFRUUF9TVEFUVVMiLCJBcHBFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiY29kZSIsIklOVEVSTkFMX1NFUlZFUl9FUlJPUiIsInN0YXR1c0NvZGUiLCJpc09wZXJhdGlvbmFsIiwiY29udGV4dCIsIm5hbWUiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIlZhbGlkYXRpb25FcnJvciIsImZpZWxkIiwiVkFMSURBVElPTl9FUlJPUiIsIkJBRF9SRVFVRVNUIiwiQXV0aGVudGljYXRpb25FcnJvciIsIlVOQVVUSE9SSVpFRCIsIkF1dGhvcml6YXRpb25FcnJvciIsIlJFU09VUkNFX0ZPUkJJRERFTiIsIkZPUkJJRERFTiIsIk5vdEZvdW5kRXJyb3IiLCJyZXNvdXJjZSIsIlJFU09VUkNFX05PVF9GT1VORCIsIk5PVF9GT1VORCIsIkNvbmZsaWN0RXJyb3IiLCJSRVNPVVJDRV9BTFJFQURZX0VYSVNUUyIsIkNPTkZMSUNUIiwiRGF0YWJhc2VFcnJvciIsIkRBVEFCQVNFX0VSUk9SIiwiRXh0ZXJuYWxTZXJ2aWNlRXJyb3IiLCJzZXJ2aWNlIiwiRVhURVJOQUxfU0VSVklDRV9FUlJPUiIsIkJBRF9HQVRFV0FZIiwiUmF0ZUxpbWl0RXJyb3IiLCJSQVRFX0xJTUlUX0VYQ0VFREVEIiwiVE9PX01BTllfUkVRVUVTVFMiLCJjcmVhdGVWYWxpZGF0aW9uRXJyb3IiLCJ2YWx1ZSIsImNyZWF0ZU5vdEZvdW5kRXJyb3IiLCJpZCIsImNyZWF0ZUNvbmZsaWN0RXJyb3IiLCJpc0FwcEVycm9yIiwiZXJyb3IiLCJpc09wZXJhdGlvbmFsRXJyb3IiLCJleHRyYWN0RXJyb3JNZXNzYWdlIiwiZXh0cmFjdEVycm9yQ29kZSIsImV4dHJhY3RTdGF0dXNDb2RlIiwic2VyaWFsaXplRXJyb3IiLCJpbmNsdWRlU3RhY2siLCJzZXJpYWxpemVkIiwic3RhY2siLCJhc3luY1dyYXBwZXIiLCJmbiIsImFyZ3MiLCJvcmlnaW5hbEVycm9yIiwiaGFuZGxlUHJvbWlzZVJlamVjdGlvbiIsInByb21pc2UiLCJjYXRjaCIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/errors.ts\n");

/***/ }),

/***/ "(api)/./src/lib/logger.ts":
/*!***************************!*\
  !*** ./src/lib/logger.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevel: () => (/* binding */ LogLevel),\n/* harmony export */   logApiError: () => (/* binding */ logApiError),\n/* harmony export */   logApiRequest: () => (/* binding */ logApiRequest),\n/* harmony export */   logDatabaseConnection: () => (/* binding */ logDatabaseConnection),\n/* harmony export */   logDatabaseQuery: () => (/* binding */ logDatabaseQuery),\n/* harmony export */   logError: () => (/* binding */ logError),\n/* harmony export */   logHealthCheck: () => (/* binding */ logHealthCheck),\n/* harmony export */   logNetworkInfo: () => (/* binding */ logNetworkInfo),\n/* harmony export */   logStartup: () => (/* binding */ logStartup),\n/* harmony export */   logSystemEvent: () => (/* binding */ logSystemEvent),\n/* harmony export */   logUserAction: () => (/* binding */ logUserAction),\n/* harmony export */   logger: () => (/* binding */ logger)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"(api)/./src/lib/config.ts\");\n\nvar LogLevel;\n(function(LogLevel) {\n    LogLevel[LogLevel[\"ERROR\"] = 0] = \"ERROR\";\n    LogLevel[LogLevel[\"WARN\"] = 1] = \"WARN\";\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n    LogLevel[LogLevel[\"DEBUG\"] = 3] = \"DEBUG\";\n})(LogLevel || (LogLevel = {}));\nclass ConsoleLogger {\n    constructor(level){\n        this.level = this.parseLogLevel(level);\n    }\n    parseLogLevel(level) {\n        switch(level.toLowerCase()){\n            case \"error\":\n                return 0;\n            case \"warn\":\n                return 1;\n            case \"info\":\n                return 2;\n            case \"debug\":\n                return 3;\n            default:\n                return 2;\n        }\n    }\n    shouldLog(level) {\n        return level <= this.level;\n    }\n    formatMessage(level, message, context) {\n        const timestamp = new Date().toISOString();\n        const baseMessage = `[${timestamp}] ${level.toUpperCase()}: ${message}`;\n        if (context && Object.keys(context).length > 0) {\n            if (_config__WEBPACK_IMPORTED_MODULE_0__.config.logging.pretty) {\n                return `${baseMessage}\\n${JSON.stringify(context, null, 2)}`;\n            } else {\n                return `${baseMessage} ${JSON.stringify(context)}`;\n            }\n        }\n        return baseMessage;\n    }\n    error(message, context) {\n        if (this.shouldLog(0)) {\n            console.error(this.formatMessage(\"error\", message, context));\n        }\n    }\n    warn(message, context) {\n        if (this.shouldLog(1)) {\n            console.warn(this.formatMessage(\"warn\", message, context));\n        }\n    }\n    info(message, context) {\n        if (this.shouldLog(2)) {\n            console.info(this.formatMessage(\"info\", message, context));\n        }\n    }\n    debug(message, context) {\n        if (this.shouldLog(3)) {\n            console.debug(this.formatMessage(\"debug\", message, context));\n        }\n    }\n}\n// Create singleton logger instance\nconst logger = new ConsoleLogger(_config__WEBPACK_IMPORTED_MODULE_0__.config.logging.level);\n// Utility functions for structured logging\nfunction logError(error, context) {\n    logger.error(error.message, {\n        ...context,\n        stack: error.stack,\n        name: error.name\n    });\n}\nfunction logApiRequest(method, url, userId, duration) {\n    logger.info(\"API Request\", {\n        method,\n        url,\n        userId,\n        duration: duration ? `${duration}ms` : undefined\n    });\n}\nfunction logApiError(method, url, error, userId) {\n    logger.error(\"API Error\", {\n        method,\n        url,\n        userId,\n        error: error.message,\n        stack: error.stack\n    });\n}\nfunction logDatabaseQuery(query, duration, error) {\n    if (error) {\n        logger.error(\"Database Query Error\", {\n            query,\n            duration: duration ? `${duration}ms` : undefined,\n            error: error.message\n        });\n    } else {\n        logger.debug(\"Database Query\", {\n            query,\n            duration: duration ? `${duration}ms` : undefined\n        });\n    }\n}\nfunction logUserAction(action, userId, context) {\n    logger.info(\"User Action\", {\n        action,\n        userId,\n        ...context\n    });\n}\nfunction logSystemEvent(event, context) {\n    logger.info(\"System Event\", {\n        event,\n        ...context\n    });\n}\nfunction logStartup(component, status, context) {\n    const level = status === \"failed\" ? \"error\" : \"info\";\n    logger[level](` ${component} ${status.toUpperCase()}`, {\n        component,\n        status,\n        timestamp: new Date().toISOString(),\n        ...context\n    });\n}\nfunction logHealthCheck(component, healthy, context) {\n    const status = healthy ? \"healthy\" : \"unhealthy\";\n    const level = healthy ? \"info\" : \"error\";\n    logger[level](` Health Check: ${component} is ${status}`, {\n        component,\n        healthy,\n        ...context\n    });\n}\nfunction logNetworkInfo(port, host = \"localhost\", context) {\n    logger.info(\"\\uD83C\\uDF10 Server Network Configuration\", {\n        port,\n        host,\n        url: `http://${host}:${port}`,\n        ...context\n    });\n}\nfunction logDatabaseConnection(status, context) {\n    const level = status === \"failed\" ? \"error\" : \"info\";\n    const emoji = status === \"connected\" ? \"\" : status === \"connecting\" ? \"\\uD83D\\uDD04\" : \"\";\n    logger[level](`${emoji} Database ${status.toUpperCase()}`, {\n        status,\n        ...context\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDWjtBQUNGO0FBRU8sU0FBU3NDLGVBQWVGLFNBQWlCLEVBQUVHLE9BQWdCLEVBQUV2QyxPQUFvQjtJQUN0RixNQUFNcUMsU0FBU0UsVUFBVSxZQUFZO0lBQ3JDLE1BQU03QyxRQUFRNkMsVUFBVSxTQUFTO0lBQ2pDckIsTUFBTSxDQUFDeEIsTUFBTSxDQUFDLENBQUMsaUJBQWlCLEVBQUUwQyxVQUFVLElBQUksRUFBRUMsT0FBTyxDQUFDLEVBQUU7UUFDMUREO1FBQ0FHO1FBQ0EsR0FBR3ZDLE9BQU87SUFDWjtBQUNGO0FBRU8sU0FBU3dDLGVBQWVDLElBQVksRUFBRUMsT0FBTyxXQUFXLEVBQUUxQyxPQUFvQjtJQUNuRmtCLE9BQU9GLElBQUksQ0FBQyw2Q0FBbUM7UUFDN0N5QjtRQUNBQztRQUNBbEIsS0FBSyxDQUFDLE9BQU8sRUFBRWtCLEtBQUssQ0FBQyxFQUFFRCxLQUFLLENBQUM7UUFDN0IsR0FBR3pDLE9BQU87SUFDWjtBQUNGO0FBRU8sU0FBUzJDLHNCQUFzQk4sTUFBNkMsRUFBRXJDLE9BQW9CO0lBQ3ZHLE1BQU1OLFFBQVEyQyxXQUFXLFdBQVcsVUFBVTtJQUM5QyxNQUFNTyxRQUFRUCxXQUFXLGNBQWMsTUFBTUEsV0FBVyxlQUFlLGlCQUFPO0lBQzlFbkIsTUFBTSxDQUFDeEIsTUFBTSxDQUFDLENBQUMsRUFBRWtELE1BQU0sVUFBVSxFQUFFUCxPQUFPaEMsV0FBVyxHQUFHLENBQUMsRUFBRTtRQUN6RGdDO1FBQ0EsR0FBR3JDLE9BQU87SUFDWjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF0ZW15LW5leHRqcy8uL3NyYy9saWIvbG9nZ2VyLnRzP2I0OWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnXG5cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcbiAgRVJST1IgPSAwLFxuICBXQVJOID0gMSxcbiAgSU5GTyA9IDIsXG4gIERFQlVHID0gMyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dDb250ZXh0IHtcbiAgW2tleTogc3RyaW5nXTogYW55XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nZ2VyIHtcbiAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHZvaWRcbiAgd2FybihtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBMb2dDb250ZXh0KTogdm9pZFxuICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IExvZ0NvbnRleHQpOiB2b2lkXG4gIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IExvZ0NvbnRleHQpOiB2b2lkXG59XG5cbmNsYXNzIENvbnNvbGVMb2dnZXIgaW1wbGVtZW50cyBMb2dnZXIge1xuICBwcml2YXRlIGxldmVsOiBMb2dMZXZlbFxuXG4gIGNvbnN0cnVjdG9yKGxldmVsOiBzdHJpbmcpIHtcbiAgICB0aGlzLmxldmVsID0gdGhpcy5wYXJzZUxvZ0xldmVsKGxldmVsKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUxvZ0xldmVsKGxldmVsOiBzdHJpbmcpOiBMb2dMZXZlbCB7XG4gICAgc3dpdGNoIChsZXZlbC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlICdlcnJvcic6IHJldHVybiBMb2dMZXZlbC5FUlJPUlxuICAgICAgY2FzZSAnd2Fybic6IHJldHVybiBMb2dMZXZlbC5XQVJOXG4gICAgICBjYXNlICdpbmZvJzogcmV0dXJuIExvZ0xldmVsLklORk9cbiAgICAgIGNhc2UgJ2RlYnVnJzogcmV0dXJuIExvZ0xldmVsLkRFQlVHXG4gICAgICBkZWZhdWx0OiByZXR1cm4gTG9nTGV2ZWwuSU5GT1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkTG9nKGxldmVsOiBMb2dMZXZlbCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBsZXZlbCA8PSB0aGlzLmxldmVsXG4gIH1cblxuICBwcml2YXRlIGZvcm1hdE1lc3NhZ2UobGV2ZWw6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHN0cmluZyB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgY29uc3QgYmFzZU1lc3NhZ2UgPSBgWyR7dGltZXN0YW1wfV0gJHtsZXZlbC50b1VwcGVyQ2FzZSgpfTogJHttZXNzYWdlfWBcbiAgICBcbiAgICBpZiAoY29udGV4dCAmJiBPYmplY3Qua2V5cyhjb250ZXh0KS5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoY29uZmlnLmxvZ2dpbmcucHJldHR5KSB7XG4gICAgICAgIHJldHVybiBgJHtiYXNlTWVzc2FnZX1cXG4ke0pTT04uc3RyaW5naWZ5KGNvbnRleHQsIG51bGwsIDIpfWBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBgJHtiYXNlTWVzc2FnZX0gJHtKU09OLnN0cmluZ2lmeShjb250ZXh0KX1gXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBiYXNlTWVzc2FnZVxuICB9XG5cbiAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3VsZExvZyhMb2dMZXZlbC5FUlJPUikpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5mb3JtYXRNZXNzYWdlKCdlcnJvcicsIG1lc3NhZ2UsIGNvbnRleHQpKVxuICAgIH1cbiAgfVxuXG4gIHdhcm4obWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3VsZExvZyhMb2dMZXZlbC5XQVJOKSkge1xuICAgICAgY29uc29sZS53YXJuKHRoaXMuZm9ybWF0TWVzc2FnZSgnd2FybicsIG1lc3NhZ2UsIGNvbnRleHQpKVxuICAgIH1cbiAgfVxuXG4gIGluZm8obWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3VsZExvZyhMb2dMZXZlbC5JTkZPKSkge1xuICAgICAgY29uc29sZS5pbmZvKHRoaXMuZm9ybWF0TWVzc2FnZSgnaW5mbycsIG1lc3NhZ2UsIGNvbnRleHQpKVxuICAgIH1cbiAgfVxuXG4gIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IExvZ0NvbnRleHQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zaG91bGRMb2coTG9nTGV2ZWwuREVCVUcpKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKHRoaXMuZm9ybWF0TWVzc2FnZSgnZGVidWcnLCBtZXNzYWdlLCBjb250ZXh0KSlcbiAgICB9XG4gIH1cbn1cblxuLy8gQ3JlYXRlIHNpbmdsZXRvbiBsb2dnZXIgaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBsb2dnZXI6IExvZ2dlciA9IG5ldyBDb25zb2xlTG9nZ2VyKGNvbmZpZy5sb2dnaW5nLmxldmVsKVxuXG4vLyBVdGlsaXR5IGZ1bmN0aW9ucyBmb3Igc3RydWN0dXJlZCBsb2dnaW5nXG5leHBvcnQgZnVuY3Rpb24gbG9nRXJyb3IoZXJyb3I6IEVycm9yLCBjb250ZXh0PzogTG9nQ29udGV4dCkge1xuICBsb2dnZXIuZXJyb3IoZXJyb3IubWVzc2FnZSwge1xuICAgIC4uLmNvbnRleHQsXG4gICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgIG5hbWU6IGVycm9yLm5hbWUsXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dBcGlSZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgdXNlcklkPzogc3RyaW5nLCBkdXJhdGlvbj86IG51bWJlcikge1xuICBsb2dnZXIuaW5mbygnQVBJIFJlcXVlc3QnLCB7XG4gICAgbWV0aG9kLFxuICAgIHVybCxcbiAgICB1c2VySWQsXG4gICAgZHVyYXRpb246IGR1cmF0aW9uID8gYCR7ZHVyYXRpb259bXNgIDogdW5kZWZpbmVkLFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nQXBpRXJyb3IobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBlcnJvcjogRXJyb3IsIHVzZXJJZD86IHN0cmluZykge1xuICBsb2dnZXIuZXJyb3IoJ0FQSSBFcnJvcicsIHtcbiAgICBtZXRob2QsXG4gICAgdXJsLFxuICAgIHVzZXJJZCxcbiAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dEYXRhYmFzZVF1ZXJ5KHF1ZXJ5OiBzdHJpbmcsIGR1cmF0aW9uPzogbnVtYmVyLCBlcnJvcj86IEVycm9yKSB7XG4gIGlmIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRGF0YWJhc2UgUXVlcnkgRXJyb3InLCB7XG4gICAgICBxdWVyeSxcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiA/IGAke2R1cmF0aW9ufW1zYCA6IHVuZGVmaW5lZCxcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgbG9nZ2VyLmRlYnVnKCdEYXRhYmFzZSBRdWVyeScsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgZHVyYXRpb246IGR1cmF0aW9uID8gYCR7ZHVyYXRpb259bXNgIDogdW5kZWZpbmVkLFxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ1VzZXJBY3Rpb24oYWN0aW9uOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBjb250ZXh0PzogTG9nQ29udGV4dCkge1xuICBsb2dnZXIuaW5mbygnVXNlciBBY3Rpb24nLCB7XG4gICAgYWN0aW9uLFxuICAgIHVzZXJJZCxcbiAgICAuLi5jb250ZXh0LFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nU3lzdGVtRXZlbnQoZXZlbnQ6IHN0cmluZywgY29udGV4dD86IExvZ0NvbnRleHQpIHtcbiAgbG9nZ2VyLmluZm8oJ1N5c3RlbSBFdmVudCcsIHtcbiAgICBldmVudCxcbiAgICAuLi5jb250ZXh0LFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nU3RhcnR1cChjb21wb25lbnQ6IHN0cmluZywgc3RhdHVzOiAnc3RhcnRpbmcnIHwgJ3JlYWR5JyB8ICdmYWlsZWQnLCBjb250ZXh0PzogTG9nQ29udGV4dCkge1xuICBjb25zdCBsZXZlbCA9IHN0YXR1cyA9PT0gJ2ZhaWxlZCcgPyAnZXJyb3InIDogJ2luZm8nXG4gIGxvZ2dlcltsZXZlbF0oYPCfmoAgJHtjb21wb25lbnR9ICR7c3RhdHVzLnRvVXBwZXJDYXNlKCl9YCwge1xuICAgIGNvbXBvbmVudCxcbiAgICBzdGF0dXMsXG4gICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgLi4uY29udGV4dCxcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ0hlYWx0aENoZWNrKGNvbXBvbmVudDogc3RyaW5nLCBoZWFsdGh5OiBib29sZWFuLCBjb250ZXh0PzogTG9nQ29udGV4dCkge1xuICBjb25zdCBzdGF0dXMgPSBoZWFsdGh5ID8gJ2hlYWx0aHknIDogJ3VuaGVhbHRoeSdcbiAgY29uc3QgbGV2ZWwgPSBoZWFsdGh5ID8gJ2luZm8nIDogJ2Vycm9yJ1xuICBsb2dnZXJbbGV2ZWxdKGDwn5KaIEhlYWx0aCBDaGVjazogJHtjb21wb25lbnR9IGlzICR7c3RhdHVzfWAsIHtcbiAgICBjb21wb25lbnQsXG4gICAgaGVhbHRoeSxcbiAgICAuLi5jb250ZXh0LFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nTmV0d29ya0luZm8ocG9ydDogbnVtYmVyLCBob3N0ID0gJ2xvY2FsaG9zdCcsIGNvbnRleHQ/OiBMb2dDb250ZXh0KSB7XG4gIGxvZ2dlci5pbmZvKCfwn4yQIFNlcnZlciBOZXR3b3JrIENvbmZpZ3VyYXRpb24nLCB7XG4gICAgcG9ydCxcbiAgICBob3N0LFxuICAgIHVybDogYGh0dHA6Ly8ke2hvc3R9OiR7cG9ydH1gLFxuICAgIC4uLmNvbnRleHQsXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dEYXRhYmFzZUNvbm5lY3Rpb24oc3RhdHVzOiAnY29ubmVjdGluZycgfCAnY29ubmVjdGVkJyB8ICdmYWlsZWQnLCBjb250ZXh0PzogTG9nQ29udGV4dCkge1xuICBjb25zdCBsZXZlbCA9IHN0YXR1cyA9PT0gJ2ZhaWxlZCcgPyAnZXJyb3InIDogJ2luZm8nXG4gIGNvbnN0IGVtb2ppID0gc3RhdHVzID09PSAnY29ubmVjdGVkJyA/ICfinIUnIDogc3RhdHVzID09PSAnY29ubmVjdGluZycgPyAn8J+UhCcgOiAn4p2MJ1xuICBsb2dnZXJbbGV2ZWxdKGAke2Vtb2ppfSBEYXRhYmFzZSAke3N0YXR1cy50b1VwcGVyQ2FzZSgpfWAsIHtcbiAgICBzdGF0dXMsXG4gICAgLi4uY29udGV4dCxcbiAgfSlcbn0iXSwibmFtZXMiOlsiY29uZmlnIiwiTG9nTGV2ZWwiLCJDb25zb2xlTG9nZ2VyIiwiY29uc3RydWN0b3IiLCJsZXZlbCIsInBhcnNlTG9nTGV2ZWwiLCJ0b0xvd2VyQ2FzZSIsInNob3VsZExvZyIsImZvcm1hdE1lc3NhZ2UiLCJtZXNzYWdlIiwiY29udGV4dCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImJhc2VNZXNzYWdlIiwidG9VcHBlckNhc2UiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwibG9nZ2luZyIsInByZXR0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiaW5mbyIsImRlYnVnIiwibG9nZ2VyIiwibG9nRXJyb3IiLCJzdGFjayIsIm5hbWUiLCJsb2dBcGlSZXF1ZXN0IiwibWV0aG9kIiwidXJsIiwidXNlcklkIiwiZHVyYXRpb24iLCJ1bmRlZmluZWQiLCJsb2dBcGlFcnJvciIsImxvZ0RhdGFiYXNlUXVlcnkiLCJxdWVyeSIsImxvZ1VzZXJBY3Rpb24iLCJhY3Rpb24iLCJsb2dTeXN0ZW1FdmVudCIsImV2ZW50IiwibG9nU3RhcnR1cCIsImNvbXBvbmVudCIsInN0YXR1cyIsImxvZ0hlYWx0aENoZWNrIiwiaGVhbHRoeSIsImxvZ05ldHdvcmtJbmZvIiwicG9ydCIsImhvc3QiLCJsb2dEYXRhYmFzZUNvbm5lY3Rpb24iLCJlbW9qaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/logger.ts\n");

/***/ }),

/***/ "(api)/./src/services/redgifs.service.ts":
/*!*****************************************!*\
  !*** ./src/services/redgifs.service.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   redGifsService: () => (/* binding */ redGifsService)\n/* harmony export */ });\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/logger */ \"(api)/./src/lib/logger.ts\");\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/errors */ \"(api)/./src/lib/errors.ts\");\n\n\nclass RedGifsService {\n    /**\n   * Get temporary token for API access\n   */ async getToken() {\n        // Check if current token is still valid\n        if (this.token && Date.now() < this.tokenExpiry) {\n            return this.token;\n        }\n        try {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"Requesting new RedGifs API token\");\n            const response = await fetch(`${this.BASE_URL}/auth/temporary`, {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (!response.ok) {\n                throw new _lib_errors__WEBPACK_IMPORTED_MODULE_1__.APIError(`Failed to get RedGifs token: ${response.status}`);\n            }\n            const data = await response.json();\n            if (!data.token) {\n                throw new _lib_errors__WEBPACK_IMPORTED_MODULE_1__.APIError(\"No token returned from RedGifs API\");\n            }\n            this.token = data.token;\n            // Set expiry to 1 hour from now (tokens typically last 24h but we refresh early)\n            this.tokenExpiry = Date.now() + 60 * 60 * 1000;\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"Successfully obtained RedGifs API token\");\n            return this.token;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(\"Failed to get RedGifs token\", {\n                error\n            });\n            throw new _lib_errors__WEBPACK_IMPORTED_MODULE_1__.APIError(\"Failed to authenticate with RedGifs API\");\n        }\n    }\n    /**\n   * Make authenticated request to RedGifs API\n   */ async makeRequest(endpoint, options = {}) {\n        const token = await this.getToken();\n        const response = await fetch(`${this.BASE_URL}${endpoint}`, {\n            ...options,\n            headers: {\n                \"Authorization\": `Bearer ${token}`,\n                \"Content-Type\": \"application/json\",\n                ...options.headers\n            }\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(\"RedGifs API error\", {\n                endpoint,\n                status: response.status,\n                error: errorText\n            });\n            throw new _lib_errors__WEBPACK_IMPORTED_MODULE_1__.APIError(`RedGifs API error: ${response.status} - ${errorText}`);\n        }\n        return response.json();\n    }\n    /**\n   * Extract RedGifs ID from URL\n   */ extractGifId(url) {\n        const patterns = [\n            /redgifs\\.com\\/watch\\/([a-zA-Z0-9]+)/,\n            /redgifs\\.com\\/ifr\\/([a-zA-Z0-9]+)/,\n            /redgifs\\.com\\/([a-zA-Z0-9]+)$/,\n            /\\/([a-zA-Z0-9]+)$/\n        ];\n        for (const pattern of patterns){\n            const match = url.match(pattern);\n            if (match && match[1]) {\n                return match[1].toLowerCase();\n            }\n        }\n        throw new _lib_errors__WEBPACK_IMPORTED_MODULE_1__.ValidationError(\"Invalid RedGifs URL format\");\n    }\n    /**\n   * Check if URL is a RedGifs URL\n   */ isRedGifsUrl(url) {\n        return url.includes(\"redgifs.com\") || url.includes(\"redgifs.com\");\n    }\n    /**\n   * Get metadata for a specific gif by ID\n   */ async getGifMetadata(gifId) {\n        try {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"Fetching RedGifs metadata\", {\n                gifId\n            });\n            const response = await this.makeRequest(`/gifs/${gifId}`);\n            if (!response.gif) {\n                throw new _lib_errors__WEBPACK_IMPORTED_MODULE_1__.ValidationError(\"Gif not found\");\n            }\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"Successfully fetched RedGifs metadata\", {\n                gifId,\n                title: response.gif.title,\n                tags: response.gif.tags?.length || 0\n            });\n            return response.gif;\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(\"Failed to fetch RedGifs metadata\", {\n                gifId,\n                error\n            });\n            throw error;\n        }\n    }\n    /**\n   * Get metadata from RedGifs URL\n   */ async getMetadataFromUrl(url) {\n        if (!this.isRedGifsUrl(url)) {\n            throw new _lib_errors__WEBPACK_IMPORTED_MODULE_1__.ValidationError(\"URL is not a RedGifs URL\");\n        }\n        const gifId = this.extractGifId(url);\n        return this.getGifMetadata(gifId);\n    }\n    /**\n   * Convert RedGifs URL to embed format\n   * Returns the iframe URL that shows just the gif without the full website interface\n   */ getEmbedUrl(gifId) {\n        // Use the iframe URL that shows only the gif content\n        return `https://www.redgifs.com/ifr/${gifId}?poster=0`;\n    }\n    /**\n   * Get direct gif URL from metadata\n   */ getDirectGifUrl(metadata) {\n        // Return the HD URL if available, otherwise SD, otherwise fallback to embed\n        return metadata.urls?.hd || metadata.urls?.sd || this.getEmbedUrl(metadata.id);\n    }\n    /**\n   * Get thumbnail URL for a gif\n   */ getThumbnailUrl(gifId) {\n        return `https://thumbs4.redgifs.com/${gifId}-poster.jpg`;\n    }\n    /**\n   * Search for gifs by tags or query\n   */ async searchGifs(query, options = {}) {\n        try {\n            const { page = 1, count = 20, order = \"trending\" } = options;\n            const params = new URLSearchParams({\n                search_text: query,\n                order,\n                count: count.toString(),\n                page: page.toString()\n            });\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"Searching RedGifs\", {\n                query,\n                options\n            });\n            const response = await this.makeRequest(`/gifs/search?${params}`);\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"RedGifs search completed\", {\n                query,\n                results: response.gifs?.length || 0,\n                total: response.total\n            });\n            return {\n                gifs: response.gifs || [],\n                total: response.total || 0,\n                page: response.page || page\n            };\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(\"Failed to search RedGifs\", {\n                query,\n                options,\n                error\n            });\n            throw error;\n        }\n    }\n    /**\n   * Get trending gifs\n   */ async getTrendingGifs(count = 10) {\n        try {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"Fetching trending RedGifs\", {\n                count\n            });\n            const response = await this.makeRequest(`/gifs/trending?count=${count}`);\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"Successfully fetched trending gifs\", {\n                count: response.gifs?.length || 0\n            });\n            return response.gifs || [];\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(\"Failed to fetch trending gifs\", {\n                count,\n                error\n            });\n            throw error;\n        }\n    }\n    /**\n   * Validate and process RedGifs URL for upload\n   */ async processRedGifsUrl(url) {\n        try {\n            const metadata = await this.getMetadataFromUrl(url);\n            const gifId = this.extractGifId(url);\n            // Use direct gif URL for better embedding experience\n            const embedUrl = this.getDirectGifUrl(metadata);\n            return {\n                embedUrl,\n                thumbnail: this.getThumbnailUrl(gifId),\n                metadata,\n                tags: metadata.tags || []\n            };\n        } catch (error) {\n            _lib_logger__WEBPACK_IMPORTED_MODULE_0__.logger.error(\"Failed to process RedGifs URL\", {\n                url,\n                error\n            });\n            throw error;\n        }\n    }\n    constructor(){\n        this.BASE_URL = \"https://api.redgifs.com/v2\";\n        this.token = null;\n        this.tokenExpiry = 0;\n    }\n}\nconst redGifsService = new RedGifsService();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dmljZXMvcmVkZ2lmcy5zZXJ2aWNlLnRzP2YzMTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC9saWIvbG9nZ2VyJ1xuaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yLCBBUElFcnJvciB9IGZyb20gJ0AvbGliL2Vycm9ycydcblxuZXhwb3J0IGludGVyZmFjZSBSZWRHaWZNZXRhZGF0YSB7XG4gIGlkOiBzdHJpbmdcbiAgdGl0bGU6IHN0cmluZ1xuICBkZXNjcmlwdGlvbj86IHN0cmluZ1xuICB0YWdzOiBzdHJpbmdbXVxuICBkdXJhdGlvbjogbnVtYmVyXG4gIHdpZHRoOiBudW1iZXJcbiAgaGVpZ2h0OiBudW1iZXJcbiAgdXJsczoge1xuICAgIGhkOiBzdHJpbmdcbiAgICBzZDogc3RyaW5nXG4gICAgcG9zdGVyOiBzdHJpbmdcbiAgfVxuICB2aWV3czogbnVtYmVyXG4gIGxpa2VzOiBudW1iZXJcbiAgdXNlck5hbWU6IHN0cmluZ1xuICBjcmVhdGVEYXRlOiBudW1iZXJcbiAgdHlwZTogbnVtYmVyXG4gIGF2Z0NvbG9yOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWRHaWZTZWFyY2hSZXN1bHQge1xuICBnaWZzOiBSZWRHaWZNZXRhZGF0YVtdXG4gIHRvdGFsOiBudW1iZXJcbiAgcGFnZTogbnVtYmVyXG59XG5cbmNsYXNzIFJlZEdpZnNTZXJ2aWNlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBCQVNFX1VSTCA9ICdodHRwczovL2FwaS5yZWRnaWZzLmNvbS92MidcbiAgcHJpdmF0ZSB0b2tlbjogc3RyaW5nIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSB0b2tlbkV4cGlyeTogbnVtYmVyID0gMFxuXG4gIC8qKlxuICAgKiBHZXQgdGVtcG9yYXJ5IHRva2VuIGZvciBBUEkgYWNjZXNzXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGdldFRva2VuKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgLy8gQ2hlY2sgaWYgY3VycmVudCB0b2tlbiBpcyBzdGlsbCB2YWxpZFxuICAgIGlmICh0aGlzLnRva2VuICYmIERhdGUubm93KCkgPCB0aGlzLnRva2VuRXhwaXJ5KSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBsb2dnZXIuaW5mbygnUmVxdWVzdGluZyBuZXcgUmVkR2lmcyBBUEkgdG9rZW4nKVxuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuQkFTRV9VUkx9L2F1dGgvdGVtcG9yYXJ5YCwge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pXG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKGBGYWlsZWQgdG8gZ2V0IFJlZEdpZnMgdG9rZW46ICR7cmVzcG9uc2Uuc3RhdHVzfWApXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgIFxuICAgICAgaWYgKCFkYXRhLnRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBBUElFcnJvcignTm8gdG9rZW4gcmV0dXJuZWQgZnJvbSBSZWRHaWZzIEFQSScpXG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9rZW4gPSBkYXRhLnRva2VuXG4gICAgICAvLyBTZXQgZXhwaXJ5IHRvIDEgaG91ciBmcm9tIG5vdyAodG9rZW5zIHR5cGljYWxseSBsYXN0IDI0aCBidXQgd2UgcmVmcmVzaCBlYXJseSlcbiAgICAgIHRoaXMudG9rZW5FeHBpcnkgPSBEYXRlLm5vdygpICsgKDYwICogNjAgKiAxMDAwKVxuICAgICAgXG4gICAgICBsb2dnZXIuaW5mbygnU3VjY2Vzc2Z1bGx5IG9idGFpbmVkIFJlZEdpZnMgQVBJIHRva2VuJylcbiAgICAgIHJldHVybiB0aGlzLnRva2VuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGdldCBSZWRHaWZzIHRva2VuJywgeyBlcnJvciB9KVxuICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKCdGYWlsZWQgdG8gYXV0aGVudGljYXRlIHdpdGggUmVkR2lmcyBBUEknKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGF1dGhlbnRpY2F0ZWQgcmVxdWVzdCB0byBSZWRHaWZzIEFQSVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdDxUPihlbmRwb2ludDogc3RyaW5nLCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9KTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmdldFRva2VuKClcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuQkFTRV9VUkx9JHtlbmRwb2ludH1gLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgICAgIGxvZ2dlci5lcnJvcignUmVkR2lmcyBBUEkgZXJyb3InLCB7IFxuICAgICAgICBlbmRwb2ludCwgXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCBcbiAgICAgICAgZXJyb3I6IGVycm9yVGV4dCBcbiAgICAgIH0pXG4gICAgICB0aHJvdyBuZXcgQVBJRXJyb3IoYFJlZEdpZnMgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gLSAke2Vycm9yVGV4dH1gKVxuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZS5qc29uKClcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0IFJlZEdpZnMgSUQgZnJvbSBVUkxcbiAgICovXG4gIHB1YmxpYyBleHRyYWN0R2lmSWQodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHBhdHRlcm5zID0gW1xuICAgICAgL3JlZGdpZnNcXC5jb21cXC93YXRjaFxcLyhbYS16QS1aMC05XSspLyxcbiAgICAgIC9yZWRnaWZzXFwuY29tXFwvaWZyXFwvKFthLXpBLVowLTldKykvLFxuICAgICAgL3JlZGdpZnNcXC5jb21cXC8oW2EtekEtWjAtOV0rKSQvLFxuICAgICAgL1xcLyhbYS16QS1aMC05XSspJC9cbiAgICBdXG5cbiAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgcGF0dGVybnMpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKHBhdHRlcm4pXG4gICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoWzFdLnRvTG93ZXJDYXNlKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdJbnZhbGlkIFJlZEdpZnMgVVJMIGZvcm1hdCcpXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgVVJMIGlzIGEgUmVkR2lmcyBVUkxcbiAgICovXG4gIHB1YmxpYyBpc1JlZEdpZnNVcmwodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdXJsLmluY2x1ZGVzKCdyZWRnaWZzLmNvbScpIHx8IHVybC5pbmNsdWRlcygncmVkZ2lmcy5jb20nKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtZXRhZGF0YSBmb3IgYSBzcGVjaWZpYyBnaWYgYnkgSURcbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRHaWZNZXRhZGF0YShnaWZJZDogc3RyaW5nKTogUHJvbWlzZTxSZWRHaWZNZXRhZGF0YT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2dnZXIuaW5mbygnRmV0Y2hpbmcgUmVkR2lmcyBtZXRhZGF0YScsIHsgZ2lmSWQgfSlcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0PHsgZ2lmOiBSZWRHaWZNZXRhZGF0YSB9PihgL2dpZnMvJHtnaWZJZH1gKVxuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLmdpZikge1xuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdHaWYgbm90IGZvdW5kJylcbiAgICAgIH1cblxuICAgICAgbG9nZ2VyLmluZm8oJ1N1Y2Nlc3NmdWxseSBmZXRjaGVkIFJlZEdpZnMgbWV0YWRhdGEnLCB7IFxuICAgICAgICBnaWZJZCwgXG4gICAgICAgIHRpdGxlOiByZXNwb25zZS5naWYudGl0bGUsXG4gICAgICAgIHRhZ3M6IHJlc3BvbnNlLmdpZi50YWdzPy5sZW5ndGggfHwgMFxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmdpZlxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBSZWRHaWZzIG1ldGFkYXRhJywgeyBnaWZJZCwgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtZXRhZGF0YSBmcm9tIFJlZEdpZnMgVVJMXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0TWV0YWRhdGFGcm9tVXJsKHVybDogc3RyaW5nKTogUHJvbWlzZTxSZWRHaWZNZXRhZGF0YT4ge1xuICAgIGlmICghdGhpcy5pc1JlZEdpZnNVcmwodXJsKSkge1xuICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignVVJMIGlzIG5vdCBhIFJlZEdpZnMgVVJMJylcbiAgICB9XG5cbiAgICBjb25zdCBnaWZJZCA9IHRoaXMuZXh0cmFjdEdpZklkKHVybClcbiAgICByZXR1cm4gdGhpcy5nZXRHaWZNZXRhZGF0YShnaWZJZClcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IFJlZEdpZnMgVVJMIHRvIGVtYmVkIGZvcm1hdFxuICAgKiBSZXR1cm5zIHRoZSBpZnJhbWUgVVJMIHRoYXQgc2hvd3MganVzdCB0aGUgZ2lmIHdpdGhvdXQgdGhlIGZ1bGwgd2Vic2l0ZSBpbnRlcmZhY2VcbiAgICovXG4gIHB1YmxpYyBnZXRFbWJlZFVybChnaWZJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBVc2UgdGhlIGlmcmFtZSBVUkwgdGhhdCBzaG93cyBvbmx5IHRoZSBnaWYgY29udGVudFxuICAgIHJldHVybiBgaHR0cHM6Ly93d3cucmVkZ2lmcy5jb20vaWZyLyR7Z2lmSWR9P3Bvc3Rlcj0wYFxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkaXJlY3QgZ2lmIFVSTCBmcm9tIG1ldGFkYXRhXG4gICAqL1xuICBwdWJsaWMgZ2V0RGlyZWN0R2lmVXJsKG1ldGFkYXRhOiBSZWRHaWZNZXRhZGF0YSk6IHN0cmluZyB7XG4gICAgLy8gUmV0dXJuIHRoZSBIRCBVUkwgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgU0QsIG90aGVyd2lzZSBmYWxsYmFjayB0byBlbWJlZFxuICAgIHJldHVybiBtZXRhZGF0YS51cmxzPy5oZCB8fCBtZXRhZGF0YS51cmxzPy5zZCB8fCB0aGlzLmdldEVtYmVkVXJsKG1ldGFkYXRhLmlkKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aHVtYm5haWwgVVJMIGZvciBhIGdpZlxuICAgKi9cbiAgcHVibGljIGdldFRodW1ibmFpbFVybChnaWZJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGh0dHBzOi8vdGh1bWJzNC5yZWRnaWZzLmNvbS8ke2dpZklkfS1wb3N0ZXIuanBnYFxuICB9XG5cbiAgLyoqXG4gICAqIFNlYXJjaCBmb3IgZ2lmcyBieSB0YWdzIG9yIHF1ZXJ5XG4gICAqL1xuICBwdWJsaWMgYXN5bmMgc2VhcmNoR2lmcyhxdWVyeTogc3RyaW5nLCBvcHRpb25zOiB7XG4gICAgcGFnZT86IG51bWJlclxuICAgIGNvdW50PzogbnVtYmVyXG4gICAgb3JkZXI/OiAndHJlbmRpbmcnIHwgJ2xhdGVzdCcgfCAndG9wJ1xuICB9ID0ge30pOiBQcm9taXNlPFJlZEdpZlNlYXJjaFJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHBhZ2UgPSAxLCBjb3VudCA9IDIwLCBvcmRlciA9ICd0cmVuZGluZycgfSA9IG9wdGlvbnNcbiAgICAgIFxuICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgIHNlYXJjaF90ZXh0OiBxdWVyeSxcbiAgICAgICAgb3JkZXIsXG4gICAgICAgIGNvdW50OiBjb3VudC50b1N0cmluZygpLFxuICAgICAgICBwYWdlOiBwYWdlLnRvU3RyaW5nKCksXG4gICAgICB9KVxuXG4gICAgICBsb2dnZXIuaW5mbygnU2VhcmNoaW5nIFJlZEdpZnMnLCB7IHF1ZXJ5LCBvcHRpb25zIH0pXG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdDx7XG4gICAgICAgIGdpZnM6IFJlZEdpZk1ldGFkYXRhW11cbiAgICAgICAgdG90YWw6IG51bWJlclxuICAgICAgICBwYWdlOiBudW1iZXJcbiAgICAgIH0+KGAvZ2lmcy9zZWFyY2g/JHtwYXJhbXN9YClcblxuICAgICAgbG9nZ2VyLmluZm8oJ1JlZEdpZnMgc2VhcmNoIGNvbXBsZXRlZCcsIHsgXG4gICAgICAgIHF1ZXJ5LCBcbiAgICAgICAgcmVzdWx0czogcmVzcG9uc2UuZ2lmcz8ubGVuZ3RoIHx8IDAsXG4gICAgICAgIHRvdGFsOiByZXNwb25zZS50b3RhbCBcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdpZnM6IHJlc3BvbnNlLmdpZnMgfHwgW10sXG4gICAgICAgIHRvdGFsOiByZXNwb25zZS50b3RhbCB8fCAwLFxuICAgICAgICBwYWdlOiByZXNwb25zZS5wYWdlIHx8IHBhZ2UsXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlYXJjaCBSZWRHaWZzJywgeyBxdWVyeSwgb3B0aW9ucywgZXJyb3IgfSlcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0cmVuZGluZyBnaWZzXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0VHJlbmRpbmdHaWZzKGNvdW50OiBudW1iZXIgPSAxMCk6IFByb21pc2U8UmVkR2lmTWV0YWRhdGFbXT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2dnZXIuaW5mbygnRmV0Y2hpbmcgdHJlbmRpbmcgUmVkR2lmcycsIHsgY291bnQgfSlcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0PHsgZ2lmczogUmVkR2lmTWV0YWRhdGFbXSB9PihgL2dpZnMvdHJlbmRpbmc/Y291bnQ9JHtjb3VudH1gKVxuICAgICAgXG4gICAgICBsb2dnZXIuaW5mbygnU3VjY2Vzc2Z1bGx5IGZldGNoZWQgdHJlbmRpbmcgZ2lmcycsIHsgXG4gICAgICAgIGNvdW50OiByZXNwb25zZS5naWZzPy5sZW5ndGggfHwgMCBcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiByZXNwb25zZS5naWZzIHx8IFtdXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGZldGNoIHRyZW5kaW5nIGdpZnMnLCB7IGNvdW50LCBlcnJvciB9KVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgYW5kIHByb2Nlc3MgUmVkR2lmcyBVUkwgZm9yIHVwbG9hZFxuICAgKi9cbiAgcHVibGljIGFzeW5jIHByb2Nlc3NSZWRHaWZzVXJsKHVybDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgZW1iZWRVcmw6IHN0cmluZ1xuICAgIHRodW1ibmFpbDogc3RyaW5nXG4gICAgbWV0YWRhdGE6IFJlZEdpZk1ldGFkYXRhXG4gICAgdGFnczogc3RyaW5nW11cbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IHRoaXMuZ2V0TWV0YWRhdGFGcm9tVXJsKHVybClcbiAgICAgIGNvbnN0IGdpZklkID0gdGhpcy5leHRyYWN0R2lmSWQodXJsKVxuXG4gICAgICAvLyBVc2UgZGlyZWN0IGdpZiBVUkwgZm9yIGJldHRlciBlbWJlZGRpbmcgZXhwZXJpZW5jZVxuICAgICAgY29uc3QgZW1iZWRVcmwgPSB0aGlzLmdldERpcmVjdEdpZlVybChtZXRhZGF0YSlcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW1iZWRVcmwsXG4gICAgICAgIHRodW1ibmFpbDogdGhpcy5nZXRUaHVtYm5haWxVcmwoZ2lmSWQpLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgdGFnczogbWV0YWRhdGEudGFncyB8fCBbXVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBwcm9jZXNzIFJlZEdpZnMgVVJMJywgeyB1cmwsIGVycm9yIH0pXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVkR2lmc1NlcnZpY2UgPSBuZXcgUmVkR2lmc1NlcnZpY2UoKSJdLCJuYW1lcyI6WyJsb2dnZXIiLCJWYWxpZGF0aW9uRXJyb3IiLCJBUElFcnJvciIsIlJlZEdpZnNTZXJ2aWNlIiwiZ2V0VG9rZW4iLCJ0b2tlbiIsIkRhdGUiLCJub3ciLCJ0b2tlbkV4cGlyeSIsImluZm8iLCJyZXNwb25zZSIsImZldGNoIiwiQkFTRV9VUkwiLCJtZXRob2QiLCJoZWFkZXJzIiwib2siLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsImVycm9yIiwibWFrZVJlcXVlc3QiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJlcnJvclRleHQiLCJ0ZXh0IiwiZXh0cmFjdEdpZklkIiwidXJsIiwicGF0dGVybnMiLCJwYXR0ZXJuIiwibWF0Y2giLCJ0b0xvd2VyQ2FzZSIsImlzUmVkR2lmc1VybCIsImluY2x1ZGVzIiwiZ2V0R2lmTWV0YWRhdGEiLCJnaWZJZCIsImdpZiIsInRpdGxlIiwidGFncyIsImxlbmd0aCIsImdldE1ldGFkYXRhRnJvbVVybCIsImdldEVtYmVkVXJsIiwiZ2V0RGlyZWN0R2lmVXJsIiwibWV0YWRhdGEiLCJ1cmxzIiwiaGQiLCJzZCIsImlkIiwiZ2V0VGh1bWJuYWlsVXJsIiwic2VhcmNoR2lmcyIsInF1ZXJ5IiwicGFnZSIsImNvdW50Iiwib3JkZXIiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZWFyY2hfdGV4dCIsInRvU3RyaW5nIiwicmVzdWx0cyIsImdpZnMiLCJ0b3RhbCIsImdldFRyZW5kaW5nR2lmcyIsInByb2Nlc3NSZWRHaWZzVXJsIiwiZW1iZWRVcmwiLCJ0aHVtYm5haWwiLCJyZWRHaWZzU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/services/redgifs.service.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fredgifs%2Fmetadata&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fredgifs%2Fmetadata.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();